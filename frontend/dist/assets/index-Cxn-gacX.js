function $A(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var zA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function WA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Pw={exports:{}},Kh={},kw={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gu=Symbol.for("react.element"),qA=Symbol.for("react.portal"),HA=Symbol.for("react.fragment"),KA=Symbol.for("react.strict_mode"),GA=Symbol.for("react.profiler"),QA=Symbol.for("react.provider"),YA=Symbol.for("react.context"),XA=Symbol.for("react.forward_ref"),JA=Symbol.for("react.suspense"),ZA=Symbol.for("react.memo"),eC=Symbol.for("react.lazy"),$_=Symbol.iterator;function tC(t){return t===null||typeof t!="object"?null:(t=$_&&t[$_]||t["@@iterator"],typeof t=="function"?t:null)}var Rw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bw=Object.assign,xw={};function va(t,e,n){this.props=t,this.context=e,this.refs=xw,this.updater=n||Rw}va.prototype.isReactComponent={};va.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};va.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Nw(){}Nw.prototype=va.prototype;function am(t,e,n){this.props=t,this.context=e,this.refs=xw,this.updater=n||Rw}var lm=am.prototype=new Nw;lm.constructor=am;bw(lm,va.prototype);lm.isPureReactComponent=!0;var z_=Array.isArray,Ow=Object.prototype.hasOwnProperty,um={current:null},Dw={key:!0,ref:!0,__self:!0,__source:!0};function Lw(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Ow.call(e,r)&&!Dw.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:gu,type:t,key:s,ref:o,props:i,_owner:um.current}}function nC(t,e){return{$$typeof:gu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function cm(t){return typeof t=="object"&&t!==null&&t.$$typeof===gu}function rC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var W_=/\/+/g;function tf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?rC(""+t.key):e.toString(36)}function Lc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case gu:case qA:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+tf(o,0):r,z_(i)?(n="",t!=null&&(n=t.replace(W_,"$&/")+"/"),Lc(i,e,n,"",function(h){return h})):i!=null&&(cm(i)&&(i=nC(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(W_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",z_(t))for(var l=0;l<t.length;l++){s=t[l];var c=r+tf(s,l);o+=Lc(s,e,n,c,i)}else if(c=tC(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=r+tf(s,l++),o+=Lc(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function fc(t,e,n){if(t==null)return t;var r=[],i=0;return Lc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function iC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var on={current:null},Vc={transition:null},sC={ReactCurrentDispatcher:on,ReactCurrentBatchConfig:Vc,ReactCurrentOwner:um};function Vw(){throw Error("act(...) is not supported in production builds of React.")}Te.Children={map:fc,forEach:function(t,e,n){fc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return fc(t,function(){e++}),e},toArray:function(t){return fc(t,function(e){return e})||[]},only:function(t){if(!cm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Te.Component=va;Te.Fragment=HA;Te.Profiler=GA;Te.PureComponent=am;Te.StrictMode=KA;Te.Suspense=JA;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sC;Te.act=Vw;Te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=bw({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=um.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)Ow.call(e,c)&&!Dw.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:gu,type:t.type,key:i,ref:s,props:r,_owner:o}};Te.createContext=function(t){return t={$$typeof:YA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:QA,_context:t},t.Consumer=t};Te.createElement=Lw;Te.createFactory=function(t){var e=Lw.bind(null,t);return e.type=t,e};Te.createRef=function(){return{current:null}};Te.forwardRef=function(t){return{$$typeof:XA,render:t}};Te.isValidElement=cm;Te.lazy=function(t){return{$$typeof:eC,_payload:{_status:-1,_result:t},_init:iC}};Te.memo=function(t,e){return{$$typeof:ZA,type:t,compare:e===void 0?null:e}};Te.startTransition=function(t){var e=Vc.transition;Vc.transition={};try{t()}finally{Vc.transition=e}};Te.unstable_act=Vw;Te.useCallback=function(t,e){return on.current.useCallback(t,e)};Te.useContext=function(t){return on.current.useContext(t)};Te.useDebugValue=function(){};Te.useDeferredValue=function(t){return on.current.useDeferredValue(t)};Te.useEffect=function(t,e){return on.current.useEffect(t,e)};Te.useId=function(){return on.current.useId()};Te.useImperativeHandle=function(t,e,n){return on.current.useImperativeHandle(t,e,n)};Te.useInsertionEffect=function(t,e){return on.current.useInsertionEffect(t,e)};Te.useLayoutEffect=function(t,e){return on.current.useLayoutEffect(t,e)};Te.useMemo=function(t,e){return on.current.useMemo(t,e)};Te.useReducer=function(t,e,n){return on.current.useReducer(t,e,n)};Te.useRef=function(t){return on.current.useRef(t)};Te.useState=function(t){return on.current.useState(t)};Te.useSyncExternalStore=function(t,e,n){return on.current.useSyncExternalStore(t,e,n)};Te.useTransition=function(){return on.current.useTransition()};Te.version="18.3.1";kw.exports=Te;var z=kw.exports;const Kr=WA(z),oC=$A({__proto__:null,default:Kr},[z]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aC=z,lC=Symbol.for("react.element"),uC=Symbol.for("react.fragment"),cC=Object.prototype.hasOwnProperty,hC=aC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dC={key:!0,ref:!0,__self:!0,__source:!0};function Mw(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)cC.call(e,r)&&!dC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:lC,type:t,key:s,ref:o,props:i,_owner:hC.current}}Kh.Fragment=uC;Kh.jsx=Mw;Kh.jsxs=Mw;Pw.exports=Kh;var T=Pw.exports,$f={},jw={exports:{}},An={},Fw={exports:{}},Uw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(J,ae){var U=J.length;J.push(ae);e:for(;0<U;){var ce=U-1>>>1,_e=J[ce];if(0<i(_e,ae))J[ce]=ae,J[U]=_e,U=ce;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var ae=J[0],U=J.pop();if(U!==ae){J[0]=U;e:for(var ce=0,_e=J.length,Ee=_e>>>1;ce<Ee;){var ze=2*(ce+1)-1,it=J[ze],Ge=ze+1,Ye=J[Ge];if(0>i(it,U))Ge<_e&&0>i(Ye,it)?(J[ce]=Ye,J[Ge]=U,ce=Ge):(J[ce]=it,J[ze]=U,ce=ze);else if(Ge<_e&&0>i(Ye,U))J[ce]=Ye,J[Ge]=U,ce=Ge;else break e}}return ae}function i(J,ae){var U=J.sortIndex-ae.sortIndex;return U!==0?U:J.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],h=[],m=1,_=null,y=3,k=!1,N=!1,x=!1,D=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(J){for(var ae=n(h);ae!==null;){if(ae.callback===null)r(h);else if(ae.startTime<=J)r(h),ae.sortIndex=ae.expirationTime,e(c,ae);else break;ae=n(h)}}function F(J){if(x=!1,C(J),!N)if(n(c)!==null)N=!0,or(K);else{var ae=n(h);ae!==null&&Gt(F,ae.startTime-J)}}function K(J,ae){N=!1,x&&(x=!1,S(E),E=-1),k=!0;var U=y;try{for(C(ae),_=n(c);_!==null&&(!(_.expirationTime>ae)||J&&!O());){var ce=_.callback;if(typeof ce=="function"){_.callback=null,y=_.priorityLevel;var _e=ce(_.expirationTime<=ae);ae=t.unstable_now(),typeof _e=="function"?_.callback=_e:_===n(c)&&r(c),C(ae)}else r(c);_=n(c)}if(_!==null)var Ee=!0;else{var ze=n(h);ze!==null&&Gt(F,ze.startTime-ae),Ee=!1}return Ee}finally{_=null,y=U,k=!1}}var Q=!1,P=null,E=-1,A=5,R=-1;function O(){return!(t.unstable_now()-R<A)}function M(){if(P!==null){var J=t.unstable_now();R=J;var ae=!0;try{ae=P(!0,J)}finally{ae?b():(Q=!1,P=null)}}else Q=!1}var b;if(typeof I=="function")b=function(){I(M)};else if(typeof MessageChannel<"u"){var kt=new MessageChannel,Pn=kt.port2;kt.port1.onmessage=M,b=function(){Pn.postMessage(null)}}else b=function(){D(M,0)};function or(J){P=J,Q||(Q=!0,b())}function Gt(J,ae){E=D(function(){J(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){N||k||(N=!0,or(K))},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(J){switch(y){case 1:case 2:case 3:var ae=3;break;default:ae=y}var U=y;y=ae;try{return J()}finally{y=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(J,ae){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var U=y;y=J;try{return ae()}finally{y=U}},t.unstable_scheduleCallback=function(J,ae,U){var ce=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?ce+U:ce):U=ce,J){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=U+_e,J={id:m++,callback:ae,priorityLevel:J,startTime:U,expirationTime:_e,sortIndex:-1},U>ce?(J.sortIndex=U,e(h,J),n(c)===null&&J===n(h)&&(x?(S(E),E=-1):x=!0,Gt(F,U-ce))):(J.sortIndex=_e,e(c,J),N||k||(N=!0,or(K))),J},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(J){var ae=y;return function(){var U=y;y=ae;try{return J.apply(this,arguments)}finally{y=U}}}})(Uw);Fw.exports=Uw;var fC=Fw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pC=z,Sn=fC;function G(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bw=new Set,Bl={};function to(t,e){ra(t,e),ra(t+"Capture",e)}function ra(t,e){for(Bl[t]=e,t=0;t<e.length;t++)Bw.add(e[t])}var Jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zf=Object.prototype.hasOwnProperty,mC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,q_={},H_={};function gC(t){return zf.call(H_,t)?!0:zf.call(q_,t)?!1:mC.test(t)?H_[t]=!0:(q_[t]=!0,!1)}function _C(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function yC(t,e,n,r){if(e===null||typeof e>"u"||_C(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function an(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Vt[t]=new an(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Vt[e]=new an(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Vt[t]=new an(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Vt[t]=new an(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Vt[t]=new an(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Vt[t]=new an(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Vt[t]=new an(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Vt[t]=new an(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Vt[t]=new an(t,5,!1,t.toLowerCase(),null,!1,!1)});var hm=/[\-:]([a-z])/g;function dm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(hm,dm);Vt[e]=new an(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(hm,dm);Vt[e]=new an(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(hm,dm);Vt[e]=new an(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Vt[t]=new an(t,1,!1,t.toLowerCase(),null,!1,!1)});Vt.xlinkHref=new an("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Vt[t]=new an(t,1,!1,t.toLowerCase(),null,!0,!0)});function fm(t,e,n,r){var i=Vt.hasOwnProperty(e)?Vt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(yC(e,n,i,r)&&(n=null),r||i===null?gC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var oi=pC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pc=Symbol.for("react.element"),Lo=Symbol.for("react.portal"),Vo=Symbol.for("react.fragment"),pm=Symbol.for("react.strict_mode"),Wf=Symbol.for("react.profiler"),$w=Symbol.for("react.provider"),zw=Symbol.for("react.context"),mm=Symbol.for("react.forward_ref"),qf=Symbol.for("react.suspense"),Hf=Symbol.for("react.suspense_list"),gm=Symbol.for("react.memo"),ki=Symbol.for("react.lazy"),Ww=Symbol.for("react.offscreen"),K_=Symbol.iterator;function al(t){return t===null||typeof t!="object"?null:(t=K_&&t[K_]||t["@@iterator"],typeof t=="function"?t:null)}var Ze=Object.assign,nf;function gl(t){if(nf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);nf=e&&e[1]||""}return`
`+nf+t}var rf=!1;function sf(t,e){if(!t||rf)return"";rf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{rf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?gl(t):""}function vC(t){switch(t.tag){case 5:return gl(t.type);case 16:return gl("Lazy");case 13:return gl("Suspense");case 19:return gl("SuspenseList");case 0:case 2:case 15:return t=sf(t.type,!1),t;case 11:return t=sf(t.type.render,!1),t;case 1:return t=sf(t.type,!0),t;default:return""}}function Kf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Vo:return"Fragment";case Lo:return"Portal";case Wf:return"Profiler";case pm:return"StrictMode";case qf:return"Suspense";case Hf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case zw:return(t.displayName||"Context")+".Consumer";case $w:return(t._context.displayName||"Context")+".Provider";case mm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case gm:return e=t.displayName||null,e!==null?e:Kf(t.type)||"Memo";case ki:e=t._payload,t=t._init;try{return Kf(t(e))}catch{}}return null}function wC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kf(e);case 8:return e===pm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function es(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function EC(t){var e=qw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function mc(t){t._valueTracker||(t._valueTracker=EC(t))}function Hw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=qw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function nh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Gf(t,e){var n=e.checked;return Ze({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function G_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=es(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Kw(t,e){e=e.checked,e!=null&&fm(t,"checked",e,!1)}function Qf(t,e){Kw(t,e);var n=es(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Yf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Yf(t,e.type,es(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Q_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Yf(t,e,n){(e!=="number"||nh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var _l=Array.isArray;function Ko(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+es(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Xf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(G(91));return Ze({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Y_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(G(92));if(_l(n)){if(1<n.length)throw Error(G(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:es(n)}}function Gw(t,e){var n=es(e.value),r=es(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function X_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Qw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Qw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var gc,Yw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(gc=gc||document.createElement("div"),gc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=gc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function $l(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Cl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},TC=["Webkit","ms","Moz","O"];Object.keys(Cl).forEach(function(t){TC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Cl[e]=Cl[t]})});function Xw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Cl.hasOwnProperty(t)&&Cl[t]?(""+e).trim():e+"px"}function Jw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Xw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var IC=Ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zf(t,e){if(e){if(IC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(G(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(G(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(G(61))}if(e.style!=null&&typeof e.style!="object")throw Error(G(62))}}function ep(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tp=null;function _m(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var np=null,Go=null,Qo=null;function J_(t){if(t=vu(t)){if(typeof np!="function")throw Error(G(280));var e=t.stateNode;e&&(e=Jh(e),np(t.stateNode,t.type,e))}}function Zw(t){Go?Qo?Qo.push(t):Qo=[t]:Go=t}function eE(){if(Go){var t=Go,e=Qo;if(Qo=Go=null,J_(t),e)for(t=0;t<e.length;t++)J_(e[t])}}function tE(t,e){return t(e)}function nE(){}var of=!1;function rE(t,e,n){if(of)return t(e,n);of=!0;try{return tE(t,e,n)}finally{of=!1,(Go!==null||Qo!==null)&&(nE(),eE())}}function zl(t,e){var n=t.stateNode;if(n===null)return null;var r=Jh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(G(231,e,typeof n));return n}var rp=!1;if(Jr)try{var ll={};Object.defineProperty(ll,"passive",{get:function(){rp=!0}}),window.addEventListener("test",ll,ll),window.removeEventListener("test",ll,ll)}catch{rp=!1}function SC(t,e,n,r,i,s,o,l,c){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(m){this.onError(m)}}var Pl=!1,rh=null,ih=!1,ip=null,AC={onError:function(t){Pl=!0,rh=t}};function CC(t,e,n,r,i,s,o,l,c){Pl=!1,rh=null,SC.apply(AC,arguments)}function PC(t,e,n,r,i,s,o,l,c){if(CC.apply(this,arguments),Pl){if(Pl){var h=rh;Pl=!1,rh=null}else throw Error(G(198));ih||(ih=!0,ip=h)}}function no(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function iE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Z_(t){if(no(t)!==t)throw Error(G(188))}function kC(t){var e=t.alternate;if(!e){if(e=no(t),e===null)throw Error(G(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Z_(i),t;if(s===r)return Z_(i),e;s=s.sibling}throw Error(G(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?t:e}function sE(t){return t=kC(t),t!==null?oE(t):null}function oE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=oE(t);if(e!==null)return e;t=t.sibling}return null}var aE=Sn.unstable_scheduleCallback,ey=Sn.unstable_cancelCallback,RC=Sn.unstable_shouldYield,bC=Sn.unstable_requestPaint,lt=Sn.unstable_now,xC=Sn.unstable_getCurrentPriorityLevel,ym=Sn.unstable_ImmediatePriority,lE=Sn.unstable_UserBlockingPriority,sh=Sn.unstable_NormalPriority,NC=Sn.unstable_LowPriority,uE=Sn.unstable_IdlePriority,Gh=null,yr=null;function OC(t){if(yr&&typeof yr.onCommitFiberRoot=="function")try{yr.onCommitFiberRoot(Gh,t,void 0,(t.current.flags&128)===128)}catch{}}var tr=Math.clz32?Math.clz32:VC,DC=Math.log,LC=Math.LN2;function VC(t){return t>>>=0,t===0?32:31-(DC(t)/LC|0)|0}var _c=64,yc=4194304;function yl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function oh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=yl(l):(s&=o,s!==0&&(r=yl(s)))}else o=n&~i,o!==0?r=yl(o):s!==0&&(r=yl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-tr(e),i=1<<n,r|=t[n],e&=~i;return r}function MC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-tr(s),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=MC(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function sp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function cE(){var t=_c;return _c<<=1,!(_c&4194240)&&(_c=64),t}function af(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function _u(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-tr(e),t[e]=n}function FC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-tr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function vm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-tr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Le=0;function hE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var dE,wm,fE,pE,mE,op=!1,vc=[],Ui=null,Bi=null,$i=null,Wl=new Map,ql=new Map,bi=[],UC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ty(t,e){switch(t){case"focusin":case"focusout":Ui=null;break;case"dragenter":case"dragleave":Bi=null;break;case"mouseover":case"mouseout":$i=null;break;case"pointerover":case"pointerout":Wl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(e.pointerId)}}function ul(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=vu(e),e!==null&&wm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function BC(t,e,n,r,i){switch(e){case"focusin":return Ui=ul(Ui,t,e,n,r,i),!0;case"dragenter":return Bi=ul(Bi,t,e,n,r,i),!0;case"mouseover":return $i=ul($i,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Wl.set(s,ul(Wl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ql.set(s,ul(ql.get(s)||null,t,e,n,r,i)),!0}return!1}function gE(t){var e=Vs(t.target);if(e!==null){var n=no(e);if(n!==null){if(e=n.tag,e===13){if(e=iE(n),e!==null){t.blockedOn=e,mE(t.priority,function(){fE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ap(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);tp=r,n.target.dispatchEvent(r),tp=null}else return e=vu(n),e!==null&&wm(e),t.blockedOn=n,!1;e.shift()}return!0}function ny(t,e,n){Mc(t)&&n.delete(e)}function $C(){op=!1,Ui!==null&&Mc(Ui)&&(Ui=null),Bi!==null&&Mc(Bi)&&(Bi=null),$i!==null&&Mc($i)&&($i=null),Wl.forEach(ny),ql.forEach(ny)}function cl(t,e){t.blockedOn===e&&(t.blockedOn=null,op||(op=!0,Sn.unstable_scheduleCallback(Sn.unstable_NormalPriority,$C)))}function Hl(t){function e(i){return cl(i,t)}if(0<vc.length){cl(vc[0],t);for(var n=1;n<vc.length;n++){var r=vc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ui!==null&&cl(Ui,t),Bi!==null&&cl(Bi,t),$i!==null&&cl($i,t),Wl.forEach(e),ql.forEach(e),n=0;n<bi.length;n++)r=bi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<bi.length&&(n=bi[0],n.blockedOn===null);)gE(n),n.blockedOn===null&&bi.shift()}var Yo=oi.ReactCurrentBatchConfig,ah=!0;function zC(t,e,n,r){var i=Le,s=Yo.transition;Yo.transition=null;try{Le=1,Em(t,e,n,r)}finally{Le=i,Yo.transition=s}}function WC(t,e,n,r){var i=Le,s=Yo.transition;Yo.transition=null;try{Le=4,Em(t,e,n,r)}finally{Le=i,Yo.transition=s}}function Em(t,e,n,r){if(ah){var i=ap(t,e,n,r);if(i===null)_f(t,e,r,lh,n),ty(t,r);else if(BC(i,t,e,n,r))r.stopPropagation();else if(ty(t,r),e&4&&-1<UC.indexOf(t)){for(;i!==null;){var s=vu(i);if(s!==null&&dE(s),s=ap(t,e,n,r),s===null&&_f(t,e,r,lh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else _f(t,e,r,null,n)}}var lh=null;function ap(t,e,n,r){if(lh=null,t=_m(r),t=Vs(t),t!==null)if(e=no(t),e===null)t=null;else if(n=e.tag,n===13){if(t=iE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return lh=t,null}function _E(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xC()){case ym:return 1;case lE:return 4;case sh:case NC:return 16;case uE:return 536870912;default:return 16}default:return 16}}var Li=null,Tm=null,jc=null;function yE(){if(jc)return jc;var t,e=Tm,n=e.length,r,i="value"in Li?Li.value:Li.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return jc=i.slice(t,1<r?1-r:void 0)}function Fc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function wc(){return!0}function ry(){return!1}function Cn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?wc:ry,this.isPropagationStopped=ry,this}return Ze(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wc)},persist:function(){},isPersistent:wc}),e}var wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Im=Cn(wa),yu=Ze({},wa,{view:0,detail:0}),qC=Cn(yu),lf,uf,hl,Qh=Ze({},yu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hl&&(hl&&t.type==="mousemove"?(lf=t.screenX-hl.screenX,uf=t.screenY-hl.screenY):uf=lf=0,hl=t),lf)},movementY:function(t){return"movementY"in t?t.movementY:uf}}),iy=Cn(Qh),HC=Ze({},Qh,{dataTransfer:0}),KC=Cn(HC),GC=Ze({},yu,{relatedTarget:0}),cf=Cn(GC),QC=Ze({},wa,{animationName:0,elapsedTime:0,pseudoElement:0}),YC=Cn(QC),XC=Ze({},wa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),JC=Cn(XC),ZC=Ze({},wa,{data:0}),sy=Cn(ZC),eP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=nP[t])?!!e[t]:!1}function Sm(){return rP}var iP=Ze({},yu,{key:function(t){if(t.key){var e=eP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Fc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sm,charCode:function(t){return t.type==="keypress"?Fc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sP=Cn(iP),oP=Ze({},Qh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oy=Cn(oP),aP=Ze({},yu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sm}),lP=Cn(aP),uP=Ze({},wa,{propertyName:0,elapsedTime:0,pseudoElement:0}),cP=Cn(uP),hP=Ze({},Qh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),dP=Cn(hP),fP=[9,13,27,32],Am=Jr&&"CompositionEvent"in window,kl=null;Jr&&"documentMode"in document&&(kl=document.documentMode);var pP=Jr&&"TextEvent"in window&&!kl,vE=Jr&&(!Am||kl&&8<kl&&11>=kl),ay=" ",ly=!1;function wE(t,e){switch(t){case"keyup":return fP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function EE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mo=!1;function mP(t,e){switch(t){case"compositionend":return EE(e);case"keypress":return e.which!==32?null:(ly=!0,ay);case"textInput":return t=e.data,t===ay&&ly?null:t;default:return null}}function gP(t,e){if(Mo)return t==="compositionend"||!Am&&wE(t,e)?(t=yE(),jc=Tm=Li=null,Mo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return vE&&e.locale!=="ko"?null:e.data;default:return null}}var _P={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_P[t.type]:e==="textarea"}function TE(t,e,n,r){Zw(r),e=uh(e,"onChange"),0<e.length&&(n=new Im("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Rl=null,Kl=null;function yP(t){OE(t,0)}function Yh(t){var e=Uo(t);if(Hw(e))return t}function vP(t,e){if(t==="change")return e}var IE=!1;if(Jr){var hf;if(Jr){var df="oninput"in document;if(!df){var cy=document.createElement("div");cy.setAttribute("oninput","return;"),df=typeof cy.oninput=="function"}hf=df}else hf=!1;IE=hf&&(!document.documentMode||9<document.documentMode)}function hy(){Rl&&(Rl.detachEvent("onpropertychange",SE),Kl=Rl=null)}function SE(t){if(t.propertyName==="value"&&Yh(Kl)){var e=[];TE(e,Kl,t,_m(t)),rE(yP,e)}}function wP(t,e,n){t==="focusin"?(hy(),Rl=e,Kl=n,Rl.attachEvent("onpropertychange",SE)):t==="focusout"&&hy()}function EP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yh(Kl)}function TP(t,e){if(t==="click")return Yh(e)}function IP(t,e){if(t==="input"||t==="change")return Yh(e)}function SP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ir=typeof Object.is=="function"?Object.is:SP;function Gl(t,e){if(ir(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!zf.call(e,i)||!ir(t[i],e[i]))return!1}return!0}function dy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fy(t,e){var n=dy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=dy(n)}}function AE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?AE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function CE(){for(var t=window,e=nh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=nh(t.document)}return e}function Cm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function AP(t){var e=CE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&AE(n.ownerDocument.documentElement,n)){if(r!==null&&Cm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=fy(n,s);var o=fy(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var CP=Jr&&"documentMode"in document&&11>=document.documentMode,jo=null,lp=null,bl=null,up=!1;function py(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;up||jo==null||jo!==nh(r)||(r=jo,"selectionStart"in r&&Cm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),bl&&Gl(bl,r)||(bl=r,r=uh(lp,"onSelect"),0<r.length&&(e=new Im("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=jo)))}function Ec(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Fo={animationend:Ec("Animation","AnimationEnd"),animationiteration:Ec("Animation","AnimationIteration"),animationstart:Ec("Animation","AnimationStart"),transitionend:Ec("Transition","TransitionEnd")},ff={},PE={};Jr&&(PE=document.createElement("div").style,"AnimationEvent"in window||(delete Fo.animationend.animation,delete Fo.animationiteration.animation,delete Fo.animationstart.animation),"TransitionEvent"in window||delete Fo.transitionend.transition);function Xh(t){if(ff[t])return ff[t];if(!Fo[t])return t;var e=Fo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in PE)return ff[t]=e[n];return t}var kE=Xh("animationend"),RE=Xh("animationiteration"),bE=Xh("animationstart"),xE=Xh("transitionend"),NE=new Map,my="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function os(t,e){NE.set(t,e),to(e,[t])}for(var pf=0;pf<my.length;pf++){var mf=my[pf],PP=mf.toLowerCase(),kP=mf[0].toUpperCase()+mf.slice(1);os(PP,"on"+kP)}os(kE,"onAnimationEnd");os(RE,"onAnimationIteration");os(bE,"onAnimationStart");os("dblclick","onDoubleClick");os("focusin","onFocus");os("focusout","onBlur");os(xE,"onTransitionEnd");ra("onMouseEnter",["mouseout","mouseover"]);ra("onMouseLeave",["mouseout","mouseover"]);ra("onPointerEnter",["pointerout","pointerover"]);ra("onPointerLeave",["pointerout","pointerover"]);to("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));to("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));to("onBeforeInput",["compositionend","keypress","textInput","paste"]);to("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));to("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));to("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RP=new Set("cancel close invalid load scroll toggle".split(" ").concat(vl));function gy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,PC(r,e,void 0,t),t.currentTarget=null}function OE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,h=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;gy(i,l,h),s=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,h=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;gy(i,l,h),s=c}}}if(ih)throw t=ip,ih=!1,ip=null,t}function We(t,e){var n=e[pp];n===void 0&&(n=e[pp]=new Set);var r=t+"__bubble";n.has(r)||(DE(e,t,2,!1),n.add(r))}function gf(t,e,n){var r=0;e&&(r|=4),DE(n,t,r,e)}var Tc="_reactListening"+Math.random().toString(36).slice(2);function Ql(t){if(!t[Tc]){t[Tc]=!0,Bw.forEach(function(n){n!=="selectionchange"&&(RP.has(n)||gf(n,!1,t),gf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Tc]||(e[Tc]=!0,gf("selectionchange",!1,e))}}function DE(t,e,n,r){switch(_E(e)){case 1:var i=zC;break;case 4:i=WC;break;default:i=Em}n=i.bind(null,e,n,t),i=void 0,!rp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function _f(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Vs(l),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}l=l.parentNode}}r=r.return}rE(function(){var h=s,m=_m(n),_=[];e:{var y=NE.get(t);if(y!==void 0){var k=Im,N=t;switch(t){case"keypress":if(Fc(n)===0)break e;case"keydown":case"keyup":k=sP;break;case"focusin":N="focus",k=cf;break;case"focusout":N="blur",k=cf;break;case"beforeblur":case"afterblur":k=cf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=iy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=KC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=lP;break;case kE:case RE:case bE:k=YC;break;case xE:k=cP;break;case"scroll":k=qC;break;case"wheel":k=dP;break;case"copy":case"cut":case"paste":k=JC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=oy}var x=(e&4)!==0,D=!x&&t==="scroll",S=x?y!==null?y+"Capture":null:y;x=[];for(var I=h,C;I!==null;){C=I;var F=C.stateNode;if(C.tag===5&&F!==null&&(C=F,S!==null&&(F=zl(I,S),F!=null&&x.push(Yl(I,F,C)))),D)break;I=I.return}0<x.length&&(y=new k(y,N,null,n,m),_.push({event:y,listeners:x}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",y&&n!==tp&&(N=n.relatedTarget||n.fromElement)&&(Vs(N)||N[Zr]))break e;if((k||y)&&(y=m.window===m?m:(y=m.ownerDocument)?y.defaultView||y.parentWindow:window,k?(N=n.relatedTarget||n.toElement,k=h,N=N?Vs(N):null,N!==null&&(D=no(N),N!==D||N.tag!==5&&N.tag!==6)&&(N=null)):(k=null,N=h),k!==N)){if(x=iy,F="onMouseLeave",S="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(x=oy,F="onPointerLeave",S="onPointerEnter",I="pointer"),D=k==null?y:Uo(k),C=N==null?y:Uo(N),y=new x(F,I+"leave",k,n,m),y.target=D,y.relatedTarget=C,F=null,Vs(m)===h&&(x=new x(S,I+"enter",N,n,m),x.target=C,x.relatedTarget=D,F=x),D=F,k&&N)t:{for(x=k,S=N,I=0,C=x;C;C=xo(C))I++;for(C=0,F=S;F;F=xo(F))C++;for(;0<I-C;)x=xo(x),I--;for(;0<C-I;)S=xo(S),C--;for(;I--;){if(x===S||S!==null&&x===S.alternate)break t;x=xo(x),S=xo(S)}x=null}else x=null;k!==null&&_y(_,y,k,x,!1),N!==null&&D!==null&&_y(_,D,N,x,!0)}}e:{if(y=h?Uo(h):window,k=y.nodeName&&y.nodeName.toLowerCase(),k==="select"||k==="input"&&y.type==="file")var K=vP;else if(uy(y))if(IE)K=IP;else{K=EP;var Q=wP}else(k=y.nodeName)&&k.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(K=TP);if(K&&(K=K(t,h))){TE(_,K,n,m);break e}Q&&Q(t,y,h),t==="focusout"&&(Q=y._wrapperState)&&Q.controlled&&y.type==="number"&&Yf(y,"number",y.value)}switch(Q=h?Uo(h):window,t){case"focusin":(uy(Q)||Q.contentEditable==="true")&&(jo=Q,lp=h,bl=null);break;case"focusout":bl=lp=jo=null;break;case"mousedown":up=!0;break;case"contextmenu":case"mouseup":case"dragend":up=!1,py(_,n,m);break;case"selectionchange":if(CP)break;case"keydown":case"keyup":py(_,n,m)}var P;if(Am)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Mo?wE(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(vE&&n.locale!=="ko"&&(Mo||E!=="onCompositionStart"?E==="onCompositionEnd"&&Mo&&(P=yE()):(Li=m,Tm="value"in Li?Li.value:Li.textContent,Mo=!0)),Q=uh(h,E),0<Q.length&&(E=new sy(E,t,null,n,m),_.push({event:E,listeners:Q}),P?E.data=P:(P=EE(n),P!==null&&(E.data=P)))),(P=pP?mP(t,n):gP(t,n))&&(h=uh(h,"onBeforeInput"),0<h.length&&(m=new sy("onBeforeInput","beforeinput",null,n,m),_.push({event:m,listeners:h}),m.data=P))}OE(_,e)})}function Yl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function uh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=zl(t,n),s!=null&&r.unshift(Yl(t,s,i)),s=zl(t,e),s!=null&&r.push(Yl(t,s,i))),t=t.return}return r}function xo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function _y(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,h=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&h!==null&&(l=h,i?(c=zl(n,s),c!=null&&o.unshift(Yl(n,c,l))):i||(c=zl(n,s),c!=null&&o.push(Yl(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var bP=/\r\n?/g,xP=/\u0000|\uFFFD/g;function yy(t){return(typeof t=="string"?t:""+t).replace(bP,`
`).replace(xP,"")}function Ic(t,e,n){if(e=yy(e),yy(t)!==e&&n)throw Error(G(425))}function ch(){}var cp=null,hp=null;function dp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var fp=typeof setTimeout=="function"?setTimeout:void 0,NP=typeof clearTimeout=="function"?clearTimeout:void 0,vy=typeof Promise=="function"?Promise:void 0,OP=typeof queueMicrotask=="function"?queueMicrotask:typeof vy<"u"?function(t){return vy.resolve(null).then(t).catch(DP)}:fp;function DP(t){setTimeout(function(){throw t})}function yf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Hl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Hl(e)}function zi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function wy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ea=Math.random().toString(36).slice(2),_r="__reactFiber$"+Ea,Xl="__reactProps$"+Ea,Zr="__reactContainer$"+Ea,pp="__reactEvents$"+Ea,LP="__reactListeners$"+Ea,VP="__reactHandles$"+Ea;function Vs(t){var e=t[_r];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Zr]||n[_r]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=wy(t);t!==null;){if(n=t[_r])return n;t=wy(t)}return e}t=n,n=t.parentNode}return null}function vu(t){return t=t[_r]||t[Zr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Uo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(G(33))}function Jh(t){return t[Xl]||null}var mp=[],Bo=-1;function as(t){return{current:t}}function He(t){0>Bo||(t.current=mp[Bo],mp[Bo]=null,Bo--)}function $e(t,e){Bo++,mp[Bo]=t.current,t.current=e}var ts={},Ht=as(ts),fn=as(!1),zs=ts;function ia(t,e){var n=t.type.contextTypes;if(!n)return ts;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function pn(t){return t=t.childContextTypes,t!=null}function hh(){He(fn),He(Ht)}function Ey(t,e,n){if(Ht.current!==ts)throw Error(G(168));$e(Ht,e),$e(fn,n)}function LE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(G(108,wC(t)||"Unknown",i));return Ze({},n,r)}function dh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ts,zs=Ht.current,$e(Ht,t),$e(fn,fn.current),!0}function Ty(t,e,n){var r=t.stateNode;if(!r)throw Error(G(169));n?(t=LE(t,e,zs),r.__reactInternalMemoizedMergedChildContext=t,He(fn),He(Ht),$e(Ht,t)):He(fn),$e(fn,n)}var Ur=null,Zh=!1,vf=!1;function VE(t){Ur===null?Ur=[t]:Ur.push(t)}function MP(t){Zh=!0,VE(t)}function ls(){if(!vf&&Ur!==null){vf=!0;var t=0,e=Le;try{var n=Ur;for(Le=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ur=null,Zh=!1}catch(i){throw Ur!==null&&(Ur=Ur.slice(t+1)),aE(ym,ls),i}finally{Le=e,vf=!1}}return null}var $o=[],zo=0,fh=null,ph=0,Vn=[],Mn=0,Ws=null,$r=1,zr="";function Os(t,e){$o[zo++]=ph,$o[zo++]=fh,fh=t,ph=e}function ME(t,e,n){Vn[Mn++]=$r,Vn[Mn++]=zr,Vn[Mn++]=Ws,Ws=t;var r=$r;t=zr;var i=32-tr(r)-1;r&=~(1<<i),n+=1;var s=32-tr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$r=1<<32-tr(e)+i|n<<i|r,zr=s+t}else $r=1<<s|n<<i|r,zr=t}function Pm(t){t.return!==null&&(Os(t,1),ME(t,1,0))}function km(t){for(;t===fh;)fh=$o[--zo],$o[zo]=null,ph=$o[--zo],$o[zo]=null;for(;t===Ws;)Ws=Vn[--Mn],Vn[Mn]=null,zr=Vn[--Mn],Vn[Mn]=null,$r=Vn[--Mn],Vn[Mn]=null}var In=null,En=null,Qe=!1,er=null;function jE(t,e){var n=jn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Iy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,In=t,En=zi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,In=t,En=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ws!==null?{id:$r,overflow:zr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=jn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,In=t,En=null,!0):!1;default:return!1}}function gp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function _p(t){if(Qe){var e=En;if(e){var n=e;if(!Iy(t,e)){if(gp(t))throw Error(G(418));e=zi(n.nextSibling);var r=In;e&&Iy(t,e)?jE(r,n):(t.flags=t.flags&-4097|2,Qe=!1,In=t)}}else{if(gp(t))throw Error(G(418));t.flags=t.flags&-4097|2,Qe=!1,In=t}}}function Sy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;In=t}function Sc(t){if(t!==In)return!1;if(!Qe)return Sy(t),Qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!dp(t.type,t.memoizedProps)),e&&(e=En)){if(gp(t))throw FE(),Error(G(418));for(;e;)jE(t,e),e=zi(e.nextSibling)}if(Sy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){En=zi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}En=null}}else En=In?zi(t.stateNode.nextSibling):null;return!0}function FE(){for(var t=En;t;)t=zi(t.nextSibling)}function sa(){En=In=null,Qe=!1}function Rm(t){er===null?er=[t]:er.push(t)}var jP=oi.ReactCurrentBatchConfig;function dl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,t))}return t}function Ac(t,e){throw t=Object.prototype.toString.call(e),Error(G(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ay(t){var e=t._init;return e(t._payload)}function UE(t){function e(S,I){if(t){var C=S.deletions;C===null?(S.deletions=[I],S.flags|=16):C.push(I)}}function n(S,I){if(!t)return null;for(;I!==null;)e(S,I),I=I.sibling;return null}function r(S,I){for(S=new Map;I!==null;)I.key!==null?S.set(I.key,I):S.set(I.index,I),I=I.sibling;return S}function i(S,I){return S=Ki(S,I),S.index=0,S.sibling=null,S}function s(S,I,C){return S.index=C,t?(C=S.alternate,C!==null?(C=C.index,C<I?(S.flags|=2,I):C):(S.flags|=2,I)):(S.flags|=1048576,I)}function o(S){return t&&S.alternate===null&&(S.flags|=2),S}function l(S,I,C,F){return I===null||I.tag!==6?(I=Cf(C,S.mode,F),I.return=S,I):(I=i(I,C),I.return=S,I)}function c(S,I,C,F){var K=C.type;return K===Vo?m(S,I,C.props.children,F,C.key):I!==null&&(I.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===ki&&Ay(K)===I.type)?(F=i(I,C.props),F.ref=dl(S,I,C),F.return=S,F):(F=Hc(C.type,C.key,C.props,null,S.mode,F),F.ref=dl(S,I,C),F.return=S,F)}function h(S,I,C,F){return I===null||I.tag!==4||I.stateNode.containerInfo!==C.containerInfo||I.stateNode.implementation!==C.implementation?(I=Pf(C,S.mode,F),I.return=S,I):(I=i(I,C.children||[]),I.return=S,I)}function m(S,I,C,F,K){return I===null||I.tag!==7?(I=Bs(C,S.mode,F,K),I.return=S,I):(I=i(I,C),I.return=S,I)}function _(S,I,C){if(typeof I=="string"&&I!==""||typeof I=="number")return I=Cf(""+I,S.mode,C),I.return=S,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case pc:return C=Hc(I.type,I.key,I.props,null,S.mode,C),C.ref=dl(S,null,I),C.return=S,C;case Lo:return I=Pf(I,S.mode,C),I.return=S,I;case ki:var F=I._init;return _(S,F(I._payload),C)}if(_l(I)||al(I))return I=Bs(I,S.mode,C,null),I.return=S,I;Ac(S,I)}return null}function y(S,I,C,F){var K=I!==null?I.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return K!==null?null:l(S,I,""+C,F);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case pc:return C.key===K?c(S,I,C,F):null;case Lo:return C.key===K?h(S,I,C,F):null;case ki:return K=C._init,y(S,I,K(C._payload),F)}if(_l(C)||al(C))return K!==null?null:m(S,I,C,F,null);Ac(S,C)}return null}function k(S,I,C,F,K){if(typeof F=="string"&&F!==""||typeof F=="number")return S=S.get(C)||null,l(I,S,""+F,K);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case pc:return S=S.get(F.key===null?C:F.key)||null,c(I,S,F,K);case Lo:return S=S.get(F.key===null?C:F.key)||null,h(I,S,F,K);case ki:var Q=F._init;return k(S,I,C,Q(F._payload),K)}if(_l(F)||al(F))return S=S.get(C)||null,m(I,S,F,K,null);Ac(I,F)}return null}function N(S,I,C,F){for(var K=null,Q=null,P=I,E=I=0,A=null;P!==null&&E<C.length;E++){P.index>E?(A=P,P=null):A=P.sibling;var R=y(S,P,C[E],F);if(R===null){P===null&&(P=A);break}t&&P&&R.alternate===null&&e(S,P),I=s(R,I,E),Q===null?K=R:Q.sibling=R,Q=R,P=A}if(E===C.length)return n(S,P),Qe&&Os(S,E),K;if(P===null){for(;E<C.length;E++)P=_(S,C[E],F),P!==null&&(I=s(P,I,E),Q===null?K=P:Q.sibling=P,Q=P);return Qe&&Os(S,E),K}for(P=r(S,P);E<C.length;E++)A=k(P,S,E,C[E],F),A!==null&&(t&&A.alternate!==null&&P.delete(A.key===null?E:A.key),I=s(A,I,E),Q===null?K=A:Q.sibling=A,Q=A);return t&&P.forEach(function(O){return e(S,O)}),Qe&&Os(S,E),K}function x(S,I,C,F){var K=al(C);if(typeof K!="function")throw Error(G(150));if(C=K.call(C),C==null)throw Error(G(151));for(var Q=K=null,P=I,E=I=0,A=null,R=C.next();P!==null&&!R.done;E++,R=C.next()){P.index>E?(A=P,P=null):A=P.sibling;var O=y(S,P,R.value,F);if(O===null){P===null&&(P=A);break}t&&P&&O.alternate===null&&e(S,P),I=s(O,I,E),Q===null?K=O:Q.sibling=O,Q=O,P=A}if(R.done)return n(S,P),Qe&&Os(S,E),K;if(P===null){for(;!R.done;E++,R=C.next())R=_(S,R.value,F),R!==null&&(I=s(R,I,E),Q===null?K=R:Q.sibling=R,Q=R);return Qe&&Os(S,E),K}for(P=r(S,P);!R.done;E++,R=C.next())R=k(P,S,E,R.value,F),R!==null&&(t&&R.alternate!==null&&P.delete(R.key===null?E:R.key),I=s(R,I,E),Q===null?K=R:Q.sibling=R,Q=R);return t&&P.forEach(function(M){return e(S,M)}),Qe&&Os(S,E),K}function D(S,I,C,F){if(typeof C=="object"&&C!==null&&C.type===Vo&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case pc:e:{for(var K=C.key,Q=I;Q!==null;){if(Q.key===K){if(K=C.type,K===Vo){if(Q.tag===7){n(S,Q.sibling),I=i(Q,C.props.children),I.return=S,S=I;break e}}else if(Q.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===ki&&Ay(K)===Q.type){n(S,Q.sibling),I=i(Q,C.props),I.ref=dl(S,Q,C),I.return=S,S=I;break e}n(S,Q);break}else e(S,Q);Q=Q.sibling}C.type===Vo?(I=Bs(C.props.children,S.mode,F,C.key),I.return=S,S=I):(F=Hc(C.type,C.key,C.props,null,S.mode,F),F.ref=dl(S,I,C),F.return=S,S=F)}return o(S);case Lo:e:{for(Q=C.key;I!==null;){if(I.key===Q)if(I.tag===4&&I.stateNode.containerInfo===C.containerInfo&&I.stateNode.implementation===C.implementation){n(S,I.sibling),I=i(I,C.children||[]),I.return=S,S=I;break e}else{n(S,I);break}else e(S,I);I=I.sibling}I=Pf(C,S.mode,F),I.return=S,S=I}return o(S);case ki:return Q=C._init,D(S,I,Q(C._payload),F)}if(_l(C))return N(S,I,C,F);if(al(C))return x(S,I,C,F);Ac(S,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,I!==null&&I.tag===6?(n(S,I.sibling),I=i(I,C),I.return=S,S=I):(n(S,I),I=Cf(C,S.mode,F),I.return=S,S=I),o(S)):n(S,I)}return D}var oa=UE(!0),BE=UE(!1),mh=as(null),gh=null,Wo=null,bm=null;function xm(){bm=Wo=gh=null}function Nm(t){var e=mh.current;He(mh),t._currentValue=e}function yp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Xo(t,e){gh=t,bm=Wo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(dn=!0),t.firstContext=null)}function $n(t){var e=t._currentValue;if(bm!==t)if(t={context:t,memoizedValue:e,next:null},Wo===null){if(gh===null)throw Error(G(308));Wo=t,gh.dependencies={lanes:0,firstContext:t}}else Wo=Wo.next=t;return e}var Ms=null;function Om(t){Ms===null?Ms=[t]:Ms.push(t)}function $E(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Om(e)):(n.next=i.next,i.next=n),e.interleaved=n,ei(t,r)}function ei(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ri=!1;function Dm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Gr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Wi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Re&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ei(t,n)}return i=r.interleaved,i===null?(e.next=e,Om(r)):(e.next=i.next,i.next=e),r.interleaved=e,ei(t,n)}function Uc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,vm(t,n)}}function Cy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function _h(t,e,n,r){var i=t.updateQueue;Ri=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,h=c.next;c.next=null,o===null?s=h:o.next=h,o=c;var m=t.alternate;m!==null&&(m=m.updateQueue,l=m.lastBaseUpdate,l!==o&&(l===null?m.firstBaseUpdate=h:l.next=h,m.lastBaseUpdate=c))}if(s!==null){var _=i.baseState;o=0,m=h=c=null,l=s;do{var y=l.lane,k=l.eventTime;if((r&y)===y){m!==null&&(m=m.next={eventTime:k,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var N=t,x=l;switch(y=e,k=n,x.tag){case 1:if(N=x.payload,typeof N=="function"){_=N.call(k,_,y);break e}_=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=x.payload,y=typeof N=="function"?N.call(k,_,y):N,y==null)break e;_=Ze({},_,y);break e;case 2:Ri=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,y=i.effects,y===null?i.effects=[l]:y.push(l))}else k={eventTime:k,lane:y,tag:l.tag,payload:l.payload,callback:l.callback,next:null},m===null?(h=m=k,c=_):m=m.next=k,o|=y;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;y=l,l=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);if(m===null&&(c=_),i.baseState=c,i.firstBaseUpdate=h,i.lastBaseUpdate=m,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Hs|=o,t.lanes=o,t.memoizedState=_}}function Py(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(G(191,i));i.call(r)}}}var wu={},vr=as(wu),Jl=as(wu),Zl=as(wu);function js(t){if(t===wu)throw Error(G(174));return t}function Lm(t,e){switch($e(Zl,e),$e(Jl,t),$e(vr,wu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Jf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Jf(e,t)}He(vr),$e(vr,e)}function aa(){He(vr),He(Jl),He(Zl)}function WE(t){js(Zl.current);var e=js(vr.current),n=Jf(e,t.type);e!==n&&($e(Jl,t),$e(vr,n))}function Vm(t){Jl.current===t&&(He(vr),He(Jl))}var Xe=as(0);function yh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wf=[];function Mm(){for(var t=0;t<wf.length;t++)wf[t]._workInProgressVersionPrimary=null;wf.length=0}var Bc=oi.ReactCurrentDispatcher,Ef=oi.ReactCurrentBatchConfig,qs=0,Je=null,gt=null,Ct=null,vh=!1,xl=!1,eu=0,FP=0;function Ut(){throw Error(G(321))}function jm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ir(t[n],e[n]))return!1;return!0}function Fm(t,e,n,r,i,s){if(qs=s,Je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Bc.current=t===null||t.memoizedState===null?zP:WP,t=n(r,i),xl){s=0;do{if(xl=!1,eu=0,25<=s)throw Error(G(301));s+=1,Ct=gt=null,e.updateQueue=null,Bc.current=qP,t=n(r,i)}while(xl)}if(Bc.current=wh,e=gt!==null&&gt.next!==null,qs=0,Ct=gt=Je=null,vh=!1,e)throw Error(G(300));return t}function Um(){var t=eu!==0;return eu=0,t}function gr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Je.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function zn(){if(gt===null){var t=Je.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var e=Ct===null?Je.memoizedState:Ct.next;if(e!==null)Ct=e,gt=t;else{if(t===null)throw Error(G(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Ct===null?Je.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function tu(t,e){return typeof e=="function"?e(t):e}function Tf(t){var e=zn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=gt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,c=null,h=s;do{var m=h.lane;if((qs&m)===m)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var _={lane:m,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(l=c=_,o=r):c=c.next=_,Je.lanes|=m,Hs|=m}h=h.next}while(h!==null&&h!==s);c===null?o=r:c.next=l,ir(r,e.memoizedState)||(dn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Je.lanes|=s,Hs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function If(t){var e=zn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ir(s,e.memoizedState)||(dn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function qE(){}function HE(t,e){var n=Je,r=zn(),i=e(),s=!ir(r.memoizedState,i);if(s&&(r.memoizedState=i,dn=!0),r=r.queue,Bm(QE.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ct!==null&&Ct.memoizedState.tag&1){if(n.flags|=2048,nu(9,GE.bind(null,n,r,i,e),void 0,null),Pt===null)throw Error(G(349));qs&30||KE(n,e,i)}return i}function KE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function GE(t,e,n,r){e.value=n,e.getSnapshot=r,YE(e)&&XE(t)}function QE(t,e,n){return n(function(){YE(e)&&XE(t)})}function YE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ir(t,n)}catch{return!0}}function XE(t){var e=ei(t,1);e!==null&&nr(e,t,1,-1)}function ky(t){var e=gr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tu,lastRenderedState:t},e.queue=t,t=t.dispatch=$P.bind(null,Je,t),[e.memoizedState,t]}function nu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function JE(){return zn().memoizedState}function $c(t,e,n,r){var i=gr();Je.flags|=t,i.memoizedState=nu(1|e,n,void 0,r===void 0?null:r)}function ed(t,e,n,r){var i=zn();r=r===void 0?null:r;var s=void 0;if(gt!==null){var o=gt.memoizedState;if(s=o.destroy,r!==null&&jm(r,o.deps)){i.memoizedState=nu(e,n,s,r);return}}Je.flags|=t,i.memoizedState=nu(1|e,n,s,r)}function Ry(t,e){return $c(8390656,8,t,e)}function Bm(t,e){return ed(2048,8,t,e)}function ZE(t,e){return ed(4,2,t,e)}function e0(t,e){return ed(4,4,t,e)}function t0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function n0(t,e,n){return n=n!=null?n.concat([t]):null,ed(4,4,t0.bind(null,e,t),n)}function $m(){}function r0(t,e){var n=zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function i0(t,e){var n=zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function s0(t,e,n){return qs&21?(ir(n,e)||(n=cE(),Je.lanes|=n,Hs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,dn=!0),t.memoizedState=n)}function UP(t,e){var n=Le;Le=n!==0&&4>n?n:4,t(!0);var r=Ef.transition;Ef.transition={};try{t(!1),e()}finally{Le=n,Ef.transition=r}}function o0(){return zn().memoizedState}function BP(t,e,n){var r=Hi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},a0(t))l0(e,n);else if(n=$E(t,e,n,r),n!==null){var i=rn();nr(n,t,r,i),u0(n,e,r)}}function $P(t,e,n){var r=Hi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(a0(t))l0(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,ir(l,o)){var c=e.interleaved;c===null?(i.next=i,Om(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=$E(t,e,i,r),n!==null&&(i=rn(),nr(n,t,r,i),u0(n,e,r))}}function a0(t){var e=t.alternate;return t===Je||e!==null&&e===Je}function l0(t,e){xl=vh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function u0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,vm(t,n)}}var wh={readContext:$n,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},zP={readContext:$n,useCallback:function(t,e){return gr().memoizedState=[t,e===void 0?null:e],t},useContext:$n,useEffect:Ry,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,$c(4194308,4,t0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return $c(4194308,4,t,e)},useInsertionEffect:function(t,e){return $c(4,2,t,e)},useMemo:function(t,e){var n=gr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=gr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=BP.bind(null,Je,t),[r.memoizedState,t]},useRef:function(t){var e=gr();return t={current:t},e.memoizedState=t},useState:ky,useDebugValue:$m,useDeferredValue:function(t){return gr().memoizedState=t},useTransition:function(){var t=ky(!1),e=t[0];return t=UP.bind(null,t[1]),gr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Je,i=gr();if(Qe){if(n===void 0)throw Error(G(407));n=n()}else{if(n=e(),Pt===null)throw Error(G(349));qs&30||KE(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Ry(QE.bind(null,r,s,t),[t]),r.flags|=2048,nu(9,GE.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=gr(),e=Pt.identifierPrefix;if(Qe){var n=zr,r=$r;n=(r&~(1<<32-tr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=eu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=FP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},WP={readContext:$n,useCallback:r0,useContext:$n,useEffect:Bm,useImperativeHandle:n0,useInsertionEffect:ZE,useLayoutEffect:e0,useMemo:i0,useReducer:Tf,useRef:JE,useState:function(){return Tf(tu)},useDebugValue:$m,useDeferredValue:function(t){var e=zn();return s0(e,gt.memoizedState,t)},useTransition:function(){var t=Tf(tu)[0],e=zn().memoizedState;return[t,e]},useMutableSource:qE,useSyncExternalStore:HE,useId:o0,unstable_isNewReconciler:!1},qP={readContext:$n,useCallback:r0,useContext:$n,useEffect:Bm,useImperativeHandle:n0,useInsertionEffect:ZE,useLayoutEffect:e0,useMemo:i0,useReducer:If,useRef:JE,useState:function(){return If(tu)},useDebugValue:$m,useDeferredValue:function(t){var e=zn();return gt===null?e.memoizedState=t:s0(e,gt.memoizedState,t)},useTransition:function(){var t=If(tu)[0],e=zn().memoizedState;return[t,e]},useMutableSource:qE,useSyncExternalStore:HE,useId:o0,unstable_isNewReconciler:!1};function Jn(t,e){if(t&&t.defaultProps){e=Ze({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function vp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ze({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var td={isMounted:function(t){return(t=t._reactInternals)?no(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=rn(),i=Hi(t),s=Gr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Wi(t,s,i),e!==null&&(nr(e,t,i,r),Uc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=rn(),i=Hi(t),s=Gr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Wi(t,s,i),e!==null&&(nr(e,t,i,r),Uc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=rn(),r=Hi(t),i=Gr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Wi(t,i,r),e!==null&&(nr(e,t,r,n),Uc(e,t,r))}};function by(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Gl(n,r)||!Gl(i,s):!0}function c0(t,e,n){var r=!1,i=ts,s=e.contextType;return typeof s=="object"&&s!==null?s=$n(s):(i=pn(e)?zs:Ht.current,r=e.contextTypes,s=(r=r!=null)?ia(t,i):ts),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=td,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function xy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&td.enqueueReplaceState(e,e.state,null)}function wp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Dm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=$n(s):(s=pn(e)?zs:Ht.current,i.context=ia(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(vp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&td.enqueueReplaceState(i,i.state,null),_h(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function la(t,e){try{var n="",r=e;do n+=vC(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Sf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ep(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var HP=typeof WeakMap=="function"?WeakMap:Map;function h0(t,e,n){n=Gr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Th||(Th=!0,xp=r),Ep(t,e)},n}function d0(t,e,n){n=Gr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ep(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ep(t,e),typeof r!="function"&&(qi===null?qi=new Set([this]):qi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Ny(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new HP;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=ok.bind(null,t,e,n),e.then(t,t))}function Oy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Dy(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Gr(-1,1),e.tag=2,Wi(n,e,1))),n.lanes|=1),t)}var KP=oi.ReactCurrentOwner,dn=!1;function nn(t,e,n,r){e.child=t===null?BE(e,null,n,r):oa(e,t.child,n,r)}function Ly(t,e,n,r,i){n=n.render;var s=e.ref;return Xo(e,i),r=Fm(t,e,n,r,s,i),n=Um(),t!==null&&!dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ti(t,e,i)):(Qe&&n&&Pm(e),e.flags|=1,nn(t,e,r,i),e.child)}function Vy(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Ym(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,f0(t,e,s,r,i)):(t=Hc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Gl,n(o,r)&&t.ref===e.ref)return ti(t,e,i)}return e.flags|=1,t=Ki(s,r),t.ref=e.ref,t.return=e,e.child=t}function f0(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Gl(s,r)&&t.ref===e.ref)if(dn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(dn=!0);else return e.lanes=t.lanes,ti(t,e,i)}return Tp(t,e,n,r,i)}function p0(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(Ho,wn),wn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,$e(Ho,wn),wn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,$e(Ho,wn),wn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,$e(Ho,wn),wn|=r;return nn(t,e,i,n),e.child}function m0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Tp(t,e,n,r,i){var s=pn(n)?zs:Ht.current;return s=ia(e,s),Xo(e,i),n=Fm(t,e,n,r,s,i),r=Um(),t!==null&&!dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ti(t,e,i)):(Qe&&r&&Pm(e),e.flags|=1,nn(t,e,n,i),e.child)}function My(t,e,n,r,i){if(pn(n)){var s=!0;dh(e)}else s=!1;if(Xo(e,i),e.stateNode===null)zc(t,e),c0(e,n,r),wp(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=$n(h):(h=pn(n)?zs:Ht.current,h=ia(e,h));var m=n.getDerivedStateFromProps,_=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function";_||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==h)&&xy(e,o,r,h),Ri=!1;var y=e.memoizedState;o.state=y,_h(e,r,o,i),c=e.memoizedState,l!==r||y!==c||fn.current||Ri?(typeof m=="function"&&(vp(e,n,m,r),c=e.memoizedState),(l=Ri||by(e,n,l,r,y,c,h))?(_||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=h,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,zE(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:Jn(e.type,l),o.props=h,_=e.pendingProps,y=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=$n(c):(c=pn(n)?zs:Ht.current,c=ia(e,c));var k=n.getDerivedStateFromProps;(m=typeof k=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==_||y!==c)&&xy(e,o,r,c),Ri=!1,y=e.memoizedState,o.state=y,_h(e,r,o,i);var N=e.memoizedState;l!==_||y!==N||fn.current||Ri?(typeof k=="function"&&(vp(e,n,k,r),N=e.memoizedState),(h=Ri||by(e,n,h,r,y,N,c)||!1)?(m||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,N,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,N,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=N),o.props=r,o.state=N,o.context=c,r=h):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),r=!1)}return Ip(t,e,n,r,s,i)}function Ip(t,e,n,r,i,s){m0(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Ty(e,n,!1),ti(t,e,s);r=e.stateNode,KP.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=oa(e,t.child,null,s),e.child=oa(e,null,l,s)):nn(t,e,l,s),e.memoizedState=r.state,i&&Ty(e,n,!0),e.child}function g0(t){var e=t.stateNode;e.pendingContext?Ey(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ey(t,e.context,!1),Lm(t,e.containerInfo)}function jy(t,e,n,r,i){return sa(),Rm(i),e.flags|=256,nn(t,e,n,r),e.child}var Sp={dehydrated:null,treeContext:null,retryLane:0};function Ap(t){return{baseLanes:t,cachePool:null,transitions:null}}function _0(t,e,n){var r=e.pendingProps,i=Xe.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),$e(Xe,i&1),t===null)return _p(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=id(o,r,0,null),t=Bs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ap(n),e.memoizedState=Sp,t):zm(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return GP(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Ki(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Ki(l,s):(s=Bs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Ap(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Sp,r}return s=t.child,t=s.sibling,r=Ki(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function zm(t,e){return e=id({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Cc(t,e,n,r){return r!==null&&Rm(r),oa(e,t.child,null,n),t=zm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function GP(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Sf(Error(G(422))),Cc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=id({mode:"visible",children:r.children},i,0,null),s=Bs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&oa(e,t.child,null,o),e.child.memoizedState=Ap(o),e.memoizedState=Sp,s);if(!(e.mode&1))return Cc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(G(419)),r=Sf(s,r,void 0),Cc(t,e,o,r)}if(l=(o&t.childLanes)!==0,dn||l){if(r=Pt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ei(t,i),nr(r,t,i,-1))}return Qm(),r=Sf(Error(G(421))),Cc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=ak.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,En=zi(i.nextSibling),In=e,Qe=!0,er=null,t!==null&&(Vn[Mn++]=$r,Vn[Mn++]=zr,Vn[Mn++]=Ws,$r=t.id,zr=t.overflow,Ws=e),e=zm(e,r.children),e.flags|=4096,e)}function Fy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),yp(t.return,e,n)}function Af(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function y0(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(nn(t,e,r.children,n),r=Xe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Fy(t,n,e);else if(t.tag===19)Fy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if($e(Xe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&yh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Af(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&yh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Af(e,!0,n,null,s);break;case"together":Af(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function zc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ti(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Hs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(G(153));if(e.child!==null){for(t=e.child,n=Ki(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ki(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function QP(t,e,n){switch(e.tag){case 3:g0(e),sa();break;case 5:WE(e);break;case 1:pn(e.type)&&dh(e);break;case 4:Lm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;$e(mh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?($e(Xe,Xe.current&1),e.flags|=128,null):n&e.child.childLanes?_0(t,e,n):($e(Xe,Xe.current&1),t=ti(t,e,n),t!==null?t.sibling:null);$e(Xe,Xe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return y0(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$e(Xe,Xe.current),r)break;return null;case 22:case 23:return e.lanes=0,p0(t,e,n)}return ti(t,e,n)}var v0,Cp,w0,E0;v0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Cp=function(){};w0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,js(vr.current);var s=null;switch(n){case"input":i=Gf(t,i),r=Gf(t,r),s=[];break;case"select":i=Ze({},i,{value:void 0}),r=Ze({},r,{value:void 0}),s=[];break;case"textarea":i=Xf(t,i),r=Xf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ch)}Zf(n,r);var o;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Bl.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var c=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&c!==l&&(c!=null||l!=null))if(h==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Bl.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&We("scroll",t),s||l===c||(s=[])):(s=s||[]).push(h,c))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};E0=function(t,e,n,r){n!==r&&(e.flags|=4)};function fl(t,e){if(!Qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Bt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function YP(t,e,n){var r=e.pendingProps;switch(km(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(e),null;case 1:return pn(e.type)&&hh(),Bt(e),null;case 3:return r=e.stateNode,aa(),He(fn),He(Ht),Mm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Sc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,er!==null&&(Dp(er),er=null))),Cp(t,e),Bt(e),null;case 5:Vm(e);var i=js(Zl.current);if(n=e.type,t!==null&&e.stateNode!=null)w0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(G(166));return Bt(e),null}if(t=js(vr.current),Sc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[_r]=e,r[Xl]=s,t=(e.mode&1)!==0,n){case"dialog":We("cancel",r),We("close",r);break;case"iframe":case"object":case"embed":We("load",r);break;case"video":case"audio":for(i=0;i<vl.length;i++)We(vl[i],r);break;case"source":We("error",r);break;case"img":case"image":case"link":We("error",r),We("load",r);break;case"details":We("toggle",r);break;case"input":G_(r,s),We("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},We("invalid",r);break;case"textarea":Y_(r,s),We("invalid",r)}Zf(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Ic(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Ic(r.textContent,l,t),i=["children",""+l]):Bl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&We("scroll",r)}switch(n){case"input":mc(r),Q_(r,s,!0);break;case"textarea":mc(r),X_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ch)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Qw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[_r]=e,t[Xl]=r,v0(t,e,!1,!1),e.stateNode=t;e:{switch(o=ep(n,r),n){case"dialog":We("cancel",t),We("close",t),i=r;break;case"iframe":case"object":case"embed":We("load",t),i=r;break;case"video":case"audio":for(i=0;i<vl.length;i++)We(vl[i],t);i=r;break;case"source":We("error",t),i=r;break;case"img":case"image":case"link":We("error",t),We("load",t),i=r;break;case"details":We("toggle",t),i=r;break;case"input":G_(t,r),i=Gf(t,r),We("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ze({},r,{value:void 0}),We("invalid",t);break;case"textarea":Y_(t,r),i=Xf(t,r),We("invalid",t);break;default:i=r}Zf(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?Jw(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Yw(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&$l(t,c):typeof c=="number"&&$l(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Bl.hasOwnProperty(s)?c!=null&&s==="onScroll"&&We("scroll",t):c!=null&&fm(t,s,c,o))}switch(n){case"input":mc(t),Q_(t,r,!1);break;case"textarea":mc(t),X_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+es(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ko(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ko(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ch)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Bt(e),null;case 6:if(t&&e.stateNode!=null)E0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(G(166));if(n=js(Zl.current),js(vr.current),Sc(e)){if(r=e.stateNode,n=e.memoizedProps,r[_r]=e,(s=r.nodeValue!==n)&&(t=In,t!==null))switch(t.tag){case 3:Ic(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ic(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_r]=e,e.stateNode=r}return Bt(e),null;case 13:if(He(Xe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qe&&En!==null&&e.mode&1&&!(e.flags&128))FE(),sa(),e.flags|=98560,s=!1;else if(s=Sc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(G(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(G(317));s[_r]=e}else sa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Bt(e),s=!1}else er!==null&&(Dp(er),er=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Xe.current&1?_t===0&&(_t=3):Qm())),e.updateQueue!==null&&(e.flags|=4),Bt(e),null);case 4:return aa(),Cp(t,e),t===null&&Ql(e.stateNode.containerInfo),Bt(e),null;case 10:return Nm(e.type._context),Bt(e),null;case 17:return pn(e.type)&&hh(),Bt(e),null;case 19:if(He(Xe),s=e.memoizedState,s===null)return Bt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)fl(s,!1);else{if(_t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=yh(t),o!==null){for(e.flags|=128,fl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return $e(Xe,Xe.current&1|2),e.child}t=t.sibling}s.tail!==null&&lt()>ua&&(e.flags|=128,r=!0,fl(s,!1),e.lanes=4194304)}else{if(!r)if(t=yh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),fl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Qe)return Bt(e),null}else 2*lt()-s.renderingStartTime>ua&&n!==1073741824&&(e.flags|=128,r=!0,fl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=lt(),e.sibling=null,n=Xe.current,$e(Xe,r?n&1|2:n&1),e):(Bt(e),null);case 22:case 23:return Gm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?wn&1073741824&&(Bt(e),e.subtreeFlags&6&&(e.flags|=8192)):Bt(e),null;case 24:return null;case 25:return null}throw Error(G(156,e.tag))}function XP(t,e){switch(km(e),e.tag){case 1:return pn(e.type)&&hh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return aa(),He(fn),He(Ht),Mm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Vm(e),null;case 13:if(He(Xe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(G(340));sa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return He(Xe),null;case 4:return aa(),null;case 10:return Nm(e.type._context),null;case 22:case 23:return Gm(),null;case 24:return null;default:return null}}var Pc=!1,Wt=!1,JP=typeof WeakSet=="function"?WeakSet:Set,ne=null;function qo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rt(t,e,r)}else n.current=null}function Pp(t,e,n){try{n()}catch(r){rt(t,e,r)}}var Uy=!1;function ZP(t,e){if(cp=ah,t=CE(),Cm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,h=0,m=0,_=t,y=null;t:for(;;){for(var k;_!==n||i!==0&&_.nodeType!==3||(l=o+i),_!==s||r!==0&&_.nodeType!==3||(c=o+r),_.nodeType===3&&(o+=_.nodeValue.length),(k=_.firstChild)!==null;)y=_,_=k;for(;;){if(_===t)break t;if(y===n&&++h===i&&(l=o),y===s&&++m===r&&(c=o),(k=_.nextSibling)!==null)break;_=y,y=_.parentNode}_=k}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(hp={focusedElem:t,selectionRange:n},ah=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var N=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var x=N.memoizedProps,D=N.memoizedState,S=e.stateNode,I=S.getSnapshotBeforeUpdate(e.elementType===e.type?x:Jn(e.type,x),D);S.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(F){rt(e,e.return,F)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return N=Uy,Uy=!1,N}function Nl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Pp(e,n,s)}i=i.next}while(i!==r)}}function nd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function kp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function T0(t){var e=t.alternate;e!==null&&(t.alternate=null,T0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[_r],delete e[Xl],delete e[pp],delete e[LP],delete e[VP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function I0(t){return t.tag===5||t.tag===3||t.tag===4}function By(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||I0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ch));else if(r!==4&&(t=t.child,t!==null))for(Rp(t,e,n),t=t.sibling;t!==null;)Rp(t,e,n),t=t.sibling}function bp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(bp(t,e,n),t=t.sibling;t!==null;)bp(t,e,n),t=t.sibling}var xt=null,Zn=!1;function Ci(t,e,n){for(n=n.child;n!==null;)S0(t,e,n),n=n.sibling}function S0(t,e,n){if(yr&&typeof yr.onCommitFiberUnmount=="function")try{yr.onCommitFiberUnmount(Gh,n)}catch{}switch(n.tag){case 5:Wt||qo(n,e);case 6:var r=xt,i=Zn;xt=null,Ci(t,e,n),xt=r,Zn=i,xt!==null&&(Zn?(t=xt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):xt.removeChild(n.stateNode));break;case 18:xt!==null&&(Zn?(t=xt,n=n.stateNode,t.nodeType===8?yf(t.parentNode,n):t.nodeType===1&&yf(t,n),Hl(t)):yf(xt,n.stateNode));break;case 4:r=xt,i=Zn,xt=n.stateNode.containerInfo,Zn=!0,Ci(t,e,n),xt=r,Zn=i;break;case 0:case 11:case 14:case 15:if(!Wt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Pp(n,e,o),i=i.next}while(i!==r)}Ci(t,e,n);break;case 1:if(!Wt&&(qo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){rt(n,e,l)}Ci(t,e,n);break;case 21:Ci(t,e,n);break;case 22:n.mode&1?(Wt=(r=Wt)||n.memoizedState!==null,Ci(t,e,n),Wt=r):Ci(t,e,n);break;default:Ci(t,e,n)}}function $y(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new JP),e.forEach(function(r){var i=lk.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Xn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:xt=l.stateNode,Zn=!1;break e;case 3:xt=l.stateNode.containerInfo,Zn=!0;break e;case 4:xt=l.stateNode.containerInfo,Zn=!0;break e}l=l.return}if(xt===null)throw Error(G(160));S0(s,o,i),xt=null,Zn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(h){rt(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)A0(e,t),e=e.sibling}function A0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xn(e,t),mr(t),r&4){try{Nl(3,t,t.return),nd(3,t)}catch(x){rt(t,t.return,x)}try{Nl(5,t,t.return)}catch(x){rt(t,t.return,x)}}break;case 1:Xn(e,t),mr(t),r&512&&n!==null&&qo(n,n.return);break;case 5:if(Xn(e,t),mr(t),r&512&&n!==null&&qo(n,n.return),t.flags&32){var i=t.stateNode;try{$l(i,"")}catch(x){rt(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Kw(i,s),ep(l,o);var h=ep(l,s);for(o=0;o<c.length;o+=2){var m=c[o],_=c[o+1];m==="style"?Jw(i,_):m==="dangerouslySetInnerHTML"?Yw(i,_):m==="children"?$l(i,_):fm(i,m,_,h)}switch(l){case"input":Qf(i,s);break;case"textarea":Gw(i,s);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var k=s.value;k!=null?Ko(i,!!s.multiple,k,!1):y!==!!s.multiple&&(s.defaultValue!=null?Ko(i,!!s.multiple,s.defaultValue,!0):Ko(i,!!s.multiple,s.multiple?[]:"",!1))}i[Xl]=s}catch(x){rt(t,t.return,x)}}break;case 6:if(Xn(e,t),mr(t),r&4){if(t.stateNode===null)throw Error(G(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){rt(t,t.return,x)}}break;case 3:if(Xn(e,t),mr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Hl(e.containerInfo)}catch(x){rt(t,t.return,x)}break;case 4:Xn(e,t),mr(t);break;case 13:Xn(e,t),mr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Hm=lt())),r&4&&$y(t);break;case 22:if(m=n!==null&&n.memoizedState!==null,t.mode&1?(Wt=(h=Wt)||m,Xn(e,t),Wt=h):Xn(e,t),mr(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!m&&t.mode&1)for(ne=t,m=t.child;m!==null;){for(_=ne=m;ne!==null;){switch(y=ne,k=y.child,y.tag){case 0:case 11:case 14:case 15:Nl(4,y,y.return);break;case 1:qo(y,y.return);var N=y.stateNode;if(typeof N.componentWillUnmount=="function"){r=y,n=y.return;try{e=r,N.props=e.memoizedProps,N.state=e.memoizedState,N.componentWillUnmount()}catch(x){rt(r,n,x)}}break;case 5:qo(y,y.return);break;case 22:if(y.memoizedState!==null){Wy(_);continue}}k!==null?(k.return=y,ne=k):Wy(_)}m=m.sibling}e:for(m=null,_=t;;){if(_.tag===5){if(m===null){m=_;try{i=_.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=_.stateNode,c=_.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Xw("display",o))}catch(x){rt(t,t.return,x)}}}else if(_.tag===6){if(m===null)try{_.stateNode.nodeValue=h?"":_.memoizedProps}catch(x){rt(t,t.return,x)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===t)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===t)break e;for(;_.sibling===null;){if(_.return===null||_.return===t)break e;m===_&&(m=null),_=_.return}m===_&&(m=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:Xn(e,t),mr(t),r&4&&$y(t);break;case 21:break;default:Xn(e,t),mr(t)}}function mr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(I0(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&($l(i,""),r.flags&=-33);var s=By(t);bp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=By(t);Rp(t,l,o);break;default:throw Error(G(161))}}catch(c){rt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ek(t,e,n){ne=t,C0(t)}function C0(t,e,n){for(var r=(t.mode&1)!==0;ne!==null;){var i=ne,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Pc;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Wt;l=Pc;var h=Wt;if(Pc=o,(Wt=c)&&!h)for(ne=i;ne!==null;)o=ne,c=o.child,o.tag===22&&o.memoizedState!==null?qy(i):c!==null?(c.return=o,ne=c):qy(i);for(;s!==null;)ne=s,C0(s),s=s.sibling;ne=i,Pc=l,Wt=h}zy(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ne=s):zy(t)}}function zy(t){for(;ne!==null;){var e=ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Wt||nd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Wt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Jn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Py(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Py(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var m=h.memoizedState;if(m!==null){var _=m.dehydrated;_!==null&&Hl(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}Wt||e.flags&512&&kp(e)}catch(y){rt(e,e.return,y)}}if(e===t){ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,ne=n;break}ne=e.return}}function Wy(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ne=n;break}ne=e.return}}function qy(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{nd(4,e)}catch(c){rt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){rt(e,i,c)}}var s=e.return;try{kp(e)}catch(c){rt(e,s,c)}break;case 5:var o=e.return;try{kp(e)}catch(c){rt(e,o,c)}}}catch(c){rt(e,e.return,c)}if(e===t){ne=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ne=l;break}ne=e.return}}var tk=Math.ceil,Eh=oi.ReactCurrentDispatcher,Wm=oi.ReactCurrentOwner,Un=oi.ReactCurrentBatchConfig,Re=0,Pt=null,ht=null,Dt=0,wn=0,Ho=as(0),_t=0,ru=null,Hs=0,rd=0,qm=0,Ol=null,cn=null,Hm=0,ua=1/0,Fr=null,Th=!1,xp=null,qi=null,kc=!1,Vi=null,Ih=0,Dl=0,Np=null,Wc=-1,qc=0;function rn(){return Re&6?lt():Wc!==-1?Wc:Wc=lt()}function Hi(t){return t.mode&1?Re&2&&Dt!==0?Dt&-Dt:jP.transition!==null?(qc===0&&(qc=cE()),qc):(t=Le,t!==0||(t=window.event,t=t===void 0?16:_E(t.type)),t):1}function nr(t,e,n,r){if(50<Dl)throw Dl=0,Np=null,Error(G(185));_u(t,n,r),(!(Re&2)||t!==Pt)&&(t===Pt&&(!(Re&2)&&(rd|=n),_t===4&&xi(t,Dt)),mn(t,r),n===1&&Re===0&&!(e.mode&1)&&(ua=lt()+500,Zh&&ls()))}function mn(t,e){var n=t.callbackNode;jC(t,e);var r=oh(t,t===Pt?Dt:0);if(r===0)n!==null&&ey(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ey(n),e===1)t.tag===0?MP(Hy.bind(null,t)):VE(Hy.bind(null,t)),OP(function(){!(Re&6)&&ls()}),n=null;else{switch(hE(r)){case 1:n=ym;break;case 4:n=lE;break;case 16:n=sh;break;case 536870912:n=uE;break;default:n=sh}n=D0(n,P0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function P0(t,e){if(Wc=-1,qc=0,Re&6)throw Error(G(327));var n=t.callbackNode;if(Jo()&&t.callbackNode!==n)return null;var r=oh(t,t===Pt?Dt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Sh(t,r);else{e=r;var i=Re;Re|=2;var s=R0();(Pt!==t||Dt!==e)&&(Fr=null,ua=lt()+500,Us(t,e));do try{ik();break}catch(l){k0(t,l)}while(!0);xm(),Eh.current=s,Re=i,ht!==null?e=0:(Pt=null,Dt=0,e=_t)}if(e!==0){if(e===2&&(i=sp(t),i!==0&&(r=i,e=Op(t,i))),e===1)throw n=ru,Us(t,0),xi(t,r),mn(t,lt()),n;if(e===6)xi(t,r);else{if(i=t.current.alternate,!(r&30)&&!nk(i)&&(e=Sh(t,r),e===2&&(s=sp(t),s!==0&&(r=s,e=Op(t,s))),e===1))throw n=ru,Us(t,0),xi(t,r),mn(t,lt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(G(345));case 2:Ds(t,cn,Fr);break;case 3:if(xi(t,r),(r&130023424)===r&&(e=Hm+500-lt(),10<e)){if(oh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){rn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=fp(Ds.bind(null,t,cn,Fr),e);break}Ds(t,cn,Fr);break;case 4:if(xi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-tr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*tk(r/1960))-r,10<r){t.timeoutHandle=fp(Ds.bind(null,t,cn,Fr),r);break}Ds(t,cn,Fr);break;case 5:Ds(t,cn,Fr);break;default:throw Error(G(329))}}}return mn(t,lt()),t.callbackNode===n?P0.bind(null,t):null}function Op(t,e){var n=Ol;return t.current.memoizedState.isDehydrated&&(Us(t,e).flags|=256),t=Sh(t,e),t!==2&&(e=cn,cn=n,e!==null&&Dp(e)),t}function Dp(t){cn===null?cn=t:cn.push.apply(cn,t)}function nk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ir(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xi(t,e){for(e&=~qm,e&=~rd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-tr(e),r=1<<n;t[n]=-1,e&=~r}}function Hy(t){if(Re&6)throw Error(G(327));Jo();var e=oh(t,0);if(!(e&1))return mn(t,lt()),null;var n=Sh(t,e);if(t.tag!==0&&n===2){var r=sp(t);r!==0&&(e=r,n=Op(t,r))}if(n===1)throw n=ru,Us(t,0),xi(t,e),mn(t,lt()),n;if(n===6)throw Error(G(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ds(t,cn,Fr),mn(t,lt()),null}function Km(t,e){var n=Re;Re|=1;try{return t(e)}finally{Re=n,Re===0&&(ua=lt()+500,Zh&&ls())}}function Ks(t){Vi!==null&&Vi.tag===0&&!(Re&6)&&Jo();var e=Re;Re|=1;var n=Un.transition,r=Le;try{if(Un.transition=null,Le=1,t)return t()}finally{Le=r,Un.transition=n,Re=e,!(Re&6)&&ls()}}function Gm(){wn=Ho.current,He(Ho)}function Us(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,NP(n)),ht!==null)for(n=ht.return;n!==null;){var r=n;switch(km(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&hh();break;case 3:aa(),He(fn),He(Ht),Mm();break;case 5:Vm(r);break;case 4:aa();break;case 13:He(Xe);break;case 19:He(Xe);break;case 10:Nm(r.type._context);break;case 22:case 23:Gm()}n=n.return}if(Pt=t,ht=t=Ki(t.current,null),Dt=wn=e,_t=0,ru=null,qm=rd=Hs=0,cn=Ol=null,Ms!==null){for(e=0;e<Ms.length;e++)if(n=Ms[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ms=null}return t}function k0(t,e){do{var n=ht;try{if(xm(),Bc.current=wh,vh){for(var r=Je.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}vh=!1}if(qs=0,Ct=gt=Je=null,xl=!1,eu=0,Wm.current=null,n===null||n.return===null){_t=1,ru=e,ht=null;break}e:{var s=t,o=n.return,l=n,c=e;if(e=Dt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,m=l,_=m.tag;if(!(m.mode&1)&&(_===0||_===11||_===15)){var y=m.alternate;y?(m.updateQueue=y.updateQueue,m.memoizedState=y.memoizedState,m.lanes=y.lanes):(m.updateQueue=null,m.memoizedState=null)}var k=Oy(o);if(k!==null){k.flags&=-257,Dy(k,o,l,s,e),k.mode&1&&Ny(s,h,e),e=k,c=h;var N=e.updateQueue;if(N===null){var x=new Set;x.add(c),e.updateQueue=x}else N.add(c);break e}else{if(!(e&1)){Ny(s,h,e),Qm();break e}c=Error(G(426))}}else if(Qe&&l.mode&1){var D=Oy(o);if(D!==null){!(D.flags&65536)&&(D.flags|=256),Dy(D,o,l,s,e),Rm(la(c,l));break e}}s=c=la(c,l),_t!==4&&(_t=2),Ol===null?Ol=[s]:Ol.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=h0(s,c,e);Cy(s,S);break e;case 1:l=c;var I=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof I.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(qi===null||!qi.has(C)))){s.flags|=65536,e&=-e,s.lanes|=e;var F=d0(s,l,e);Cy(s,F);break e}}s=s.return}while(s!==null)}x0(n)}catch(K){e=K,ht===n&&n!==null&&(ht=n=n.return);continue}break}while(!0)}function R0(){var t=Eh.current;return Eh.current=wh,t===null?wh:t}function Qm(){(_t===0||_t===3||_t===2)&&(_t=4),Pt===null||!(Hs&268435455)&&!(rd&268435455)||xi(Pt,Dt)}function Sh(t,e){var n=Re;Re|=2;var r=R0();(Pt!==t||Dt!==e)&&(Fr=null,Us(t,e));do try{rk();break}catch(i){k0(t,i)}while(!0);if(xm(),Re=n,Eh.current=r,ht!==null)throw Error(G(261));return Pt=null,Dt=0,_t}function rk(){for(;ht!==null;)b0(ht)}function ik(){for(;ht!==null&&!RC();)b0(ht)}function b0(t){var e=O0(t.alternate,t,wn);t.memoizedProps=t.pendingProps,e===null?x0(t):ht=e,Wm.current=null}function x0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=XP(n,e),n!==null){n.flags&=32767,ht=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_t=6,ht=null;return}}else if(n=YP(n,e,wn),n!==null){ht=n;return}if(e=e.sibling,e!==null){ht=e;return}ht=e=t}while(e!==null);_t===0&&(_t=5)}function Ds(t,e,n){var r=Le,i=Un.transition;try{Un.transition=null,Le=1,sk(t,e,n,r)}finally{Un.transition=i,Le=r}return null}function sk(t,e,n,r){do Jo();while(Vi!==null);if(Re&6)throw Error(G(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(G(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(FC(t,s),t===Pt&&(ht=Pt=null,Dt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||kc||(kc=!0,D0(sh,function(){return Jo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Un.transition,Un.transition=null;var o=Le;Le=1;var l=Re;Re|=4,Wm.current=null,ZP(t,n),A0(n,t),AP(hp),ah=!!cp,hp=cp=null,t.current=n,ek(n),bC(),Re=l,Le=o,Un.transition=s}else t.current=n;if(kc&&(kc=!1,Vi=t,Ih=i),s=t.pendingLanes,s===0&&(qi=null),OC(n.stateNode),mn(t,lt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Th)throw Th=!1,t=xp,xp=null,t;return Ih&1&&t.tag!==0&&Jo(),s=t.pendingLanes,s&1?t===Np?Dl++:(Dl=0,Np=t):Dl=0,ls(),null}function Jo(){if(Vi!==null){var t=hE(Ih),e=Un.transition,n=Le;try{if(Un.transition=null,Le=16>t?16:t,Vi===null)var r=!1;else{if(t=Vi,Vi=null,Ih=0,Re&6)throw Error(G(331));var i=Re;for(Re|=4,ne=t.current;ne!==null;){var s=ne,o=s.child;if(ne.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var h=l[c];for(ne=h;ne!==null;){var m=ne;switch(m.tag){case 0:case 11:case 15:Nl(8,m,s)}var _=m.child;if(_!==null)_.return=m,ne=_;else for(;ne!==null;){m=ne;var y=m.sibling,k=m.return;if(T0(m),m===h){ne=null;break}if(y!==null){y.return=k,ne=y;break}ne=k}}}var N=s.alternate;if(N!==null){var x=N.child;if(x!==null){N.child=null;do{var D=x.sibling;x.sibling=null,x=D}while(x!==null)}}ne=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ne=o;else e:for(;ne!==null;){if(s=ne,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Nl(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,ne=S;break e}ne=s.return}}var I=t.current;for(ne=I;ne!==null;){o=ne;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,ne=C;else e:for(o=I;ne!==null;){if(l=ne,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:nd(9,l)}}catch(K){rt(l,l.return,K)}if(l===o){ne=null;break e}var F=l.sibling;if(F!==null){F.return=l.return,ne=F;break e}ne=l.return}}if(Re=i,ls(),yr&&typeof yr.onPostCommitFiberRoot=="function")try{yr.onPostCommitFiberRoot(Gh,t)}catch{}r=!0}return r}finally{Le=n,Un.transition=e}}return!1}function Ky(t,e,n){e=la(n,e),e=h0(t,e,1),t=Wi(t,e,1),e=rn(),t!==null&&(_u(t,1,e),mn(t,e))}function rt(t,e,n){if(t.tag===3)Ky(t,t,n);else for(;e!==null;){if(e.tag===3){Ky(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qi===null||!qi.has(r))){t=la(n,t),t=d0(e,t,1),e=Wi(e,t,1),t=rn(),e!==null&&(_u(e,1,t),mn(e,t));break}}e=e.return}}function ok(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=rn(),t.pingedLanes|=t.suspendedLanes&n,Pt===t&&(Dt&n)===n&&(_t===4||_t===3&&(Dt&130023424)===Dt&&500>lt()-Hm?Us(t,0):qm|=n),mn(t,e)}function N0(t,e){e===0&&(t.mode&1?(e=yc,yc<<=1,!(yc&130023424)&&(yc=4194304)):e=1);var n=rn();t=ei(t,e),t!==null&&(_u(t,e,n),mn(t,n))}function ak(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),N0(t,n)}function lk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(e),N0(t,n)}var O0;O0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||fn.current)dn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return dn=!1,QP(t,e,n);dn=!!(t.flags&131072)}else dn=!1,Qe&&e.flags&1048576&&ME(e,ph,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;zc(t,e),t=e.pendingProps;var i=ia(e,Ht.current);Xo(e,n),i=Fm(null,e,r,t,i,n);var s=Um();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pn(r)?(s=!0,dh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Dm(e),i.updater=td,e.stateNode=i,i._reactInternals=e,wp(e,r,t,n),e=Ip(null,e,r,!0,s,n)):(e.tag=0,Qe&&s&&Pm(e),nn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(zc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=ck(r),t=Jn(r,t),i){case 0:e=Tp(null,e,r,t,n);break e;case 1:e=My(null,e,r,t,n);break e;case 11:e=Ly(null,e,r,t,n);break e;case 14:e=Vy(null,e,r,Jn(r.type,t),n);break e}throw Error(G(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jn(r,i),Tp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jn(r,i),My(t,e,r,i,n);case 3:e:{if(g0(e),t===null)throw Error(G(387));r=e.pendingProps,s=e.memoizedState,i=s.element,zE(t,e),_h(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=la(Error(G(423)),e),e=jy(t,e,r,n,i);break e}else if(r!==i){i=la(Error(G(424)),e),e=jy(t,e,r,n,i);break e}else for(En=zi(e.stateNode.containerInfo.firstChild),In=e,Qe=!0,er=null,n=BE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(sa(),r===i){e=ti(t,e,n);break e}nn(t,e,r,n)}e=e.child}return e;case 5:return WE(e),t===null&&_p(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,dp(r,i)?o=null:s!==null&&dp(r,s)&&(e.flags|=32),m0(t,e),nn(t,e,o,n),e.child;case 6:return t===null&&_p(e),null;case 13:return _0(t,e,n);case 4:return Lm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=oa(e,null,r,n):nn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jn(r,i),Ly(t,e,r,i,n);case 7:return nn(t,e,e.pendingProps,n),e.child;case 8:return nn(t,e,e.pendingProps.children,n),e.child;case 12:return nn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,$e(mh,r._currentValue),r._currentValue=o,s!==null)if(ir(s.value,o)){if(s.children===i.children&&!fn.current){e=ti(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Gr(-1,n&-n),c.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var m=h.pending;m===null?c.next=c:(c.next=m.next,m.next=c),h.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),yp(s.return,n,e),l.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(G(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),yp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}nn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Xo(e,n),i=$n(i),r=r(i),e.flags|=1,nn(t,e,r,n),e.child;case 14:return r=e.type,i=Jn(r,e.pendingProps),i=Jn(r.type,i),Vy(t,e,r,i,n);case 15:return f0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jn(r,i),zc(t,e),e.tag=1,pn(r)?(t=!0,dh(e)):t=!1,Xo(e,n),c0(e,r,i),wp(e,r,i,n),Ip(null,e,r,!0,t,n);case 19:return y0(t,e,n);case 22:return p0(t,e,n)}throw Error(G(156,e.tag))};function D0(t,e){return aE(t,e)}function uk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(t,e,n,r){return new uk(t,e,n,r)}function Ym(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ck(t){if(typeof t=="function")return Ym(t)?1:0;if(t!=null){if(t=t.$$typeof,t===mm)return 11;if(t===gm)return 14}return 2}function Ki(t,e){var n=t.alternate;return n===null?(n=jn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Hc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Ym(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Vo:return Bs(n.children,i,s,e);case pm:o=8,i|=8;break;case Wf:return t=jn(12,n,e,i|2),t.elementType=Wf,t.lanes=s,t;case qf:return t=jn(13,n,e,i),t.elementType=qf,t.lanes=s,t;case Hf:return t=jn(19,n,e,i),t.elementType=Hf,t.lanes=s,t;case Ww:return id(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $w:o=10;break e;case zw:o=9;break e;case mm:o=11;break e;case gm:o=14;break e;case ki:o=16,r=null;break e}throw Error(G(130,t==null?t:typeof t,""))}return e=jn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Bs(t,e,n,r){return t=jn(7,t,r,e),t.lanes=n,t}function id(t,e,n,r){return t=jn(22,t,r,e),t.elementType=Ww,t.lanes=n,t.stateNode={isHidden:!1},t}function Cf(t,e,n){return t=jn(6,t,null,e),t.lanes=n,t}function Pf(t,e,n){return e=jn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function hk(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=af(0),this.expirationTimes=af(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=af(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Xm(t,e,n,r,i,s,o,l,c){return t=new hk(t,e,n,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=jn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dm(s),t}function dk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function L0(t){if(!t)return ts;t=t._reactInternals;e:{if(no(t)!==t||t.tag!==1)throw Error(G(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(G(171))}if(t.tag===1){var n=t.type;if(pn(n))return LE(t,n,e)}return e}function V0(t,e,n,r,i,s,o,l,c){return t=Xm(n,r,!0,t,i,s,o,l,c),t.context=L0(null),n=t.current,r=rn(),i=Hi(n),s=Gr(r,i),s.callback=e??null,Wi(n,s,i),t.current.lanes=i,_u(t,i,r),mn(t,r),t}function sd(t,e,n,r){var i=e.current,s=rn(),o=Hi(i);return n=L0(n),e.context===null?e.context=n:e.pendingContext=n,e=Gr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Wi(i,e,o),t!==null&&(nr(t,i,o,s),Uc(t,i,o)),o}function Ah(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Gy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Jm(t,e){Gy(t,e),(t=t.alternate)&&Gy(t,e)}function fk(){return null}var M0=typeof reportError=="function"?reportError:function(t){console.error(t)};function Zm(t){this._internalRoot=t}od.prototype.render=Zm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(G(409));sd(t,e,null,null)};od.prototype.unmount=Zm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ks(function(){sd(null,t,null,null)}),e[Zr]=null}};function od(t){this._internalRoot=t}od.prototype.unstable_scheduleHydration=function(t){if(t){var e=pE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<bi.length&&e!==0&&e<bi[n].priority;n++);bi.splice(n,0,t),n===0&&gE(t)}};function eg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ad(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Qy(){}function pk(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=Ah(o);s.call(h)}}var o=V0(e,r,t,0,null,!1,!1,"",Qy);return t._reactRootContainer=o,t[Zr]=o.current,Ql(t.nodeType===8?t.parentNode:t),Ks(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var h=Ah(c);l.call(h)}}var c=Xm(t,0,!1,null,null,!1,!1,"",Qy);return t._reactRootContainer=c,t[Zr]=c.current,Ql(t.nodeType===8?t.parentNode:t),Ks(function(){sd(e,c,n,r)}),c}function ld(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var c=Ah(o);l.call(c)}}sd(e,o,t,i)}else o=pk(n,e,t,i,r);return Ah(o)}dE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=yl(e.pendingLanes);n!==0&&(vm(e,n|1),mn(e,lt()),!(Re&6)&&(ua=lt()+500,ls()))}break;case 13:Ks(function(){var r=ei(t,1);if(r!==null){var i=rn();nr(r,t,1,i)}}),Jm(t,1)}};wm=function(t){if(t.tag===13){var e=ei(t,134217728);if(e!==null){var n=rn();nr(e,t,134217728,n)}Jm(t,134217728)}};fE=function(t){if(t.tag===13){var e=Hi(t),n=ei(t,e);if(n!==null){var r=rn();nr(n,t,e,r)}Jm(t,e)}};pE=function(){return Le};mE=function(t,e){var n=Le;try{return Le=t,e()}finally{Le=n}};np=function(t,e,n){switch(e){case"input":if(Qf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Jh(r);if(!i)throw Error(G(90));Hw(r),Qf(r,i)}}}break;case"textarea":Gw(t,n);break;case"select":e=n.value,e!=null&&Ko(t,!!n.multiple,e,!1)}};tE=Km;nE=Ks;var mk={usingClientEntryPoint:!1,Events:[vu,Uo,Jh,Zw,eE,Km]},pl={findFiberByHostInstance:Vs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gk={bundleType:pl.bundleType,version:pl.version,rendererPackageName:pl.rendererPackageName,rendererConfig:pl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=sE(t),t===null?null:t.stateNode},findFiberByHostInstance:pl.findFiberByHostInstance||fk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{Gh=Rc.inject(gk),yr=Rc}catch{}}An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mk;An.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!eg(e))throw Error(G(200));return dk(t,e,null,n)};An.createRoot=function(t,e){if(!eg(t))throw Error(G(299));var n=!1,r="",i=M0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Xm(t,1,!1,null,null,n,!1,r,i),t[Zr]=e.current,Ql(t.nodeType===8?t.parentNode:t),new Zm(e)};An.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(G(188)):(t=Object.keys(t).join(","),Error(G(268,t)));return t=sE(e),t=t===null?null:t.stateNode,t};An.flushSync=function(t){return Ks(t)};An.hydrate=function(t,e,n){if(!ad(e))throw Error(G(200));return ld(null,t,e,!0,n)};An.hydrateRoot=function(t,e,n){if(!eg(t))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=M0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=V0(e,null,t,1,n??null,i,!1,s,o),t[Zr]=e.current,Ql(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new od(e)};An.render=function(t,e,n){if(!ad(e))throw Error(G(200));return ld(null,t,e,!1,n)};An.unmountComponentAtNode=function(t){if(!ad(t))throw Error(G(40));return t._reactRootContainer?(Ks(function(){ld(null,null,t,!1,function(){t._reactRootContainer=null,t[Zr]=null})}),!0):!1};An.unstable_batchedUpdates=Km;An.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ad(n))throw Error(G(200));if(t==null||t._reactInternals===void 0)throw Error(G(38));return ld(t,e,n,!1,r)};An.version="18.3.1-next-f1338f8080-20240426";function j0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(j0)}catch(t){console.error(t)}}j0(),jw.exports=An;var _k=jw.exports,Yy=_k;$f.createRoot=Yy.createRoot,$f.hydrateRoot=Yy.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function iu(){return iu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iu.apply(this,arguments)}var Mi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Mi||(Mi={}));const Xy="popstate";function yk(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return Lp("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ch(i)}return wk(e,n,null,t)}function ut(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function F0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vk(){return Math.random().toString(36).substr(2,8)}function Jy(t,e){return{usr:t.state,key:t.key,idx:e}}function Lp(t,e,n,r){return n===void 0&&(n=null),iu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ta(e):e,{state:n,key:e&&e.key||r||vk()})}function Ch(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ta(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function wk(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=Mi.Pop,c=null,h=m();h==null&&(h=0,o.replaceState(iu({},o.state,{idx:h}),""));function m(){return(o.state||{idx:null}).idx}function _(){l=Mi.Pop;let D=m(),S=D==null?null:D-h;h=D,c&&c({action:l,location:x.location,delta:S})}function y(D,S){l=Mi.Push;let I=Lp(x.location,D,S);h=m()+1;let C=Jy(I,h),F=x.createHref(I);try{o.pushState(C,"",F)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;i.location.assign(F)}s&&c&&c({action:l,location:x.location,delta:1})}function k(D,S){l=Mi.Replace;let I=Lp(x.location,D,S);h=m();let C=Jy(I,h),F=x.createHref(I);o.replaceState(C,"",F),s&&c&&c({action:l,location:x.location,delta:0})}function N(D){let S=i.location.origin!=="null"?i.location.origin:i.location.href,I=typeof D=="string"?D:Ch(D);return I=I.replace(/ $/,"%20"),ut(S,"No window.location.(origin|href) available to create URL for href: "+I),new URL(I,S)}let x={get action(){return l},get location(){return t(i,o)},listen(D){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Xy,_),c=D,()=>{i.removeEventListener(Xy,_),c=null}},createHref(D){return e(i,D)},createURL:N,encodeLocation(D){let S=N(D);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:y,replace:k,go(D){return o.go(D)}};return x}var Zy;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Zy||(Zy={}));function Ek(t,e,n){return n===void 0&&(n="/"),Tk(t,e,n)}function Tk(t,e,n,r){let i=typeof e=="string"?Ta(e):e,s=tg(i.pathname||"/",n);if(s==null)return null;let o=U0(t);Ik(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let h=Lk(s);l=Nk(o[c],h)}return l}function U0(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(ut(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let h=Gi([r,c.relativePath]),m=n.concat(c);s.children&&s.children.length>0&&(ut(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),U0(s.children,e,m,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:bk(h,s.index),routesMeta:m})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of B0(s.path))i(s,o,c)}),e}function B0(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=B0(r.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function Ik(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:xk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Sk=/^:[\w-]+$/,Ak=3,Ck=2,Pk=1,kk=10,Rk=-2,ev=t=>t==="*";function bk(t,e){let n=t.split("/"),r=n.length;return n.some(ev)&&(r+=Rk),e&&(r+=Ck),n.filter(i=>!ev(i)).reduce((i,s)=>i+(Sk.test(s)?Ak:s===""?Pk:kk),r)}function xk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Nk(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],h=l===r.length-1,m=s==="/"?e:e.slice(s.length)||"/",_=Ok({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},m),y=c.route;if(!_)return null;Object.assign(i,_.params),o.push({params:i,pathname:Gi([s,_.pathname]),pathnameBase:Fk(Gi([s,_.pathnameBase])),route:y}),_.pathnameBase!=="/"&&(s=Gi([s,_.pathnameBase]))}return o}function Ok(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Dk(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((h,m,_)=>{let{paramName:y,isOptional:k}=m;if(y==="*"){let x=l[_]||"";o=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const N=l[_];return k&&!N?h[y]=void 0:h[y]=(N||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:o,pattern:t}}function Dk(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),F0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Lk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return F0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function tg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Vk(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ta(t):t;return{pathname:n?n.startsWith("/")?n:Mk(n,e):e,search:Uk(r),hash:Bk(i)}}function Mk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function kf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function jk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ng(t,e){let n=jk(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function rg(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ta(t):(i=iu({},t),ut(!i.pathname||!i.pathname.includes("?"),kf("?","pathname","search",i)),ut(!i.pathname||!i.pathname.includes("#"),kf("#","pathname","hash",i)),ut(!i.search||!i.search.includes("#"),kf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let _=e.length-1;if(!r&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),_-=1;i.pathname=y.join("/")}l=_>=0?e[_]:"/"}let c=Vk(i,l),h=o&&o!=="/"&&o.endsWith("/"),m=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(h||m)&&(c.pathname+="/"),c}const Gi=t=>t.join("/").replace(/\/\/+/g,"/"),Fk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Uk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Bk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function $k(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const $0=["post","put","patch","delete"];new Set($0);const zk=["get",...$0];new Set(zk);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function su(){return su=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},su.apply(this,arguments)}const ig=z.createContext(null),Wk=z.createContext(null),us=z.createContext(null),ud=z.createContext(null),cs=z.createContext({outlet:null,matches:[],isDataRoute:!1}),z0=z.createContext(null);function qk(t,e){let{relative:n}=e===void 0?{}:e;Ia()||ut(!1);let{basename:r,navigator:i}=z.useContext(us),{hash:s,pathname:o,search:l}=q0(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Gi([r,o])),i.createHref({pathname:c,search:l,hash:s})}function Ia(){return z.useContext(ud)!=null}function hs(){return Ia()||ut(!1),z.useContext(ud).location}function W0(t){z.useContext(us).static||z.useLayoutEffect(t)}function ai(){let{isDataRoute:t}=z.useContext(cs);return t?iR():Hk()}function Hk(){Ia()||ut(!1);let t=z.useContext(ig),{basename:e,future:n,navigator:r}=z.useContext(us),{matches:i}=z.useContext(cs),{pathname:s}=hs(),o=JSON.stringify(ng(i,n.v7_relativeSplatPath)),l=z.useRef(!1);return W0(()=>{l.current=!0}),z.useCallback(function(h,m){if(m===void 0&&(m={}),!l.current)return;if(typeof h=="number"){r.go(h);return}let _=rg(h,JSON.parse(o),s,m.relative==="path");t==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Gi([e,_.pathname])),(m.replace?r.replace:r.push)(_,m.state,m)},[e,r,o,s,t])}function q0(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=z.useContext(us),{matches:i}=z.useContext(cs),{pathname:s}=hs(),o=JSON.stringify(ng(i,r.v7_relativeSplatPath));return z.useMemo(()=>rg(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function Kk(t,e){return Gk(t,e)}function Gk(t,e,n,r){Ia()||ut(!1);let{navigator:i}=z.useContext(us),{matches:s}=z.useContext(cs),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let h=hs(),m;if(e){var _;let D=typeof e=="string"?Ta(e):e;c==="/"||(_=D.pathname)!=null&&_.startsWith(c)||ut(!1),m=D}else m=h;let y=m.pathname||"/",k=y;if(c!=="/"){let D=c.replace(/^\//,"").split("/");k="/"+y.replace(/^\//,"").split("/").slice(D.length).join("/")}let N=Ek(t,{pathname:k}),x=Zk(N&&N.map(D=>Object.assign({},D,{params:Object.assign({},l,D.params),pathname:Gi([c,i.encodeLocation?i.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?c:Gi([c,i.encodeLocation?i.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),s,n,r);return e&&x?z.createElement(ud.Provider,{value:{location:su({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Mi.Pop}},x):x}function Qk(){let t=rR(),e=$k(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:i},n):null,null)}const Yk=z.createElement(Qk,null);class Xk extends z.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?z.createElement(cs.Provider,{value:this.props.routeContext},z.createElement(z0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Jk(t){let{routeContext:e,match:n,children:r}=t,i=z.useContext(ig);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),z.createElement(cs.Provider,{value:e},r)}function Zk(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let m=o.findIndex(_=>_.route.id&&(l==null?void 0:l[_.route.id])!==void 0);m>=0||ut(!1),o=o.slice(0,Math.min(o.length,m+1))}let c=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<o.length;m++){let _=o[m];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(h=m),_.route.id){let{loaderData:y,errors:k}=n,N=_.route.loader&&y[_.route.id]===void 0&&(!k||k[_.route.id]===void 0);if(_.route.lazy||N){c=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((m,_,y)=>{let k,N=!1,x=null,D=null;n&&(k=l&&_.route.id?l[_.route.id]:void 0,x=_.route.errorElement||Yk,c&&(h<0&&y===0?(sR("route-fallback"),N=!0,D=null):h===y&&(N=!0,D=_.route.hydrateFallbackElement||null)));let S=e.concat(o.slice(0,y+1)),I=()=>{let C;return k?C=x:N?C=D:_.route.Component?C=z.createElement(_.route.Component,null):_.route.element?C=_.route.element:C=m,z.createElement(Jk,{match:_,routeContext:{outlet:m,matches:S,isDataRoute:n!=null},children:C})};return n&&(_.route.ErrorBoundary||_.route.errorElement||y===0)?z.createElement(Xk,{location:n.location,revalidation:n.revalidation,component:x,error:k,children:I(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):I()},null)}var H0=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(H0||{}),K0=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(K0||{});function eR(t){let e=z.useContext(ig);return e||ut(!1),e}function tR(t){let e=z.useContext(Wk);return e||ut(!1),e}function nR(t){let e=z.useContext(cs);return e||ut(!1),e}function G0(t){let e=nR(),n=e.matches[e.matches.length-1];return n.route.id||ut(!1),n.route.id}function rR(){var t;let e=z.useContext(z0),n=tR(),r=G0();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function iR(){let{router:t}=eR(H0.UseNavigateStable),e=G0(K0.UseNavigateStable),n=z.useRef(!1);return W0(()=>{n.current=!0}),z.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,su({fromRouteId:e},s)))},[t,e])}const tv={};function sR(t,e,n){tv[t]||(tv[t]=!0)}function oR(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function aR(t){let{to:e,replace:n,state:r,relative:i}=t;Ia()||ut(!1);let{future:s,static:o}=z.useContext(us),{matches:l}=z.useContext(cs),{pathname:c}=hs(),h=ai(),m=rg(e,ng(l,s.v7_relativeSplatPath),c,i==="path"),_=JSON.stringify(m);return z.useEffect(()=>h(JSON.parse(_),{replace:n,state:r,relative:i}),[h,_,i,n,r]),null}function Ln(t){ut(!1)}function lR(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Mi.Pop,navigator:s,static:o=!1,future:l}=t;Ia()&&ut(!1);let c=e.replace(/^\/*/,"/"),h=z.useMemo(()=>({basename:c,navigator:s,static:o,future:su({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof r=="string"&&(r=Ta(r));let{pathname:m="/",search:_="",hash:y="",state:k=null,key:N="default"}=r,x=z.useMemo(()=>{let D=tg(m,c);return D==null?null:{location:{pathname:D,search:_,hash:y,state:k,key:N},navigationType:i}},[c,m,_,y,k,N,i]);return x==null?null:z.createElement(us.Provider,{value:h},z.createElement(ud.Provider,{children:n,value:x}))}function uR(t){let{children:e,location:n}=t;return Kk(Vp(e),n)}new Promise(()=>{});function Vp(t,e){e===void 0&&(e=[]);let n=[];return z.Children.forEach(t,(r,i)=>{if(!z.isValidElement(r))return;let s=[...e,i];if(r.type===z.Fragment){n.push.apply(n,Vp(r.props.children,s));return}r.type!==Ln&&ut(!1),!r.props.index||!r.props.children||ut(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Vp(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mp(){return Mp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mp.apply(this,arguments)}function cR(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function hR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function dR(t,e){return t.button===0&&(!e||e==="_self")&&!hR(t)}const fR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],pR="6";try{window.__reactRouterVersion=pR}catch{}const mR="startTransition",nv=oC[mR];function gR(t){let{basename:e,children:n,future:r,window:i}=t,s=z.useRef();s.current==null&&(s.current=yk({window:i,v5Compat:!0}));let o=s.current,[l,c]=z.useState({action:o.action,location:o.location}),{v7_startTransition:h}=r||{},m=z.useCallback(_=>{h&&nv?nv(()=>c(_)):c(_)},[c,h]);return z.useLayoutEffect(()=>o.listen(m),[o,m]),z.useEffect(()=>oR(r),[r]),z.createElement(lR,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const _R=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qi=z.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:c,to:h,preventScrollReset:m,viewTransition:_}=e,y=cR(e,fR),{basename:k}=z.useContext(us),N,x=!1;if(typeof h=="string"&&yR.test(h)&&(N=h,_R))try{let C=new URL(window.location.href),F=h.startsWith("//")?new URL(C.protocol+h):new URL(h),K=tg(F.pathname,k);F.origin===C.origin&&K!=null?h=K+F.search+F.hash:x=!0}catch{}let D=qk(h,{relative:i}),S=vR(h,{replace:o,state:l,target:c,preventScrollReset:m,relative:i,viewTransition:_});function I(C){r&&r(C),C.defaultPrevented||S(C)}return z.createElement("a",Mp({},y,{href:N||D,onClick:x||s?r:I,ref:n,target:c}))});var rv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(rv||(rv={}));var iv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(iv||(iv={}));function vR(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:l}=e===void 0?{}:e,c=ai(),h=hs(),m=q0(t,{relative:o});return z.useCallback(_=>{if(dR(_,n)){_.preventDefault();let y=r!==void 0?r:Ch(h)===Ch(m);c(t,{replace:y,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[h,c,m,r,i,n,t,s,o,l])}var sv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},wR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Y0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,h=c?t[i+2]:0,m=s>>2,_=(s&3)<<4|l>>4;let y=(l&15)<<2|h>>6,k=h&63;c||(k=64,o||(y=64)),r.push(n[m],n[_],n[y],n[k])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Q0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):wR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const _=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||h==null||_==null)throw new ER;const y=s<<2|l>>4;if(r.push(y),h!==64){const k=l<<4&240|h>>2;if(r.push(k),_!==64){const N=h<<6&192|_;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ER extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TR=function(t){const e=Q0(t);return Y0.encodeByteArray(e,!0)},Ph=function(t){return TR(t).replace(/\./g,"")},X0=function(t){try{return Y0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=()=>IR().__FIREBASE_DEFAULTS__,AR=()=>{if(typeof process>"u"||typeof sv>"u")return;const t=sv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},CR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&X0(t[1]);return e&&JSON.parse(e)},cd=()=>{try{return SR()||AR()||CR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},J0=t=>{var e,n;return(n=(e=cd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},PR=t=>{const e=J0(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Z0=()=>{var t;return(t=cd())===null||t===void 0?void 0:t.config},eT=t=>{var e;return(e=cd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ph(JSON.stringify(n)),Ph(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kt())}function xR(){var t;const e=(t=cd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function OR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function DR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LR(){const t=Kt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function VR(){return!xR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function MR(){try{return typeof indexedDB=="object"}catch{return!1}}function jR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="FirebaseError";class li extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=FR,Object.setPrototypeOf(this,li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Eu.prototype.create)}}class Eu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?UR(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new li(i,l,r)}}function UR(t,e){return t.replace(BR,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const BR=/\{\$([^}]+)}/g;function $R(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function kh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(ov(s)&&ov(o)){if(!kh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ov(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function El(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function zR(t,e){const n=new WR(t,e);return n.subscribe.bind(n)}class WR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");qR(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Rf),i.error===void 0&&(i.error=Rf),i.complete===void 0&&(i.complete=Rf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Rf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(t){return t&&t._delegate?t._delegate:t}class Gs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new kR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GR(e))try{this.getOrInitializeService({instanceIdentifier:Ls})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ls){return this.instances.has(e)}getOptions(e=Ls){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:KR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ls){return this.component?this.component.multipleInstances?e:Ls:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KR(t){return t===Ls?void 0:t}function GR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new HR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ae||(Ae={}));const YR={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},XR=Ae.INFO,JR={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},ZR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=JR[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sg{constructor(e){this.name=e,this._logLevel=XR,this._logHandler=ZR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const eb=(t,e)=>e.some(n=>t instanceof n);let av,lv;function tb(){return av||(av=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nb(){return lv||(lv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tT=new WeakMap,jp=new WeakMap,nT=new WeakMap,bf=new WeakMap,og=new WeakMap;function rb(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Yi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&tT.set(n,t)}).catch(()=>{}),og.set(e,t),e}function ib(t){if(jp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});jp.set(t,e)}let Fp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return jp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||nT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function sb(t){Fp=t(Fp)}function ob(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(xf(this),e,...n);return nT.set(r,e.sort?e.sort():[e]),Yi(r)}:nb().includes(t)?function(...e){return t.apply(xf(this),e),Yi(tT.get(this))}:function(...e){return Yi(t.apply(xf(this),e))}}function ab(t){return typeof t=="function"?ob(t):(t instanceof IDBTransaction&&ib(t),eb(t,tb())?new Proxy(t,Fp):t)}function Yi(t){if(t instanceof IDBRequest)return rb(t);if(bf.has(t))return bf.get(t);const e=ab(t);return e!==t&&(bf.set(t,e),og.set(e,t)),e}const xf=t=>og.get(t);function lb(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Yi(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Yi(o.result),c.oldVersion,c.newVersion,Yi(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const ub=["get","getKey","getAll","getAllKeys","count"],cb=["put","add","delete","clear"],Nf=new Map;function uv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Nf.get(e))return Nf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=cb.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ub.includes(n)))return;const s=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),i&&c.done]))[0]};return Nf.set(e,s),s}sb(t=>({...t,get:(e,n,r)=>uv(e,n)||t.get(e,n,r),has:(e,n)=>!!uv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(db(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function db(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Up="@firebase/app",cv="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni=new sg("@firebase/app"),fb="@firebase/app-compat",pb="@firebase/analytics-compat",mb="@firebase/analytics",gb="@firebase/app-check-compat",_b="@firebase/app-check",yb="@firebase/auth",vb="@firebase/auth-compat",wb="@firebase/database",Eb="@firebase/data-connect",Tb="@firebase/database-compat",Ib="@firebase/functions",Sb="@firebase/functions-compat",Ab="@firebase/installations",Cb="@firebase/installations-compat",Pb="@firebase/messaging",kb="@firebase/messaging-compat",Rb="@firebase/performance",bb="@firebase/performance-compat",xb="@firebase/remote-config",Nb="@firebase/remote-config-compat",Ob="@firebase/storage",Db="@firebase/storage-compat",Lb="@firebase/firestore",Vb="@firebase/vertexai-preview",Mb="@firebase/firestore-compat",jb="firebase",Fb="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp="[DEFAULT]",Ub={[Up]:"fire-core",[fb]:"fire-core-compat",[mb]:"fire-analytics",[pb]:"fire-analytics-compat",[_b]:"fire-app-check",[gb]:"fire-app-check-compat",[yb]:"fire-auth",[vb]:"fire-auth-compat",[wb]:"fire-rtdb",[Eb]:"fire-data-connect",[Tb]:"fire-rtdb-compat",[Ib]:"fire-fn",[Sb]:"fire-fn-compat",[Ab]:"fire-iid",[Cb]:"fire-iid-compat",[Pb]:"fire-fcm",[kb]:"fire-fcm-compat",[Rb]:"fire-perf",[bb]:"fire-perf-compat",[xb]:"fire-rc",[Nb]:"fire-rc-compat",[Ob]:"fire-gcs",[Db]:"fire-gcs-compat",[Lb]:"fire-fst",[Mb]:"fire-fst-compat",[Vb]:"fire-vertex","fire-js":"fire-js",[jb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=new Map,Bb=new Map,$p=new Map;function hv(t,e){try{t.container.addComponent(e)}catch(n){ni.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ca(t){const e=t.name;if($p.has(e))return ni.debug(`There were multiple attempts to register component ${e}.`),!1;$p.set(e,t);for(const n of Rh.values())hv(n,t);for(const n of Bb.values())hv(n,t);return!0}function ag(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Fn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xi=new Eu("app","Firebase",$b);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=Fb;function rT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Bp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Xi.create("bad-app-name",{appName:String(i)});if(n||(n=Z0()),!n)throw Xi.create("no-options");const s=Rh.get(i);if(s){if(kh(n,s.options)&&kh(r,s.config))return s;throw Xi.create("duplicate-app",{appName:i})}const o=new QR(i);for(const c of $p.values())o.addComponent(c);const l=new zb(n,r,o);return Rh.set(i,l),l}function iT(t=Bp){const e=Rh.get(t);if(!e&&t===Bp&&Z0())return rT();if(!e)throw Xi.create("no-app",{appName:t});return e}function Ji(t,e,n){var r;let i=(r=Ub[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ni.warn(l.join(" "));return}ca(new Gs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb="firebase-heartbeat-database",qb=1,ou="firebase-heartbeat-store";let Of=null;function sT(){return Of||(Of=lb(Wb,qb,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ou)}catch(n){console.warn(n)}}}}).catch(t=>{throw Xi.create("idb-open",{originalErrorMessage:t.message})})),Of}async function Hb(t){try{const n=(await sT()).transaction(ou),r=await n.objectStore(ou).get(oT(t));return await n.done,r}catch(e){if(e instanceof li)ni.warn(e.message);else{const n=Xi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ni.warn(n.message)}}}async function dv(t,e){try{const r=(await sT()).transaction(ou,"readwrite");await r.objectStore(ou).put(e,oT(t)),await r.done}catch(n){if(n instanceof li)ni.warn(n.message);else{const r=Xi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ni.warn(r.message)}}}function oT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb=1024,Gb=30*24*60*60*1e3;class Qb{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Xb(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=fv();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=Gb}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ni.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=fv(),{heartbeatsToSend:r,unsentEntries:i}=Yb(this._heartbeatsCache.heartbeats),s=Ph(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ni.warn(n),""}}}function fv(){return new Date().toISOString().substring(0,10)}function Yb(t,e=Kb){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),pv(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),pv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Xb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MR()?jR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Hb(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return dv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return dv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function pv(t){return Ph(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(t){ca(new Gs("platform-logger",e=>new hb(e),"PRIVATE")),ca(new Gs("heartbeat",e=>new Qb(e),"PRIVATE")),Ji(Up,cv,t),Ji(Up,cv,"esm2017"),Ji("fire-js","")}Jb("");function lg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function aT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Zb=aT,lT=new Eu("auth","Firebase",aT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=new sg("@firebase/auth");function ex(t,...e){bh.logLevel<=Ae.WARN&&bh.warn(`Auth (${Sa}): ${t}`,...e)}function Kc(t,...e){bh.logLevel<=Ae.ERROR&&bh.error(`Auth (${Sa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(t,...e){throw cg(t,...e)}function Bn(t,...e){return cg(t,...e)}function ug(t,e,n){const r=Object.assign(Object.assign({},Zb()),{[e]:n});return new Eu("auth","Firebase",r).create(e,{appName:t.name})}function Qr(t){return ug(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uT(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Wn(t,"argument-error"),ug(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function cg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return lT.create(t,...e)}function ue(t,e,...n){if(!t)throw cg(e,...n)}function Wr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Kc(e),new Error(e)}function ri(t,e){t||Wr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function cT(){return mv()==="http:"||mv()==="https:"}function mv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cT()||OR()||"connection"in navigator)?navigator.onLine:!0}function nx(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ri(n>e,"Short delay should be less than long delay!"),this.isMobile=bR()||DR()}get(){return tx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(t,e){ri(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix=new Iu(3e4,6e4);function Ar(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function qn(t,e,n,r,i={}){return dT(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=Tu(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:c},s);return NR()||(h.referrerPolicy="no-referrer"),hT.fetch()(fT(t,t.config.apiHost,n,l),h)})}async function dT(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},rx),e);try{const i=new ox(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw bc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[c,h]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw bc(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw bc(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw bc(t,"user-disabled",o);const m=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw ug(t,m,h);Wn(t,m)}}catch(i){if(i instanceof li)throw i;Wn(t,"network-request-failed",{message:String(i)})}}async function Su(t,e,n,r,i={}){const s=await qn(t,e,n,r,i);return"mfaPendingCredential"in s&&Wn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function fT(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?hg(t.config,i):`${t.config.apiScheme}://${i}`}function sx(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ox{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Bn(this.auth,"network-request-failed")),ix.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function bc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Bn(t,e,r);return i.customData._tokenResponse=n,i}function gv(t){return t!==void 0&&t.enterprise!==void 0}class ax{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return sx(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function lx(t,e){return qn(t,"GET","/v2/recaptchaConfig",Ar(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ux(t,e){return qn(t,"POST","/v1/accounts:delete",e)}async function pT(t,e){return qn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function cx(t,e=!1){const n=Ke(t),r=await n.getIdToken(e),i=dg(r);ue(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ll(Df(i.auth_time)),issuedAtTime:Ll(Df(i.iat)),expirationTime:Ll(Df(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Df(t){return Number(t)*1e3}function dg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Kc("JWT malformed, contained fewer than 3 sections"),null;try{const i=X0(n);return i?JSON.parse(i):(Kc("Failed to decode base64 JWT payload"),null)}catch(i){return Kc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function _v(t){const e=dg(t);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qs(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof li&&hx(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function hx({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ll(this.lastLoginAt),this.creationTime=Ll(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Qs(t,pT(n,{idToken:r}));ue(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?mT(s.providerUserInfo):[],l=px(t.providerData,o),c=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),m=c?h:!1,_={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new zp(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(t,_)}async function fx(t){const e=Ke(t);await Nh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function px(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function mT(t){return t.map(e=>{var{providerId:n}=e,r=lg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mx(t,e){const n=await dT(t,{},async()=>{const r=Tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=fT(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",hT.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function gx(t,e){return qn(t,"POST","/v2/accounts:revokeToken",Ar(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_v(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ue(e.length!==0,"internal-error");const n=_v(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await mx(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Zo;return r&&(ue(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ue(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ue(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zo,this.toJSON())}_performRefresh(){return Wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(t,e){ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class qr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=lg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new zp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Qs(this,this.stsTokenManager.getToken(this.auth,e));return ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return cx(this,e)}reload(){return fx(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new qr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Nh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fn(this.auth.app))return Promise.reject(Qr(this.auth));const e=await this.getIdToken();return await Qs(this,ux(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,c,h,m;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,k=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,N=(o=n.photoURL)!==null&&o!==void 0?o:void 0,x=(l=n.tenantId)!==null&&l!==void 0?l:void 0,D=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,S=(h=n.createdAt)!==null&&h!==void 0?h:void 0,I=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:C,emailVerified:F,isAnonymous:K,providerData:Q,stsTokenManager:P}=n;ue(C&&P,e,"internal-error");const E=Zo.fromJSON(this.name,P);ue(typeof C=="string",e,"internal-error"),Pi(_,e.name),Pi(y,e.name),ue(typeof F=="boolean",e,"internal-error"),ue(typeof K=="boolean",e,"internal-error"),Pi(k,e.name),Pi(N,e.name),Pi(x,e.name),Pi(D,e.name),Pi(S,e.name),Pi(I,e.name);const A=new qr({uid:C,auth:e,email:y,emailVerified:F,displayName:_,isAnonymous:K,photoURL:N,phoneNumber:k,tenantId:x,stsTokenManager:E,createdAt:S,lastLoginAt:I});return Q&&Array.isArray(Q)&&(A.providerData=Q.map(R=>Object.assign({},R))),D&&(A._redirectEventId=D),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new Zo;i.updateFromServerResponse(n);const s=new qr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Nh(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ue(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?mT(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new Zo;l.updateFromIdToken(r);const c=new qr({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new zp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,h),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv=new Map;function Hr(t){ri(t instanceof Function,"Expected a class definition");let e=yv.get(t);return e?(ri(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,yv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}gT.type="NONE";const vv=gT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(t,e,n){return`firebase:${t}:${e}:${n}`}class ea{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Gc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Gc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?qr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ea(Hr(vv),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||Hr(vv);const o=Gc(r,e.config.apiKey,e.name);let l=null;for(const h of n)try{const m=await h._get(o);if(m){const _=qr._fromJSON(e,m);h!==s&&(l=_),s=h;break}}catch{}const c=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new ea(s,e,r):(s=c[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(o)}catch{}})),new ea(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_T(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TT(e))return"Blackberry";if(IT(e))return"Webos";if(yT(e))return"Safari";if((e.includes("chrome/")||vT(e))&&!e.includes("edge/"))return"Chrome";if(ET(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function _T(t=Kt()){return/firefox\//i.test(t)}function yT(t=Kt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vT(t=Kt()){return/crios\//i.test(t)}function wT(t=Kt()){return/iemobile/i.test(t)}function ET(t=Kt()){return/android/i.test(t)}function TT(t=Kt()){return/blackberry/i.test(t)}function IT(t=Kt()){return/webos/i.test(t)}function fg(t=Kt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _x(t=Kt()){var e;return fg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function yx(){return LR()&&document.documentMode===10}function ST(t=Kt()){return fg(t)||ET(t)||IT(t)||TT(t)||/windows phone/i.test(t)||wT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(t,e=[]){let n;switch(t){case"Browser":n=wv(Kt());break;case"Worker":n=`${wv(Kt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Sa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const c=e(s);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wx(t,e={}){return qn(t,"GET","/v2/passwordPolicy",Ar(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex=6;class Tx{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Ex,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ev(this),this.idTokenSubscription=new Ev(this),this.beforeStateQueue=new vx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Hr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ea.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await pT(this,{idToken:e}),r=await qr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Fn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Nh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fn(this.app))return Promise.reject(Qr(this));const n=e?Ke(e):null;return n&&ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fn(this.app)?Promise.reject(Qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fn(this.app)?Promise.reject(Qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await wx(this),n=new Tx(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Eu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await gx(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Hr(e)||this._popupRedirectResolver;ue(n,this,"argument-error"),this.redirectPersistenceManager=await ea.create(this,[Hr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&ex(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ui(t){return Ke(t)}class Ev{constructor(e){this.auth=e,this.observer=null,this.addObserver=zR(n=>this.observer=n)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Sx(t){hd=t}function CT(t){return hd.loadJS(t)}function Ax(){return hd.recaptchaEnterpriseScript}function Cx(){return hd.gapiScript}function Px(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const kx="recaptcha-enterprise",Rx="NO_RECAPTCHA";class bx{constructor(e){this.type=kx,this.auth=ui(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{lx(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const h=new ax(c);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,o(h.siteKey)}}).catch(c=>{l(c)})})}function i(s,o,l){const c=window.grecaptcha;gv(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(h=>{o(h)}).catch(()=>{o(Rx)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&gv(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Ax();c.length!==0&&(c+=l),CT(c).then(()=>{i(l,s,o)}).catch(h=>{o(h)})}}).catch(l=>{o(l)})})}}async function Tv(t,e,n,r=!1){const i=new bx(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Oh(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Tv(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Tv(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(t,e){const n=ag(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(kh(s,e??{}))return i;Wn(i,"already-initialized")}return n.initialize({options:e})}function Nx(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Hr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Ox(t,e,n){const r=ui(t);ue(r._canInitEmulator,r,"emulator-config-failed"),ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=PT(e),{host:o,port:l}=Dx(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),Lx()}function PT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Dx(t){const e=PT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Iv(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Iv(o)}}}function Iv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Lx(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wr("not implemented")}_getIdTokenResponse(e){return Wr("not implemented")}_linkToIdToken(e,n){return Wr("not implemented")}_getReauthenticationResolver(e){return Wr("not implemented")}}async function Vx(t,e){return qn(t,"POST","/v1/accounts:update",e)}async function Mx(t,e){return qn(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jx(t,e){return Su(t,"POST","/v1/accounts:signInWithPassword",Ar(t,e))}async function kT(t,e){return qn(t,"POST","/v1/accounts:sendOobCode",Ar(t,e))}async function Fx(t,e){return kT(t,e)}async function Ux(t,e){return kT(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bx(t,e){return Su(t,"POST","/v1/accounts:signInWithEmailLink",Ar(t,e))}async function $x(t,e){return Su(t,"POST","/v1/accounts:signInWithEmailLink",Ar(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends pg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new au(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new au(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Oh(e,n,"signInWithPassword",jx);case"emailLink":return Bx(e,{email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Oh(e,r,"signUpPassword",Mx);case"emailLink":return $x(e,{idToken:n,email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ta(t,e){return Su(t,"POST","/v1/accounts:signInWithIdp",Ar(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx="http://localhost";class Ys extends pg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ys(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Wn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=lg(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ys(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ta(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ta(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ta(e,n)}buildRequest(){const e={requestUri:zx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Tu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qx(t){const e=wl(El(t)).link,n=e?wl(El(e)).deep_link_id:null,r=wl(El(t)).deep_link_id;return(r?wl(El(r)).link:null)||r||n||e||t}class mg{constructor(e){var n,r,i,s,o,l;const c=wl(El(e)),h=(n=c.apiKey)!==null&&n!==void 0?n:null,m=(r=c.oobCode)!==null&&r!==void 0?r:null,_=Wx((i=c.mode)!==null&&i!==void 0?i:null);ue(h&&m&&_,"argument-error"),this.apiKey=h,this.operation=_,this.code=m,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=qx(e);try{return new mg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(){this.providerId=ns.PROVIDER_ID}static credential(e,n){return au._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=mg.parseLink(n);return ue(r,"argument-error"),au._fromEmailAndCode(e,r.code,r.tenantId)}}ns.PROVIDER_ID="password";ns.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ns.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au extends dd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends Au{constructor(){super("facebook.com")}static credential(e){return Ys._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ni.credential(e.oauthAccessToken)}catch{return null}}}Ni.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ni.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends Au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ys._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Br.credential(n,r)}catch{return null}}}Br.GOOGLE_SIGN_IN_METHOD="google.com";Br.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends Au{constructor(){super("github.com")}static credential(e){return Ys._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oi.credential(e.oauthAccessToken)}catch{return null}}}Oi.GITHUB_SIGN_IN_METHOD="github.com";Oi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends Au{constructor(){super("twitter.com")}static credential(e,n){return Ys._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Di.credential(n,r)}catch{return null}}}Di.TWITTER_SIGN_IN_METHOD="twitter.com";Di.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hx(t,e){return Su(t,"POST","/v1/accounts:signUp",Ar(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await qr._fromIdTokenResponse(e,r,i),o=Sv(r);return new Xs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Sv(r);return new Xs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Sv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh extends li{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Dh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Dh(e,n,r,i)}}function RT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Dh._fromErrorAndOperation(t,s,e,r):s})}async function Kx(t,e,n=!1){const r=await Qs(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bT(t,e,n=!1){const{auth:r}=t;if(Fn(r.app))return Promise.reject(Qr(r));const i="reauthenticate";try{const s=await Qs(t,RT(r,i,e,t),n);ue(s.idToken,r,"internal-error");const o=dg(s.idToken);ue(o,r,"internal-error");const{sub:l}=o;return ue(t.uid===l,r,"user-mismatch"),Xs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Wn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xT(t,e,n=!1){if(Fn(t.app))return Promise.reject(Qr(t));const r="signIn",i=await RT(t,r,e),s=await Xs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Gx(t,e){return xT(ui(t),e)}async function Av(t,e){return bT(Ke(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NT(t){const e=ui(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Qx(t,e,n){const r=ui(t);await Oh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Ux)}async function Yx(t,e,n){if(Fn(t.app))return Promise.reject(Qr(t));const r=ui(t),o=await Oh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Hx).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&NT(t),c}),l=await Xs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function OT(t,e,n){return Fn(t.app)?Promise.reject(Qr(t)):Gx(Ke(t),ns.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&NT(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xx(t,e){return qn(t,"POST","/v1/accounts:createAuthUri",Ar(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jx(t,e){const n=cT()?xh():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await Xx(Ke(t),r);return i||[]}async function DT(t,e){const n=Ke(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:s}=await Fx(n.auth,i);s!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zx(t,e){return qn(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e1(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ke(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Qs(r,Zx(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const l=r.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function LT(t,e){return t1(Ke(t),null,e)}async function t1(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(s.password=n);const o=await Qs(t,Vx(r,s));await t._updateTokensIfNecessary(o,!0)}function n1(t,e,n,r){return Ke(t).onIdTokenChanged(e,n,r)}function r1(t,e,n){return Ke(t).beforeAuthStateChanged(e,n)}function gg(t,e,n,r){return Ke(t).onAuthStateChanged(e,n,r)}function i1(t){return Ke(t).signOut()}async function VT(t){return Ke(t).delete()}const Lh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Lh,"1"),this.storage.removeItem(Lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=1e3,o1=10;class jT extends MT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ST(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);yx()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,o1):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},s1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}jT.type="LOCAL";const a1=jT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT extends MT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}FT.type="SESSION";const UT=FT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new fd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async h=>h(n.origin,s)),c=await l1(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,c)=>{const h=_g("",20);i.port1.start();const m=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(_){const y=_;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(y.data.response);break;default:clearTimeout(m),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(){return window}function c1(t){wr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(){return typeof wr().WorkerGlobalScope<"u"&&typeof wr().importScripts=="function"}async function h1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function d1(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function f1(){return BT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="firebaseLocalStorageDb",p1=1,Vh="firebaseLocalStorage",zT="fbase_key";class Cu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function pd(t,e){return t.transaction([Vh],e?"readwrite":"readonly").objectStore(Vh)}function m1(){const t=indexedDB.deleteDatabase($T);return new Cu(t).toPromise()}function Wp(){const t=indexedDB.open($T,p1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Vh,{keyPath:zT})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Vh)?e(r):(r.close(),await m1(),e(await Wp()))})})}async function Cv(t,e,n){const r=pd(t,!0).put({[zT]:e,value:n});return new Cu(r).toPromise()}async function g1(t,e){const n=pd(t,!1).get(e),r=await new Cu(n).toPromise();return r===void 0?null:r.value}function Pv(t,e){const n=pd(t,!0).delete(e);return new Cu(n).toPromise()}const _1=800,y1=3;class WT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>y1)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fd._getInstance(f1()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await h1(),!this.activeServiceWorker)return;this.sender=new u1(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||d1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wp();return await Cv(e,Lh,"1"),await Pv(e,Lh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Cv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>g1(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Pv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=pd(i,!1).getAll();return new Cu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WT.type="LOCAL";const v1=WT;new Iu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(t,e){return e?Hr(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg extends pg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ta(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ta(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ta(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function w1(t){return xT(t.auth,new vg(t),t.bypassAuthState)}function E1(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),bT(n,new vg(t),t.bypassAuthState)}async function T1(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),Kx(n,new vg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return w1;case"linkViaPopup":case"linkViaRedirect":return T1;case"reauthViaPopup":case"reauthViaRedirect":return E1;default:Wn(this.auth,"internal-error")}}resolve(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1=new Iu(2e3,1e4);async function HT(t,e,n){if(Fn(t.app))return Promise.reject(Bn(t,"operation-not-supported-in-this-environment"));const r=ui(t);uT(t,e,dd);const i=yg(r,n);return new ji(r,"signInViaPopup",e,i).executeNotNull()}async function kv(t,e,n){const r=Ke(t);if(Fn(r.auth.app))return Promise.reject(Bn(r.auth,"operation-not-supported-in-this-environment"));uT(r.auth,e,dd);const i=yg(r.auth,n);return new ji(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}class ji extends qT{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ji.currentPopupAction&&ji.currentPopupAction.cancel(),ji.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){ri(this.filter.length===1,"Popup operations only handle one event");const e=_g();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Bn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Bn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ji.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,I1.get())};e()}}ji.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="pendingRedirect",Qc=new Map;class A1 extends qT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Qc.get(this.auth._key());if(!e){try{const r=await C1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Qc.set(this.auth._key(),e)}return this.bypassAuthState||Qc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function C1(t,e){const n=R1(e),r=k1(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function P1(t,e){Qc.set(t._key(),e)}function k1(t){return Hr(t._redirectPersistence)}function R1(t){return Gc(S1,t.config.apiKey,t.name)}async function b1(t,e,n=!1){if(Fn(t.app))return Promise.reject(Qr(t));const r=ui(t),i=yg(r,e),o=await new A1(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1=10*60*1e3;class N1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!O1(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!KT(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Bn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=x1&&this.cachedEventUids.clear(),this.cachedEventUids.has(Rv(e))}saveEventToCache(e){this.cachedEventUids.add(Rv(e)),this.lastProcessedEventTime=Date.now()}}function Rv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function KT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function O1(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D1(t,e={}){return qn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,V1=/^https?/;async function M1(t){if(t.config.emulator)return;const{authorizedDomains:e}=await D1(t);for(const n of e)try{if(j1(n))return}catch{}Wn(t,"unauthorized-domain")}function j1(t){const e=xh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!V1.test(n))return!1;if(L1.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1=new Iu(3e4,6e4);function bv(){const t=wr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function U1(t){return new Promise((e,n)=>{var r,i,s;function o(){bv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bv(),n(Bn(t,"network-request-failed"))},timeout:F1.get()})}if(!((i=(r=wr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=wr().gapi)===null||s===void 0)&&s.load)o();else{const l=Px("iframefcb");return wr()[l]=()=>{gapi.load?o():n(Bn(t,"network-request-failed"))},CT(`${Cx()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Yc=null,e})}let Yc=null;function B1(t){return Yc=Yc||U1(t),Yc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=new Iu(5e3,15e3),z1="__/auth/iframe",W1="emulator/auth/iframe",q1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},H1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function K1(t){const e=t.config;ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?hg(e,W1):`https://${t.config.authDomain}/${z1}`,r={apiKey:e.apiKey,appName:t.name,v:Sa},i=H1.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Tu(r).slice(1)}`}async function G1(t){const e=await B1(t),n=wr().gapi;return ue(n,t,"internal-error"),e.open({where:document.body,url:K1(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:q1,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Bn(t,"network-request-failed"),l=wr().setTimeout(()=>{s(o)},$1.get());function c(){wr().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Y1=500,X1=600,J1="_blank",Z1="http://localhost";class xv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eN(t,e,n,r=Y1,i=X1){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},Q1),{width:r.toString(),height:i.toString(),top:s,left:o}),h=Kt().toLowerCase();n&&(l=vT(h)?J1:n),_T(h)&&(e=e||Z1,c.scrollbars="yes");const m=Object.entries(c).reduce((y,[k,N])=>`${y}${k}=${N},`,"");if(_x(h)&&l!=="_self")return tN(e||"",l),new xv(null);const _=window.open(e||"",l,m);ue(_,t,"popup-blocked");try{_.focus()}catch{}return new xv(_)}function tN(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN="__/auth/handler",rN="emulator/auth/handler",iN=encodeURIComponent("fac");async function Nv(t,e,n,r,i,s){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Sa,eventId:i};if(e instanceof dd){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",$R(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,_]of Object.entries({}))o[m]=_}if(e instanceof Au){const m=e.getScopes().filter(_=>_!=="");m.length>0&&(o.scopes=m.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const m of Object.keys(l))l[m]===void 0&&delete l[m];const c=await t._getAppCheckToken(),h=c?`#${iN}=${encodeURIComponent(c)}`:"";return`${sN(t)}?${Tu(l).slice(1)}${h}`}function sN({config:t}){return t.emulator?hg(t,rN):`https://${t.authDomain}/${nN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf="webStorageSupport";class oN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UT,this._completeRedirectFn=b1,this._overrideRedirectResult=P1}async _openPopup(e,n,r,i){var s;ri((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Nv(e,n,r,xh(),i);return eN(e,o,_g())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Nv(e,n,r,xh(),i);return c1(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ri(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await G1(e),r=new N1(e);return n.register("authEvent",i=>(ue(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Lf,{type:Lf},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Lf];o!==void 0&&n(!!o),Wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=M1(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ST()||yT()||fg()}}const aN=oN;var Ov="@firebase/auth",Dv="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cN(t){ca(new Gs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;ue(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AT(t)},h=new Ix(r,i,s,c);return Nx(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ca(new Gs("auth-internal",e=>{const n=ui(e.getProvider("auth").getImmediate());return(r=>new lN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ji(Ov,Dv,uN(t)),Ji(Ov,Dv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=5*60,dN=eT("authIdTokenMaxAge")||hN;let Lv=null;const fN=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>dN)return;const i=n==null?void 0:n.token;Lv!==i&&(Lv=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function pN(t=iT()){const e=ag(t,"auth");if(e.isInitialized())return e.getImmediate();const n=xx(t,{popupRedirectResolver:aN,persistence:[v1,a1,UT]}),r=eT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=fN(s.toString());r1(n,o,()=>o(n.currentUser)),n1(n,l=>o(l))}}const i=J0("auth");return i&&Ox(n,`http://${i}`),n}function mN(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Sx({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Bn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",mN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cN("Browser");var gN="firebase",_N="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ji(gN,_N,"app");var Vv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $s,GT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,E){function A(){}A.prototype=E.prototype,P.D=E.prototype,P.prototype=new A,P.prototype.constructor=P,P.C=function(R,O,M){for(var b=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)b[kt-2]=arguments[kt];return E.prototype[O].apply(R,b)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,E,A){A||(A=0);var R=Array(16);if(typeof E=="string")for(var O=0;16>O;++O)R[O]=E.charCodeAt(A++)|E.charCodeAt(A++)<<8|E.charCodeAt(A++)<<16|E.charCodeAt(A++)<<24;else for(O=0;16>O;++O)R[O]=E[A++]|E[A++]<<8|E[A++]<<16|E[A++]<<24;E=P.g[0],A=P.g[1],O=P.g[2];var M=P.g[3],b=E+(M^A&(O^M))+R[0]+3614090360&4294967295;E=A+(b<<7&4294967295|b>>>25),b=M+(O^E&(A^O))+R[1]+3905402710&4294967295,M=E+(b<<12&4294967295|b>>>20),b=O+(A^M&(E^A))+R[2]+606105819&4294967295,O=M+(b<<17&4294967295|b>>>15),b=A+(E^O&(M^E))+R[3]+3250441966&4294967295,A=O+(b<<22&4294967295|b>>>10),b=E+(M^A&(O^M))+R[4]+4118548399&4294967295,E=A+(b<<7&4294967295|b>>>25),b=M+(O^E&(A^O))+R[5]+1200080426&4294967295,M=E+(b<<12&4294967295|b>>>20),b=O+(A^M&(E^A))+R[6]+2821735955&4294967295,O=M+(b<<17&4294967295|b>>>15),b=A+(E^O&(M^E))+R[7]+4249261313&4294967295,A=O+(b<<22&4294967295|b>>>10),b=E+(M^A&(O^M))+R[8]+1770035416&4294967295,E=A+(b<<7&4294967295|b>>>25),b=M+(O^E&(A^O))+R[9]+2336552879&4294967295,M=E+(b<<12&4294967295|b>>>20),b=O+(A^M&(E^A))+R[10]+4294925233&4294967295,O=M+(b<<17&4294967295|b>>>15),b=A+(E^O&(M^E))+R[11]+2304563134&4294967295,A=O+(b<<22&4294967295|b>>>10),b=E+(M^A&(O^M))+R[12]+1804603682&4294967295,E=A+(b<<7&4294967295|b>>>25),b=M+(O^E&(A^O))+R[13]+4254626195&4294967295,M=E+(b<<12&4294967295|b>>>20),b=O+(A^M&(E^A))+R[14]+2792965006&4294967295,O=M+(b<<17&4294967295|b>>>15),b=A+(E^O&(M^E))+R[15]+1236535329&4294967295,A=O+(b<<22&4294967295|b>>>10),b=E+(O^M&(A^O))+R[1]+4129170786&4294967295,E=A+(b<<5&4294967295|b>>>27),b=M+(A^O&(E^A))+R[6]+3225465664&4294967295,M=E+(b<<9&4294967295|b>>>23),b=O+(E^A&(M^E))+R[11]+643717713&4294967295,O=M+(b<<14&4294967295|b>>>18),b=A+(M^E&(O^M))+R[0]+3921069994&4294967295,A=O+(b<<20&4294967295|b>>>12),b=E+(O^M&(A^O))+R[5]+3593408605&4294967295,E=A+(b<<5&4294967295|b>>>27),b=M+(A^O&(E^A))+R[10]+38016083&4294967295,M=E+(b<<9&4294967295|b>>>23),b=O+(E^A&(M^E))+R[15]+3634488961&4294967295,O=M+(b<<14&4294967295|b>>>18),b=A+(M^E&(O^M))+R[4]+3889429448&4294967295,A=O+(b<<20&4294967295|b>>>12),b=E+(O^M&(A^O))+R[9]+568446438&4294967295,E=A+(b<<5&4294967295|b>>>27),b=M+(A^O&(E^A))+R[14]+3275163606&4294967295,M=E+(b<<9&4294967295|b>>>23),b=O+(E^A&(M^E))+R[3]+4107603335&4294967295,O=M+(b<<14&4294967295|b>>>18),b=A+(M^E&(O^M))+R[8]+1163531501&4294967295,A=O+(b<<20&4294967295|b>>>12),b=E+(O^M&(A^O))+R[13]+2850285829&4294967295,E=A+(b<<5&4294967295|b>>>27),b=M+(A^O&(E^A))+R[2]+4243563512&4294967295,M=E+(b<<9&4294967295|b>>>23),b=O+(E^A&(M^E))+R[7]+1735328473&4294967295,O=M+(b<<14&4294967295|b>>>18),b=A+(M^E&(O^M))+R[12]+2368359562&4294967295,A=O+(b<<20&4294967295|b>>>12),b=E+(A^O^M)+R[5]+4294588738&4294967295,E=A+(b<<4&4294967295|b>>>28),b=M+(E^A^O)+R[8]+2272392833&4294967295,M=E+(b<<11&4294967295|b>>>21),b=O+(M^E^A)+R[11]+1839030562&4294967295,O=M+(b<<16&4294967295|b>>>16),b=A+(O^M^E)+R[14]+4259657740&4294967295,A=O+(b<<23&4294967295|b>>>9),b=E+(A^O^M)+R[1]+2763975236&4294967295,E=A+(b<<4&4294967295|b>>>28),b=M+(E^A^O)+R[4]+1272893353&4294967295,M=E+(b<<11&4294967295|b>>>21),b=O+(M^E^A)+R[7]+4139469664&4294967295,O=M+(b<<16&4294967295|b>>>16),b=A+(O^M^E)+R[10]+3200236656&4294967295,A=O+(b<<23&4294967295|b>>>9),b=E+(A^O^M)+R[13]+681279174&4294967295,E=A+(b<<4&4294967295|b>>>28),b=M+(E^A^O)+R[0]+3936430074&4294967295,M=E+(b<<11&4294967295|b>>>21),b=O+(M^E^A)+R[3]+3572445317&4294967295,O=M+(b<<16&4294967295|b>>>16),b=A+(O^M^E)+R[6]+76029189&4294967295,A=O+(b<<23&4294967295|b>>>9),b=E+(A^O^M)+R[9]+3654602809&4294967295,E=A+(b<<4&4294967295|b>>>28),b=M+(E^A^O)+R[12]+3873151461&4294967295,M=E+(b<<11&4294967295|b>>>21),b=O+(M^E^A)+R[15]+530742520&4294967295,O=M+(b<<16&4294967295|b>>>16),b=A+(O^M^E)+R[2]+3299628645&4294967295,A=O+(b<<23&4294967295|b>>>9),b=E+(O^(A|~M))+R[0]+4096336452&4294967295,E=A+(b<<6&4294967295|b>>>26),b=M+(A^(E|~O))+R[7]+1126891415&4294967295,M=E+(b<<10&4294967295|b>>>22),b=O+(E^(M|~A))+R[14]+2878612391&4294967295,O=M+(b<<15&4294967295|b>>>17),b=A+(M^(O|~E))+R[5]+4237533241&4294967295,A=O+(b<<21&4294967295|b>>>11),b=E+(O^(A|~M))+R[12]+1700485571&4294967295,E=A+(b<<6&4294967295|b>>>26),b=M+(A^(E|~O))+R[3]+2399980690&4294967295,M=E+(b<<10&4294967295|b>>>22),b=O+(E^(M|~A))+R[10]+4293915773&4294967295,O=M+(b<<15&4294967295|b>>>17),b=A+(M^(O|~E))+R[1]+2240044497&4294967295,A=O+(b<<21&4294967295|b>>>11),b=E+(O^(A|~M))+R[8]+1873313359&4294967295,E=A+(b<<6&4294967295|b>>>26),b=M+(A^(E|~O))+R[15]+4264355552&4294967295,M=E+(b<<10&4294967295|b>>>22),b=O+(E^(M|~A))+R[6]+2734768916&4294967295,O=M+(b<<15&4294967295|b>>>17),b=A+(M^(O|~E))+R[13]+1309151649&4294967295,A=O+(b<<21&4294967295|b>>>11),b=E+(O^(A|~M))+R[4]+4149444226&4294967295,E=A+(b<<6&4294967295|b>>>26),b=M+(A^(E|~O))+R[11]+3174756917&4294967295,M=E+(b<<10&4294967295|b>>>22),b=O+(E^(M|~A))+R[2]+718787259&4294967295,O=M+(b<<15&4294967295|b>>>17),b=A+(M^(O|~E))+R[9]+3951481745&4294967295,P.g[0]=P.g[0]+E&4294967295,P.g[1]=P.g[1]+(O+(b<<21&4294967295|b>>>11))&4294967295,P.g[2]=P.g[2]+O&4294967295,P.g[3]=P.g[3]+M&4294967295}r.prototype.u=function(P,E){E===void 0&&(E=P.length);for(var A=E-this.blockSize,R=this.B,O=this.h,M=0;M<E;){if(O==0)for(;M<=A;)i(this,P,M),M+=this.blockSize;if(typeof P=="string"){for(;M<E;)if(R[O++]=P.charCodeAt(M++),O==this.blockSize){i(this,R),O=0;break}}else for(;M<E;)if(R[O++]=P[M++],O==this.blockSize){i(this,R),O=0;break}}this.h=O,this.o+=E},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var E=1;E<P.length-8;++E)P[E]=0;var A=8*this.o;for(E=P.length-8;E<P.length;++E)P[E]=A&255,A/=256;for(this.u(P),P=Array(16),E=A=0;4>E;++E)for(var R=0;32>R;R+=8)P[A++]=this.g[E]>>>R&255;return P};function s(P,E){var A=l;return Object.prototype.hasOwnProperty.call(A,P)?A[P]:A[P]=E(P)}function o(P,E){this.h=E;for(var A=[],R=!0,O=P.length-1;0<=O;O--){var M=P[O]|0;R&&M==E||(A[O]=M,R=!1)}this.g=A}var l={};function c(P){return-128<=P&&128>P?s(P,function(E){return new o([E|0],0>E?-1:0)}):new o([P|0],0>P?-1:0)}function h(P){if(isNaN(P)||!isFinite(P))return _;if(0>P)return D(h(-P));for(var E=[],A=1,R=0;P>=A;R++)E[R]=P/A|0,A*=4294967296;return new o(E,0)}function m(P,E){if(P.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(P.charAt(0)=="-")return D(m(P.substring(1),E));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=h(Math.pow(E,8)),R=_,O=0;O<P.length;O+=8){var M=Math.min(8,P.length-O),b=parseInt(P.substring(O,O+M),E);8>M?(M=h(Math.pow(E,M)),R=R.j(M).add(h(b))):(R=R.j(A),R=R.add(h(b)))}return R}var _=c(0),y=c(1),k=c(16777216);t=o.prototype,t.m=function(){if(x(this))return-D(this).m();for(var P=0,E=1,A=0;A<this.g.length;A++){var R=this.i(A);P+=(0<=R?R:4294967296+R)*E,E*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(N(this))return"0";if(x(this))return"-"+D(this).toString(P);for(var E=h(Math.pow(P,6)),A=this,R="";;){var O=F(A,E).g;A=S(A,O.j(E));var M=((0<A.g.length?A.g[0]:A.h)>>>0).toString(P);if(A=O,N(A))return M+R;for(;6>M.length;)M="0"+M;R=M+R}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function N(P){if(P.h!=0)return!1;for(var E=0;E<P.g.length;E++)if(P.g[E]!=0)return!1;return!0}function x(P){return P.h==-1}t.l=function(P){return P=S(this,P),x(P)?-1:N(P)?0:1};function D(P){for(var E=P.g.length,A=[],R=0;R<E;R++)A[R]=~P.g[R];return new o(A,~P.h).add(y)}t.abs=function(){return x(this)?D(this):this},t.add=function(P){for(var E=Math.max(this.g.length,P.g.length),A=[],R=0,O=0;O<=E;O++){var M=R+(this.i(O)&65535)+(P.i(O)&65535),b=(M>>>16)+(this.i(O)>>>16)+(P.i(O)>>>16);R=b>>>16,M&=65535,b&=65535,A[O]=b<<16|M}return new o(A,A[A.length-1]&-2147483648?-1:0)};function S(P,E){return P.add(D(E))}t.j=function(P){if(N(this)||N(P))return _;if(x(this))return x(P)?D(this).j(D(P)):D(D(this).j(P));if(x(P))return D(this.j(D(P)));if(0>this.l(k)&&0>P.l(k))return h(this.m()*P.m());for(var E=this.g.length+P.g.length,A=[],R=0;R<2*E;R++)A[R]=0;for(R=0;R<this.g.length;R++)for(var O=0;O<P.g.length;O++){var M=this.i(R)>>>16,b=this.i(R)&65535,kt=P.i(O)>>>16,Pn=P.i(O)&65535;A[2*R+2*O]+=b*Pn,I(A,2*R+2*O),A[2*R+2*O+1]+=M*Pn,I(A,2*R+2*O+1),A[2*R+2*O+1]+=b*kt,I(A,2*R+2*O+1),A[2*R+2*O+2]+=M*kt,I(A,2*R+2*O+2)}for(R=0;R<E;R++)A[R]=A[2*R+1]<<16|A[2*R];for(R=E;R<2*E;R++)A[R]=0;return new o(A,0)};function I(P,E){for(;(P[E]&65535)!=P[E];)P[E+1]+=P[E]>>>16,P[E]&=65535,E++}function C(P,E){this.g=P,this.h=E}function F(P,E){if(N(E))throw Error("division by zero");if(N(P))return new C(_,_);if(x(P))return E=F(D(P),E),new C(D(E.g),D(E.h));if(x(E))return E=F(P,D(E)),new C(D(E.g),E.h);if(30<P.g.length){if(x(P)||x(E))throw Error("slowDivide_ only works with positive integers.");for(var A=y,R=E;0>=R.l(P);)A=K(A),R=K(R);var O=Q(A,1),M=Q(R,1);for(R=Q(R,2),A=Q(A,2);!N(R);){var b=M.add(R);0>=b.l(P)&&(O=O.add(A),M=b),R=Q(R,1),A=Q(A,1)}return E=S(P,O.j(E)),new C(O,E)}for(O=_;0<=P.l(E);){for(A=Math.max(1,Math.floor(P.m()/E.m())),R=Math.ceil(Math.log(A)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),M=h(A),b=M.j(E);x(b)||0<b.l(P);)A-=R,M=h(A),b=M.j(E);N(M)&&(M=y),O=O.add(M),P=S(P,b)}return new C(O,P)}t.A=function(P){return F(this,P).h},t.and=function(P){for(var E=Math.max(this.g.length,P.g.length),A=[],R=0;R<E;R++)A[R]=this.i(R)&P.i(R);return new o(A,this.h&P.h)},t.or=function(P){for(var E=Math.max(this.g.length,P.g.length),A=[],R=0;R<E;R++)A[R]=this.i(R)|P.i(R);return new o(A,this.h|P.h)},t.xor=function(P){for(var E=Math.max(this.g.length,P.g.length),A=[],R=0;R<E;R++)A[R]=this.i(R)^P.i(R);return new o(A,this.h^P.h)};function K(P){for(var E=P.g.length+1,A=[],R=0;R<E;R++)A[R]=P.i(R)<<1|P.i(R-1)>>>31;return new o(A,P.h)}function Q(P,E){var A=E>>5;E%=32;for(var R=P.g.length-A,O=[],M=0;M<R;M++)O[M]=0<E?P.i(M+A)>>>E|P.i(M+A+1)<<32-E:P.i(M+A);return new o(O,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,GT=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=m,$s=o}).apply(typeof Vv<"u"?Vv:typeof self<"u"?self:typeof window<"u"?window:{});var xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var QT,Tl,YT,Xc,qp,XT,JT,ZT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,p){return a==Array.prototype||a==Object.prototype||(a[d]=p.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof xc=="object"&&xc];for(var d=0;d<a.length;++d){var p=a[d];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var p=r;a=a.split(".");for(var w=0;w<a.length-1;w++){var j=a[w];if(!(j in p))break e;p=p[j]}a=a[a.length-1],w=p[a],d=d(w),d!=w&&d!=null&&e(p,a,{configurable:!0,writable:!0,value:d})}}function s(a,d){a instanceof String&&(a+="");var p=0,w=!1,j={next:function(){if(!w&&p<a.length){var B=p++;return{value:d(B,a[B]),done:!1}}return w=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}i("Array.prototype.values",function(a){return a||function(){return s(this,function(d,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function h(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function m(a,d,p){return a.call.apply(a.bind,arguments)}function _(a,d,p){if(!a)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,w),a.apply(d,j)}}return function(){return a.apply(d,arguments)}}function y(a,d,p){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:_,y.apply(null,arguments)}function k(a,d){var p=Array.prototype.slice.call(arguments,1);return function(){var w=p.slice();return w.push.apply(w,arguments),a.apply(this,w)}}function N(a,d){function p(){}p.prototype=d.prototype,a.aa=d.prototype,a.prototype=new p,a.prototype.constructor=a,a.Qb=function(w,j,B){for(var Y=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)Y[Ne-2]=arguments[Ne];return d.prototype[j].apply(w,Y)}}function x(a){const d=a.length;if(0<d){const p=Array(d);for(let w=0;w<d;w++)p[w]=a[w];return p}return[]}function D(a,d){for(let p=1;p<arguments.length;p++){const w=arguments[p];if(c(w)){const j=a.length||0,B=w.length||0;a.length=j+B;for(let Y=0;Y<B;Y++)a[j+Y]=w[Y]}else a.push(w)}}class S{constructor(d,p){this.i=d,this.j=p,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function I(a){return/^[\s\xa0]*$/.test(a)}function C(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function F(a){return F[" "](a),a}F[" "]=function(){};var K=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function Q(a,d,p){for(const w in a)d.call(p,a[w],w,a)}function P(a,d){for(const p in a)d.call(void 0,a[p],p,a)}function E(a){const d={};for(const p in a)d[p]=a[p];return d}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(a,d){let p,w;for(let j=1;j<arguments.length;j++){w=arguments[j];for(p in w)a[p]=w[p];for(let B=0;B<A.length;B++)p=A[B],Object.prototype.hasOwnProperty.call(w,p)&&(a[p]=w[p])}}function O(a){var d=1;a=a.split(":");const p=[];for(;0<d&&a.length;)p.push(a.shift()),d--;return a.length&&p.push(a.join(":")),p}function M(a){l.setTimeout(()=>{throw a},0)}function b(){var a=ae;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class kt{constructor(){this.h=this.g=null}add(d,p){const w=Pn.get();w.set(d,p),this.h?this.h.next=w:this.g=w,this.h=w}}var Pn=new S(()=>new or,a=>a.reset());class or{constructor(){this.next=this.g=this.h=null}set(d,p){this.h=d,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Gt,J=!1,ae=new kt,U=()=>{const a=l.Promise.resolve(void 0);Gt=()=>{a.then(ce)}};var ce=()=>{for(var a;a=b();){try{a.h.call(a.g)}catch(p){M(p)}var d=Pn;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}J=!1};function _e(){this.s=this.s,this.C=this.C}_e.prototype.s=!1,_e.prototype.ma=function(){this.s||(this.s=!0,this.N())},_e.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ee(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Ee.prototype.h=function(){this.defaultPrevented=!0};var ze=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const p=()=>{};l.addEventListener("test",p,d),l.removeEventListener("test",p,d)}catch{}return a}();function it(a,d){if(Ee.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var p=this.type=a.type,w=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(K){e:{try{F(d.nodeName);var j=!0;break e}catch{}j=!1}j||(d=null)}}else p=="mouseover"?d=a.fromElement:p=="mouseout"&&(d=a.toElement);this.relatedTarget=d,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Ge[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&it.aa.h.call(this)}}N(it,Ee);var Ge={2:"touch",3:"pen",4:"mouse"};it.prototype.h=function(){it.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Ye="closure_listenable_"+(1e6*Math.random()|0),se=0;function oo(a,d,p,w,j){this.listener=a,this.proxy=null,this.src=d,this.type=p,this.capture=!!w,this.ha=j,this.key=++se,this.da=this.fa=!1}function fs(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function ao(a){this.src=a,this.g={},this.h=0}ao.prototype.add=function(a,d,p,w,j){var B=a.toString();a=this.g[B],a||(a=this.g[B]=[],this.h++);var Y=Cr(a,d,w,j);return-1<Y?(d=a[Y],p||(d.fa=!1)):(d=new oo(d,this.src,B,!!w,j),d.fa=p,a.push(d)),d};function ba(a,d){var p=d.type;if(p in a.g){var w=a.g[p],j=Array.prototype.indexOf.call(w,d,void 0),B;(B=0<=j)&&Array.prototype.splice.call(w,j,1),B&&(fs(d),a.g[p].length==0&&(delete a.g[p],a.h--))}}function Cr(a,d,p,w){for(var j=0;j<a.length;++j){var B=a[j];if(!B.da&&B.listener==d&&B.capture==!!p&&B.ha==w)return j}return-1}var lo="closure_lm_"+(1e6*Math.random()|0),Pr={};function kr(a,d,p,w,j){if(Array.isArray(d)){for(var B=0;B<d.length;B++)kr(a,d[B],p,w,j);return null}return p=Hn(p),a&&a[Ye]?a.K(d,p,h(w)?!!w.capture:!1,j):Nd(a,d,p,!1,w,j)}function Nd(a,d,p,w,j,B){if(!d)throw Error("Invalid event type");var Y=h(j)?!!j.capture:!!j,Ne=Na(a);if(Ne||(a[lo]=Ne=new ao(a)),p=Ne.add(d,p,w,Y,B),p.proxy)return p;if(w=Od(),p.proxy=w,w.src=a,w.listener=p,a.addEventListener)ze||(j=Y),j===void 0&&(j=!1),a.addEventListener(d.toString(),w,j);else if(a.attachEvent)a.attachEvent(Vu(d.toString()),w);else if(a.addListener&&a.removeListener)a.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Od(){function a(p){return d.call(a.src,a.listener,p)}const d=Dd;return a}function Lu(a,d,p,w,j){if(Array.isArray(d))for(var B=0;B<d.length;B++)Lu(a,d[B],p,w,j);else w=h(w)?!!w.capture:!!w,p=Hn(p),a&&a[Ye]?(a=a.i,d=String(d).toString(),d in a.g&&(B=a.g[d],p=Cr(B,p,w,j),-1<p&&(fs(B[p]),Array.prototype.splice.call(B,p,1),B.length==0&&(delete a.g[d],a.h--)))):a&&(a=Na(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Cr(d,p,w,j)),(p=-1<a?d[a]:null)&&xa(p))}function xa(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[Ye])ba(d.i,a);else{var p=a.type,w=a.proxy;d.removeEventListener?d.removeEventListener(p,w,a.capture):d.detachEvent?d.detachEvent(Vu(p),w):d.addListener&&d.removeListener&&d.removeListener(w),(p=Na(d))?(ba(p,a),p.h==0&&(p.src=null,d[lo]=null)):fs(a)}}}function Vu(a){return a in Pr?Pr[a]:Pr[a]="on"+a}function Dd(a,d){if(a.da)a=!0;else{d=new it(d,this);var p=a.listener,w=a.ha||a.src;a.fa&&xa(a),a=p.call(w,d)}return a}function Na(a){return a=a[lo],a instanceof ao?a:null}var ci="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hn(a){return typeof a=="function"?a:(a[ci]||(a[ci]=function(d){return a.handleEvent(d)}),a[ci])}function ft(){_e.call(this),this.i=new ao(this),this.M=this,this.F=null}N(ft,_e),ft.prototype[Ye]=!0,ft.prototype.removeEventListener=function(a,d,p,w){Lu(this,a,d,p,w)};function Rt(a,d){var p,w=a.F;if(w)for(p=[];w;w=w.F)p.push(w);if(a=a.M,w=d.type||d,typeof d=="string")d=new Ee(d,a);else if(d instanceof Ee)d.target=d.target||a;else{var j=d;d=new Ee(w,a),R(d,j)}if(j=!0,p)for(var B=p.length-1;0<=B;B--){var Y=d.g=p[B];j=uo(Y,w,!0,d)&&j}if(Y=d.g=a,j=uo(Y,w,!0,d)&&j,j=uo(Y,w,!1,d)&&j,p)for(B=0;B<p.length;B++)Y=d.g=p[B],j=uo(Y,w,!1,d)&&j}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var p=a.g[d],w=0;w<p.length;w++)fs(p[w]);delete a.g[d],a.h--}}this.F=null},ft.prototype.K=function(a,d,p,w){return this.i.add(String(a),d,!1,p,w)},ft.prototype.L=function(a,d,p,w){return this.i.add(String(a),d,!0,p,w)};function uo(a,d,p,w){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var j=!0,B=0;B<d.length;++B){var Y=d[B];if(Y&&!Y.da&&Y.capture==p){var Ne=Y.listener,mt=Y.ha||Y.src;Y.fa&&ba(a.i,Y),j=Ne.call(mt,w)!==!1&&j}}return j&&!w.defaultPrevented}function hi(a,d,p){if(typeof a=="function")p&&(a=y(a,p));else if(a&&typeof a.handleEvent=="function")a=y(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:l.setTimeout(a,d||0)}function Rr(a){a.g=hi(()=>{a.g=null,a.i&&(a.i=!1,Rr(a))},a.l);const d=a.h;a.h=null,a.m.apply(null,d)}class di extends _e{constructor(d,p){super(),this.m=d,this.l=p,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Rr(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ar(a){_e.call(this),this.h=a,this.g={}}N(ar,_e);var Mu=[];function co(a){Q(a.g,function(d,p){this.g.hasOwnProperty(p)&&xa(d)},a),a.g={}}ar.prototype.N=function(){ar.aa.N.call(this),co(this)},ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Oa=l.JSON.stringify,Ld=l.JSON.parse,Vd=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Da(){}Da.prototype.h=null;function ju(a){return a.h||(a.h=a.i())}function Fu(){}var fi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pi(){Ee.call(this,"d")}N(pi,Ee);function ho(){Ee.call(this,"c")}N(ho,Ee);var lr={},Uu=null;function fo(){return Uu=Uu||new ft}lr.La="serverreachability";function Bu(a){Ee.call(this,lr.La,a)}N(Bu,Ee);function ps(a){const d=fo();Rt(d,new Bu(d))}lr.STAT_EVENT="statevent";function br(a,d){Ee.call(this,lr.STAT_EVENT,a),this.stat=d}N(br,Ee);function st(a){const d=fo();Rt(d,new br(d,a))}lr.Ma="timingevent";function $u(a,d){Ee.call(this,lr.Ma,a),this.size=d}N($u,Ee);function ms(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},d)}function gs(){this.g=!0}gs.prototype.xa=function(){this.g=!1};function Md(a,d,p,w,j,B){a.info(function(){if(a.g)if(B)for(var Y="",Ne=B.split("&"),mt=0;mt<Ne.length;mt++){var Ce=Ne[mt].split("=");if(1<Ce.length){var Et=Ce[0];Ce=Ce[1];var Tt=Et.split("_");Y=2<=Tt.length&&Tt[1]=="type"?Y+(Et+"="+Ce+"&"):Y+(Et+"=redacted&")}}else Y=null;else Y=B;return"XMLHTTP REQ ("+w+") [attempt "+j+"]: "+d+`
`+p+`
`+Y})}function jd(a,d,p,w,j,B,Y){a.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+j+"]: "+d+`
`+p+`
`+B+" "+Y})}function ur(a,d,p,w){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+po(a,p)+(w?" "+w:"")})}function mi(a,d){a.info(function(){return"TIMEOUT: "+d})}gs.prototype.info=function(){};function po(a,d){if(!a.g)return d;if(!d)return null;try{var p=JSON.parse(d);if(p){for(a=0;a<p.length;a++)if(Array.isArray(p[a])){var w=p[a];if(!(2>w.length)){var j=w[1];if(Array.isArray(j)&&!(1>j.length)){var B=j[0];if(B!="noop"&&B!="stop"&&B!="close")for(var Y=1;Y<j.length;Y++)j[Y]=""}}}}return Oa(p)}catch{return d}}var mo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},go={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},La;function _o(){}N(_o,Da),_o.prototype.g=function(){return new XMLHttpRequest},_o.prototype.i=function(){return{}},La=new _o;function Qt(a,d,p,w){this.j=a,this.i=d,this.l=p,this.R=w||1,this.U=new ar(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wt}function wt(){this.i=null,this.g="",this.h=!1}var jt={},bt={};function pt(a,d,p){a.L=1,a.v=Or(tt(d)),a.m=p,a.P=!0,_s(a,null)}function _s(a,d){a.F=Date.now(),Kn(a),a.A=tt(a.v);var p=a.A,w=a.R;Array.isArray(w)||(w=[String(w)]),wo(p.i,"t",w),a.C=0,p=a.j.J,a.h=new wt,a.g=nc(a.j,p?d:null,!a.m),0<a.O&&(a.M=new di(y(a.Y,a,a.g),a.O)),d=a.U,p=a.g,w=a.ca;var j="readystatechange";Array.isArray(j)||(j&&(Mu[0]=j.toString()),j=Mu);for(var B=0;B<j.length;B++){var Y=kr(p,j[B],w||d.handleEvent,!1,d.h||d);if(!Y)break;d.g[Y.key]=Y}d=a.H?E(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),ps(),Md(a.i,a.u,a.A,a.l,a.R,a.m)}Qt.prototype.ca=function(a){a=a.target;const d=this.M;d&&Ft(a)==3?d.j():this.Y(a)},Qt.prototype.Y=function(a){try{if(a==this.g)e:{const Tt=Ft(this.g);var d=this.g.Ba();const It=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||Ju(this.g)))){this.J||Tt!=4||d==7||(d==8||0>=It?ps(3):ps(2)),ys(this);var p=this.g.Z();this.X=p;t:if(xr(this)){var w=Ju(this.g);a="";var j=w.length,B=Ft(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){cr(this),kn(this);var Y="";break t}this.h.i=new l.TextDecoder}for(d=0;d<j;d++)this.h.h=!0,a+=this.h.i.decode(w[d],{stream:!(B&&d==j-1)});w.length=0,this.h.g+=a,this.C=0,Y=this.h.g}else Y=this.g.oa();if(this.o=p==200,jd(this.i,this.u,this.A,this.l,this.R,Tt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Ne,mt=this.g;if((Ne=mt.g?mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(Ne)){var Ce=Ne;break t}}Ce=null}if(p=Ce)ur(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vs(this,p);else{this.o=!1,this.s=3,st(12),cr(this),kn(this);break e}}if(this.P){p=!0;let un;for(;!this.J&&this.C<Y.length;)if(un=Nr(this,Y),un==bt){Tt==4&&(this.s=4,st(14),p=!1),ur(this.i,this.l,null,"[Incomplete Response]");break}else if(un==jt){this.s=4,st(15),ur(this.i,this.l,Y,"[Invalid Chunk]"),p=!1;break}else ur(this.i,this.l,un,null),vs(this,un);if(xr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||Y.length!=0||this.h.h||(this.s=1,st(16),p=!1),this.o=this.o&&p,!p)ur(this.i,this.l,Y,"[Invalid Chunked Response]"),cr(this),kn(this);else if(0<Y.length&&!this.W){this.W=!0;var Et=this.j;Et.g==this&&Et.ba&&!Et.M&&(Et.j.info("Great, no buffering proxy detected. Bytes received: "+Y.length),Za(Et),Et.M=!0,st(11))}}else ur(this.i,this.l,Y,null),vs(this,Y);Tt==4&&cr(this),this.o&&!this.J&&(Tt==4?el(this.j,this):(this.o=!1,Kn(this)))}else Zu(this.g),p==400&&0<Y.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),cr(this),kn(this)}}}catch{}finally{}};function xr(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function Nr(a,d){var p=a.C,w=d.indexOf(`
`,p);return w==-1?bt:(p=Number(d.substring(p,w)),isNaN(p)?jt:(w+=1,w+p>d.length?bt:(d=d.slice(w,w+p),a.C=w+p,d)))}Qt.prototype.cancel=function(){this.J=!0,cr(this)};function Kn(a){a.S=Date.now()+a.I,Va(a,a.I)}function Va(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=ms(y(a.ba,a),d)}function ys(a){a.B&&(l.clearTimeout(a.B),a.B=null)}Qt.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(mi(this.i,this.A),this.L!=2&&(ps(),st(17)),cr(this),this.s=2,kn(this)):Va(this,this.S-a)};function kn(a){a.j.G==0||a.J||el(a.j,a)}function cr(a){ys(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,co(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function vs(a,d){try{var p=a.j;if(p.G!=0&&(p.g==a||yo(p.h,a))){if(!a.K&&yo(p.h,a)&&p.G==3){try{var w=p.Da.g.parse(d)}catch{w=null}if(Array.isArray(w)&&w.length==3){var j=w;if(j[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<a.F)As(p),Ts(p);else break e;Ja(p),st(18)}}else p.za=j[1],0<p.za-p.T&&37500>j[2]&&p.F&&p.v==0&&!p.C&&(p.C=ms(y(p.Za,p),6e3));if(1>=Ua(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Qn(p,11)}else if((a.K||p.g==a)&&As(p),!I(d))for(j=p.Da.g.parse(d),d=0;d<j.length;d++){let Ce=j[d];if(p.T=Ce[0],Ce=Ce[1],p.G==2)if(Ce[0]=="c"){p.K=Ce[1],p.ia=Ce[2];const Et=Ce[3];Et!=null&&(p.la=Et,p.j.info("VER="+p.la));const Tt=Ce[4];Tt!=null&&(p.Aa=Tt,p.j.info("SVER="+p.Aa));const It=Ce[5];It!=null&&typeof It=="number"&&0<It&&(w=1.5*It,p.L=w,p.j.info("backChannelRequestTimeoutMs_="+w)),w=p;const un=a.g;if(un){const Cs=un.g?un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Cs){var B=w.h;B.g||Cs.indexOf("spdy")==-1&&Cs.indexOf("quic")==-1&&Cs.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(vo(B,B.h),B.h=null))}if(w.D){const ko=un.g?un.g.getResponseHeader("X-HTTP-Session-Id"):null;ko&&(w.ya=ko,ke(w.I,w.D,ko))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-a.F,p.j.info("Handshake RTT: "+p.R+"ms")),w=p;var Y=a;if(w.qa=tl(w,w.J?w.ia:null,w.W),Y.K){Ba(w.h,Y);var Ne=Y,mt=w.L;mt&&(Ne.I=mt),Ne.B&&(ys(Ne),Kn(Ne)),w.g=Y}else Ss(w);0<p.i.length&&Is(p)}else Ce[0]!="stop"&&Ce[0]!="close"||Qn(p,7);else p.G==3&&(Ce[0]=="stop"||Ce[0]=="close"?Ce[0]=="stop"?Qn(p,7):So(p):Ce[0]!="noop"&&p.l&&p.l.ta(Ce),p.v=0)}}ps(4)}catch{}}var Ma=class{constructor(a,d){this.g=a,this.map=d}};function ja(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fa(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Ua(a){return a.h?1:a.g?a.g.size:0}function yo(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function vo(a,d){a.g?a.g.add(d):a.h=d}function Ba(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}ja.prototype.cancel=function(){if(this.i=$a(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function $a(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(const p of a.g.values())d=d.concat(p.D);return d}return x(a.i)}function zu(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(c(a)){for(var d=[],p=a.length,w=0;w<p;w++)d.push(a[w]);return d}d=[],p=0;for(w in a)d[p++]=a[w];return d}function Wu(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(c(a)||typeof a=="string"){var d=[];a=a.length;for(var p=0;p<a;p++)d.push(p);return d}d=[],p=0;for(const w in a)d[p++]=w;return d}}}function za(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(c(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var p=Wu(a),w=zu(a),j=w.length,B=0;B<j;B++)d.call(void 0,w[B],p&&p[B],a)}var gn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yt(a,d){if(a){a=a.split("&");for(var p=0;p<a.length;p++){var w=a[p].indexOf("="),j=null;if(0<=w){var B=a[p].substring(0,w);j=a[p].substring(w+1)}else B=a[p];d(B,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Xt(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Xt){this.h=a.h,gi(this,a.j),this.o=a.o,this.g=a.g,_i(this,a.s),this.l=a.l;var d=a.i,p=new ln;p.i=d.i,d.g&&(p.g=new Map(d.g),p.h=d.h),_n(this,p),this.m=a.m}else a&&(d=String(a).match(gn))?(this.h=!1,gi(this,d[1]||"",!0),this.o=Rn(d[2]||""),this.g=Rn(d[3]||"",!0),_i(this,d[4]),this.l=Rn(d[5]||"",!0),_n(this,d[6]||"",!0),this.m=Rn(d[7]||"")):(this.h=!1,this.i=new ln(null,this.h))}Xt.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Dr(d,Lr,!0),":");var p=this.g;return(p||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Dr(d,Lr,!0),"@"),a.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&a.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&a.push("/"),a.push(Dr(p,p.charAt(0)=="/"?Hu:Wa,!0))),(p=this.i.toString())&&a.push("?",p),(p=this.m)&&a.push("#",Dr(p,Fd)),a.join("")};function tt(a){return new Xt(a)}function gi(a,d,p){a.j=p?Rn(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function _i(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function _n(a,d,p){d instanceof ln?(a.i=d,Ku(a.i,a.h)):(p||(d=Dr(d,Gn)),a.i=new ln(d,a.h))}function ke(a,d,p){a.i.set(d,p)}function Or(a){return ke(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Rn(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Dr(a,d,p){return typeof a=="string"?(a=encodeURI(a).replace(d,qu),p&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function qu(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Lr=/[#\/\?@]/g,Wa=/[#\?:]/g,Hu=/[#\?]/g,Gn=/[#\?@]/g,Fd=/#/g;function ln(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function yn(a){a.g||(a.g=new Map,a.h=0,a.i&&Yt(a.i,function(d,p){a.add(decodeURIComponent(d.replace(/\+/g," ")),p)}))}t=ln.prototype,t.add=function(a,d){yn(this),this.i=null,a=bn(this,a);var p=this.g.get(a);return p||this.g.set(a,p=[]),p.push(d),this.h+=1,this};function qa(a,d){yn(a),d=bn(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function yi(a,d){return yn(a),d=bn(a,d),a.g.has(d)}t.forEach=function(a,d){yn(this),this.g.forEach(function(p,w){p.forEach(function(j){a.call(d,j,w,this)},this)},this)},t.na=function(){yn(this);const a=Array.from(this.g.values()),d=Array.from(this.g.keys()),p=[];for(let w=0;w<d.length;w++){const j=a[w];for(let B=0;B<j.length;B++)p.push(d[w])}return p},t.V=function(a){yn(this);let d=[];if(typeof a=="string")yi(this,a)&&(d=d.concat(this.g.get(bn(this,a))));else{a=Array.from(this.g.values());for(let p=0;p<a.length;p++)d=d.concat(a[p])}return d},t.set=function(a,d){return yn(this),this.i=null,a=bn(this,a),yi(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function wo(a,d,p){qa(a,d),0<p.length&&(a.i=null,a.g.set(bn(a,d),x(p)),a.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],d=Array.from(this.g.keys());for(var p=0;p<d.length;p++){var w=d[p];const B=encodeURIComponent(String(w)),Y=this.V(w);for(w=0;w<Y.length;w++){var j=B;Y[w]!==""&&(j+="="+encodeURIComponent(String(Y[w]))),a.push(j)}}return this.i=a.join("&")};function bn(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function Ku(a,d){d&&!a.j&&(yn(a),a.i=null,a.g.forEach(function(p,w){var j=w.toLowerCase();w!=j&&(qa(this,w),wo(this,j,p))},a)),a.j=d}function Gu(a,d){const p=new gs;if(l.Image){const w=new Image;w.onload=k(Jt,p,"TestLoadImage: loaded",!0,d,w),w.onerror=k(Jt,p,"TestLoadImage: error",!1,d,w),w.onabort=k(Jt,p,"TestLoadImage: abort",!1,d,w),w.ontimeout=k(Jt,p,"TestLoadImage: timeout",!1,d,w),l.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=a}else d(!1)}function Qu(a,d){const p=new gs,w=new AbortController,j=setTimeout(()=>{w.abort(),Jt(p,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:w.signal}).then(B=>{clearTimeout(j),B.ok?Jt(p,"TestPingServer: ok",!0,d):Jt(p,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(j),Jt(p,"TestPingServer: error",!1,d)})}function Jt(a,d,p,w,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),w(p)}catch{}}function Ud(){this.g=new Vd}function Yu(a,d,p){const w=p||"";try{za(a,function(j,B){let Y=j;h(j)&&(Y=Oa(j)),d.push(w+B+"="+encodeURIComponent(Y))})}catch(j){throw d.push(w+"type="+encodeURIComponent("_badmap")),j}}function vi(a){this.l=a.Ub||null,this.j=a.eb||!1}N(vi,Da),vi.prototype.g=function(){return new Vr(this.l,this.j)},vi.prototype.i=function(a){return function(){return a}}({});function Vr(a,d){ft.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Vr,ft),t=Vr.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,hr(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||l).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ws(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,hr(this)),this.g&&(this.readyState=3,hr(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Eo(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Eo(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?ws(this):hr(this),this.readyState==3&&Eo(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,ws(this))},t.Qa=function(a){this.g&&(this.response=a,ws(this))},t.ga=function(){this.g&&ws(this)};function ws(a){a.readyState=4,a.l=null,a.j=null,a.v=null,hr(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],d=this.h.entries();for(var p=d.next();!p.done;)p=p.value,a.push(p[0]+": "+p[1]),p=d.next();return a.join(`\r
`)};function hr(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Vr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Xu(a){let d="";return Q(a,function(p,w){d+=w,d+=":",d+=p,d+=`\r
`}),d}function To(a,d,p){e:{for(w in p){var w=!1;break e}w=!0}w||(p=Xu(p),typeof a=="string"?p!=null&&encodeURIComponent(String(p)):ke(a,d,p))}function Ue(a){ft.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Ue,ft);var Ha=/^https?$/i,Ka=["POST","PUT"];t=Ue.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,p,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():La.g(),this.v=this.o?ju(this.o):ju(La),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(B){Ga(this,B);return}if(a=p||"",p=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var j in w)p.set(j,w[j]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const B of w.keys())p.set(B,w.get(B));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(p.keys()).find(B=>B.toLowerCase()=="content-type"),j=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Ka,d,void 0))||w||j||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,Y]of p)this.g.setRequestHeader(B,Y);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qa(this),this.u=!0,this.g.send(a),this.u=!1}catch(B){Ga(this,B)}};function Ga(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,wi(a),Es(a)}function wi(a){a.A||(a.A=!0,Rt(a,"complete"),Rt(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Rt(this,"complete"),Rt(this,"abort"),Es(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Es(this,!0)),Ue.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Io(this):this.bb())},t.bb=function(){Io(this)};function Io(a){if(a.h&&typeof o<"u"&&(!a.v[1]||Ft(a)!=4||a.Z()!=2)){if(a.u&&Ft(a)==4)hi(a.Ea,0,a);else if(Rt(a,"readystatechange"),Ft(a)==4){a.h=!1;try{const Y=a.Z();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var p;if(!(p=d)){var w;if(w=Y===0){var j=String(a.D).match(gn)[1]||null;!j&&l.self&&l.self.location&&(j=l.self.location.protocol.slice(0,-1)),w=!Ha.test(j?j.toLowerCase():"")}p=w}if(p)Rt(a,"complete"),Rt(a,"success");else{a.m=6;try{var B=2<Ft(a)?a.g.statusText:""}catch{B=""}a.l=B+" ["+a.Z()+"]",wi(a)}}finally{Es(a)}}}}function Es(a,d){if(a.g){Qa(a);const p=a.g,w=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||Rt(a,"ready");try{p.onreadystatechange=w}catch{}}}function Qa(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function Ft(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<Ft(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),Ld(d)}};function Ju(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function Zu(a){const d={};a=(a.g&&2<=Ft(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<a.length;w++){if(I(a[w]))continue;var p=O(a[w]);const j=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const B=d[j]||[];d[j]=B,B.push(p)}P(d,function(w){return w.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ei(a,d,p){return p&&p.internalChannelParams&&p.internalChannelParams[a]||d}function Ya(a){this.Aa=0,this.i=[],this.j=new gs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ei("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ei("baseRetryDelayMs",5e3,a),this.cb=Ei("retryDelaySeedMs",1e4,a),this.Wa=Ei("forwardChannelMaxRetries",2,a),this.wa=Ei("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new ja(a&&a.concurrentRequestLimit),this.Da=new Ud,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ya.prototype,t.la=8,t.G=1,t.connect=function(a,d,p,w){st(0),this.W=a,this.H=d||{},p&&w!==void 0&&(this.H.OSID=p,this.H.OAID=w),this.F=this.X,this.I=tl(this,null,this.W),Is(this)};function So(a){if(Ao(a),a.G==3){var d=a.U++,p=tt(a.I);if(ke(p,"SID",a.K),ke(p,"RID",d),ke(p,"TYPE","terminate"),Ti(a,p),d=new Qt(a,a.j,d),d.L=2,d.v=Or(tt(p)),p=!1,l.navigator&&l.navigator.sendBeacon)try{p=l.navigator.sendBeacon(d.v.toString(),"")}catch{}!p&&l.Image&&(new Image().src=d.v,p=!0),p||(d.g=nc(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Kn(d)}tc(a)}function Ts(a){a.g&&(Za(a),a.g.cancel(),a.g=null)}function Ao(a){Ts(a),a.u&&(l.clearTimeout(a.u),a.u=null),As(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function Is(a){if(!Fa(a.h)&&!a.s){a.s=!0;var d=a.Ga;Gt||U(),J||(Gt(),J=!0),ae.add(d,a),a.B=0}}function Bd(a,d){return Ua(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=ms(y(a.Ga,a,d),dr(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const j=new Qt(this,this.j,a);let B=this.o;if(this.S&&(B?(B=E(B),R(B,this.S)):B=this.S),this.m!==null||this.O||(j.H=B,B=null),this.P)e:{for(var d=0,p=0;p<this.i.length;p++){t:{var w=this.i[p];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(d+=w,4096<d){d=p;break e}if(d===4096||p===this.i.length-1){d=p+1;break e}}d=1e3}else d=1e3;d=Xa(this,j,d),p=tt(this.I),ke(p,"RID",a),ke(p,"CVER",22),this.D&&ke(p,"X-HTTP-Session-Id",this.D),Ti(this,p),B&&(this.O?d="headers="+encodeURIComponent(String(Xu(B)))+"&"+d:this.m&&To(p,this.m,B)),vo(this.h,j),this.Ua&&ke(p,"TYPE","init"),this.P?(ke(p,"$req",d),ke(p,"SID","null"),j.T=!0,pt(j,p,null)):pt(j,p,d),this.G=2}}else this.G==3&&(a?ec(this,a):this.i.length==0||Fa(this.h)||ec(this))};function ec(a,d){var p;d?p=d.l:p=a.U++;const w=tt(a.I);ke(w,"SID",a.K),ke(w,"RID",p),ke(w,"AID",a.T),Ti(a,w),a.m&&a.o&&To(w,a.m,a.o),p=new Qt(a,a.j,p,a.B+1),a.m===null&&(p.H=a.o),d&&(a.i=d.D.concat(a.i)),d=Xa(a,p,1e3),p.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),vo(a.h,p),pt(p,w,d)}function Ti(a,d){a.H&&Q(a.H,function(p,w){ke(d,w,p)}),a.l&&za({},function(p,w){ke(d,w,p)})}function Xa(a,d,p){p=Math.min(a.i.length,p);var w=a.l?y(a.l.Na,a.l,a):null;e:{var j=a.i;let B=-1;for(;;){const Y=["count="+p];B==-1?0<p?(B=j[0].g,Y.push("ofs="+B)):B=0:Y.push("ofs="+B);let Ne=!0;for(let mt=0;mt<p;mt++){let Ce=j[mt].g;const Et=j[mt].map;if(Ce-=B,0>Ce)B=Math.max(0,j[mt].g-100),Ne=!1;else try{Yu(Et,Y,"req"+Ce+"_")}catch{w&&w(Et)}}if(Ne){w=Y.join("&");break e}}}return a=a.i.splice(0,p),d.D=a,w}function Ss(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;Gt||U(),J||(Gt(),J=!0),ae.add(d,a),a.v=0}}function Ja(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=ms(y(a.Fa,a),dr(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Co(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=ms(y(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),Ts(this),Co(this))};function Za(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function Co(a){a.g=new Qt(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=tt(a.qa);ke(d,"RID","rpc"),ke(d,"SID",a.K),ke(d,"AID",a.T),ke(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&ke(d,"TO",a.ja),ke(d,"TYPE","xmlhttp"),Ti(a,d),a.m&&a.o&&To(d,a.m,a.o),a.L&&(a.g.I=a.L);var p=a.g;a=a.ia,p.L=1,p.v=Or(tt(d)),p.m=null,p.P=!0,_s(p,a)}t.Za=function(){this.C!=null&&(this.C=null,Ts(this),Ja(this),st(19))};function As(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function el(a,d){var p=null;if(a.g==d){As(a),Za(a),a.g=null;var w=2}else if(yo(a.h,d))p=d.D,Ba(a.h,d),w=1;else return;if(a.G!=0){if(d.o)if(w==1){p=d.m?d.m.length:0,d=Date.now()-d.F;var j=a.B;w=fo(),Rt(w,new $u(w,p)),Is(a)}else Ss(a);else if(j=d.s,j==3||j==0&&0<d.X||!(w==1&&Bd(a,d)||w==2&&Ja(a)))switch(p&&0<p.length&&(d=a.h,d.i=d.i.concat(p)),j){case 1:Qn(a,5);break;case 4:Qn(a,10);break;case 3:Qn(a,6);break;default:Qn(a,2)}}}function dr(a,d){let p=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(p*=2),p*d}function Qn(a,d){if(a.j.info("Error code "+d),d==2){var p=y(a.fb,a),w=a.Xa;const j=!w;w=new Xt(w||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||gi(w,"https"),Or(w),j?Gu(w.toString(),p):Qu(w.toString(),p)}else st(2);a.G=0,a.l&&a.l.sa(d),tc(a),Ao(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function tc(a){if(a.G=0,a.ka=[],a.l){const d=$a(a.h);(d.length!=0||a.i.length!=0)&&(D(a.ka,d),D(a.ka,a.i),a.h.i.length=0,x(a.i),a.i.length=0),a.l.ra()}}function tl(a,d,p){var w=p instanceof Xt?tt(p):new Xt(p);if(w.g!="")d&&(w.g=d+"."+w.g),_i(w,w.s);else{var j=l.location;w=j.protocol,d=d?d+"."+j.hostname:j.hostname,j=+j.port;var B=new Xt(null);w&&gi(B,w),d&&(B.g=d),j&&_i(B,j),p&&(B.l=p),w=B}return p=a.D,d=a.ya,p&&d&&ke(w,p,d),ke(w,"VER",a.la),Ti(a,w),w}function nc(a,d,p){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Ue(new vi({eb:p})):new Ue(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function rc(){}t=rc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Po(){}Po.prototype.g=function(a,d){return new Zt(a,d)};function Zt(a,d){ft.call(this),this.g=new Ya(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!I(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!I(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Ii(this)}N(Zt,ft),Zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zt.prototype.close=function(){So(this.g)},Zt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var p={};p.__data__=a,a=p}else this.u&&(p={},p.__data__=Oa(a),a=p);d.i.push(new Ma(d.Ya++,a)),d.G==3&&Is(d)},Zt.prototype.N=function(){this.g.l=null,delete this.j,So(this.g),delete this.g,Zt.aa.N.call(this)};function nl(a){pi.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(const p in d){a=p;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}N(nl,pi);function rl(){ho.call(this),this.status=1}N(rl,ho);function Ii(a){this.g=a}N(Ii,rc),Ii.prototype.ua=function(){Rt(this.g,"a")},Ii.prototype.ta=function(a){Rt(this.g,new nl(a))},Ii.prototype.sa=function(a){Rt(this.g,new rl)},Ii.prototype.ra=function(){Rt(this.g,"b")},Po.prototype.createWebChannel=Po.prototype.g,Zt.prototype.send=Zt.prototype.o,Zt.prototype.open=Zt.prototype.m,Zt.prototype.close=Zt.prototype.close,ZT=function(){return new Po},JT=function(){return fo()},XT=lr,qp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},mo.NO_ERROR=0,mo.TIMEOUT=8,mo.HTTP_ERROR=6,Xc=mo,go.COMPLETE="complete",YT=go,Fu.EventType=fi,fi.OPEN="a",fi.CLOSE="b",fi.ERROR="c",fi.MESSAGE="d",ft.prototype.listen=ft.prototype.K,Tl=Fu,Ue.prototype.listenOnce=Ue.prototype.L,Ue.prototype.getLastError=Ue.prototype.Ka,Ue.prototype.getLastErrorCode=Ue.prototype.Ba,Ue.prototype.getStatus=Ue.prototype.Z,Ue.prototype.getResponseJson=Ue.prototype.Oa,Ue.prototype.getResponseText=Ue.prototype.oa,Ue.prototype.send=Ue.prototype.ea,Ue.prototype.setWithCredentials=Ue.prototype.Ha,QT=Ue}).apply(typeof xc<"u"?xc:typeof self<"u"?self:typeof window<"u"?window:{});const Mv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Aa="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=new sg("@firebase/firestore");function ml(){return Js.logLevel}function ie(t,...e){if(Js.logLevel<=Ae.DEBUG){const n=e.map(wg);Js.debug(`Firestore (${Aa}): ${t}`,...n)}}function ii(t,...e){if(Js.logLevel<=Ae.ERROR){const n=e.map(wg);Js.error(`Firestore (${Aa}): ${t}`,...n)}}function ha(t,...e){if(Js.logLevel<=Ae.WARN){const n=e.map(wg);Js.warn(`Firestore (${Aa}): ${t}`,...n)}}function wg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(t="Unexpected state"){const e=`FIRESTORE (${Aa}) INTERNAL ASSERTION FAILED: `+t;throw ii(e),new Error(e)}function Ve(t,e){t||de()}function ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ee extends li{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(zt.UNAUTHENTICATED))}shutdown(){}}class vN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class wN{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ve(this.o===void 0);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new Yr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Yr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Yr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ve(typeof r.accessToken=="string"),new eI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string"),new zt(e)}}class EN{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class TN{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new EN(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class IN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SN{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ve(this.o===void 0);const r=s=>{s.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ie("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ve(typeof n.token=="string"),this.R=n.token,new IN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=AN(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function be(t,e){return t<e?-1:t>e?1:0}function da(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ee(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ee(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ee(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ee(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new vt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new me(e)}static min(){return new me(new vt(0,0))}static max(){return new me(new vt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n,r){n===void 0?n=0:n>e.length&&de(),r===void 0?r=e.length-n:r>e.length-n&&de(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return lu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof lu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class qe extends lu{construct(e,n,r){return new qe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ee(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new qe(n)}static emptyPath(){return new qe([])}}const CN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ot extends lu{construct(e,n,r){return new Ot(e,n,r)}static isValidIdentifier(e){return CN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ot(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ee(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new ee(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ee(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new ee(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ot(n)}static emptyPath(){return new Ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(qe.fromString(e))}static fromName(e){return new oe(qe.fromString(e).popFirst(5))}static empty(){return new oe(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new qe(e.slice()))}}function PN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=me.fromTimestamp(r===1e9?new vt(n+1,0):new vt(n,r));return new rs(i,oe.empty(),e)}function kN(t){return new rs(t.readTime,t.key,-1)}class rs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new rs(me.min(),oe.empty(),-1)}static max(){return new rs(me.max(),oe.empty(),-1)}}function RN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pu(t){if(t.code!==W.FAILED_PRECONDITION||t.message!==bN)throw t;ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&de(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(i=>i?H.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new H((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let c=0;c<s;c++){const h=c;n(e[h]).next(m=>{o[h]=m,++l,l===s&&r(o)},m=>i(m))}})}static doWhile(e,n){return new H((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function NN(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ku(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Eg.oe=-1;function md(t){return t==null}function Mh(t){return t===0&&1/t==-1/0}function ON(t){return typeof t=="number"&&Number.isInteger(t)&&!Mh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ro(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,n){this.comparator=e,this.root=n||Nt.EMPTY}insert(e,n){return new et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Nt.BLACK,null,null))}remove(e){return new et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nc(this.root,e,this.comparator,!0)}}class Nc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Nt.RED,this.left=i??Nt.EMPTY,this.right=s??Nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Nt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Nt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw de();const e=this.left.check();if(e!==this.right.check())throw de();return e+(this.isRed()?0:1)}}Nt.EMPTY=null,Nt.RED=!0,Nt.BLACK=!1;Nt.EMPTY=new class{constructor(){this.size=0}get key(){throw de()}get value(){throw de()}get color(){throw de()}get left(){throw de()}get right(){throw de()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Nt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Fv(this.data.getIterator())}getIteratorFrom(e){return new Fv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class Fv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.fields=e,e.sort(Ot.comparator)}static empty(){return new Tn([])}unionWith(e){let n=new Lt(Ot.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Tn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return da(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new rI("Invalid base64 string: "+s):s}}(e);return new Mt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Mt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mt.EMPTY_BYTE_STRING=new Mt("");const DN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function is(t){if(Ve(!!t),typeof t=="string"){let e=0;const n=DN.exec(t);if(Ve(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:at(t.seconds),nanos:at(t.nanos)}}function at(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Zs(t){return typeof t=="string"?Mt.fromBase64String(t):Mt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ig(t){const e=t.mapValue.fields.__previous_value__;return Tg(e)?Ig(e):e}function uu(t){const e=is(t.mapValue.fields.__local_write_time__.timestampValue);return new vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,n,r,i,s,o,l,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=h}}class cu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new cu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof cu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc={mapValue:{}};function eo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Tg(t)?4:MN(t)?9007199254740991:VN(t)?10:11:de()}function Ir(t,e){if(t===e)return!0;const n=eo(t);if(n!==eo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return uu(t).isEqual(uu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=is(i.timestampValue),l=is(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Zs(i.bytesValue).isEqual(Zs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return at(i.geoPointValue.latitude)===at(s.geoPointValue.latitude)&&at(i.geoPointValue.longitude)===at(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return at(i.integerValue)===at(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=at(i.doubleValue),l=at(s.doubleValue);return o===l?Mh(o)===Mh(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return da(t.arrayValue.values||[],e.arrayValue.values||[],Ir);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(jv(o)!==jv(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!Ir(o[c],l[c])))return!1;return!0}(t,e);default:return de()}}function hu(t,e){return(t.values||[]).find(n=>Ir(n,e))!==void 0}function fa(t,e){if(t===e)return 0;const n=eo(t),r=eo(e);if(n!==r)return be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return be(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=at(s.integerValue||s.doubleValue),c=at(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return Uv(t.timestampValue,e.timestampValue);case 4:return Uv(uu(t),uu(e));case 5:return be(t.stringValue,e.stringValue);case 6:return function(s,o){const l=Zs(s),c=Zs(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),c=o.split("/");for(let h=0;h<l.length&&h<c.length;h++){const m=be(l[h],c[h]);if(m!==0)return m}return be(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=be(at(s.latitude),at(o.latitude));return l!==0?l:be(at(s.longitude),at(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Bv(t.arrayValue,e.arrayValue);case 10:return function(s,o){var l,c,h,m;const _=s.fields||{},y=o.fields||{},k=(l=_.value)===null||l===void 0?void 0:l.arrayValue,N=(c=y.value)===null||c===void 0?void 0:c.arrayValue,x=be(((h=k==null?void 0:k.values)===null||h===void 0?void 0:h.length)||0,((m=N==null?void 0:N.values)===null||m===void 0?void 0:m.length)||0);return x!==0?x:Bv(k,N)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Oc.mapValue&&o===Oc.mapValue)return 0;if(s===Oc.mapValue)return 1;if(o===Oc.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),h=o.fields||{},m=Object.keys(h);c.sort(),m.sort();for(let _=0;_<c.length&&_<m.length;++_){const y=be(c[_],m[_]);if(y!==0)return y;const k=fa(l[c[_]],h[m[_]]);if(k!==0)return k}return be(c.length,m.length)}(t.mapValue,e.mapValue);default:throw de()}}function Uv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return be(t,e);const n=is(t),r=is(e),i=be(n.seconds,r.seconds);return i!==0?i:be(n.nanos,r.nanos)}function Bv(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=fa(n[i],r[i]);if(s)return s}return be(n.length,r.length)}function pa(t){return Hp(t)}function Hp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=is(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Zs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Hp(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Hp(n.fields[o])}`;return i+"}"}(t.mapValue):de()}function $v(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Kp(t){return!!t&&"integerValue"in t}function Sg(t){return!!t&&"arrayValue"in t}function zv(t){return!!t&&"nullValue"in t}function Wv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Jc(t){return!!t&&"mapValue"in t}function VN(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Vl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ro(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Vl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function MN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Jc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vl(n)}setAll(e){let n=Ot.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Vl(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Jc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ir(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Jc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ro(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new hn(Vl(this.value))}}function iI(t){const e=[];return ro(t.fields,(n,r)=>{const i=new Ot([n]);if(Jc(r)){const s=iI(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Tn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new qt(e,0,me.min(),me.min(),me.min(),hn.empty(),0)}static newFoundDocument(e,n,r,i){return new qt(e,1,n,me.min(),r,i,0)}static newNoDocument(e,n){return new qt(e,2,n,me.min(),me.min(),hn.empty(),0)}static newUnknownDocument(e,n){return new qt(e,3,n,me.min(),me.min(),hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n){this.position=e,this.inclusive=n}}function qv(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=oe.comparator(oe.fromName(o.referenceValue),n.key):r=fa(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Hv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ir(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n="asc"){this.field=e,this.dir=n}}function jN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{}class dt extends sI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new UN(e,n,r):n==="array-contains"?new zN(e,r):n==="in"?new WN(e,r):n==="not-in"?new qN(e,r):n==="array-contains-any"?new HN(e,r):new dt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new BN(e,r):new $N(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(fa(n,this.value)):n!==null&&eo(this.value)===eo(n)&&this.matchesComparison(fa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class sr extends sI{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new sr(e,n)}matches(e){return oI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function oI(t){return t.op==="and"}function aI(t){return FN(t)&&oI(t)}function FN(t){for(const e of t.filters)if(e instanceof sr)return!1;return!0}function Gp(t){if(t instanceof dt)return t.field.canonicalString()+t.op.toString()+pa(t.value);if(aI(t))return t.filters.map(e=>Gp(e)).join(",");{const e=t.filters.map(n=>Gp(n)).join(",");return`${t.op}(${e})`}}function lI(t,e){return t instanceof dt?function(r,i){return i instanceof dt&&r.op===i.op&&r.field.isEqual(i.field)&&Ir(r.value,i.value)}(t,e):t instanceof sr?function(r,i){return i instanceof sr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&lI(o,i.filters[l]),!0):!1}(t,e):void de()}function uI(t){return t instanceof dt?function(n){return`${n.field.canonicalString()} ${n.op} ${pa(n.value)}`}(t):t instanceof sr?function(n){return n.op.toString()+" {"+n.getFilters().map(uI).join(" ,")+"}"}(t):"Filter"}class UN extends dt{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class BN extends dt{constructor(e,n){super(e,"in",n),this.keys=cI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class $N extends dt{constructor(e,n){super(e,"not-in",n),this.keys=cI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function cI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>oe.fromName(r.referenceValue))}class zN extends dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Sg(n)&&hu(n.arrayValue,this.value)}}class WN extends dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&hu(this.value.arrayValue,n)}}class qN extends dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!hu(this.value.arrayValue,n)}}class HN extends dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Sg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>hu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function Kv(t,e=null,n=[],r=[],i=null,s=null,o=null){return new KN(t,e,n,r,i,s,o)}function Ag(t){const e=ge(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Gp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),md(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>pa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>pa(r)).join(",")),e.ue=n}return e.ue}function Cg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!jN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!lI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Hv(t.startAt,e.startAt)&&Hv(t.endAt,e.endAt)}function Qp(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function GN(t,e,n,r,i,s,o,l){return new Ca(t,e,n,r,i,s,o,l)}function Pg(t){return new Ca(t)}function Gv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function hI(t){return t.collectionGroup!==null}function Ml(t){const e=ge(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Lt(Ot.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new du(s,r))}),n.has(Ot.keyField().canonicalString())||e.ce.push(new du(Ot.keyField(),r))}return e.ce}function Er(t){const e=ge(t);return e.le||(e.le=QN(e,Ml(t))),e.le}function QN(t,e){if(t.limitType==="F")return Kv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new du(i.field,s)});const n=t.endAt?new jh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new jh(t.startAt.position,t.startAt.inclusive):null;return Kv(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Yp(t,e){const n=t.filters.concat([e]);return new Ca(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Xp(t,e,n){return new Ca(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gd(t,e){return Cg(Er(t),Er(e))&&t.limitType===e.limitType}function dI(t){return`${Ag(Er(t))}|lt:${t.limitType}`}function No(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>uI(i)).join(", ")}]`),md(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>pa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>pa(i)).join(",")),`Target(${r})`}(Er(t))}; limitType=${t.limitType})`}function _d(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):oe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ml(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,c){const h=qv(o,l,c);return o.inclusive?h<=0:h<0}(r.startAt,Ml(r),i)||r.endAt&&!function(o,l,c){const h=qv(o,l,c);return o.inclusive?h>=0:h>0}(r.endAt,Ml(r),i))}(t,e)}function YN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function fI(t){return(e,n)=>{let r=!1;for(const i of Ml(t)){const s=XN(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function XN(t,e,n){const r=t.field.isKeyField()?oe.comparator(e.key,n.key):function(s,o,l){const c=o.data.field(s),h=l.data.field(s);return c!==null&&h!==null?fa(c,h):de()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return de()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ro(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return nI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=new et(oe.comparator);function si(){return JN}const pI=new et(oe.comparator);function Il(...t){let e=pI;for(const n of t)e=e.insert(n.key,n);return e}function mI(t){let e=pI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Fs(){return jl()}function gI(){return jl()}function jl(){return new Pa(t=>t.toString(),(t,e)=>t.isEqual(e))}const ZN=new et(oe.comparator),eO=new Lt(oe.comparator);function Ie(...t){let e=eO;for(const n of t)e=e.add(n);return e}const tO=new Lt(be);function nO(){return tO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mh(e)?"-0":e}}function _I(t){return{integerValue:""+t}}function rO(t,e){return ON(e)?_I(e):kg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(){this._=void 0}}function iO(t,e,n){return t instanceof fu?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Tg(s)&&(s=Ig(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof pu?vI(t,e):t instanceof mu?wI(t,e):function(i,s){const o=yI(i,s),l=Qv(o)+Qv(i.Pe);return Kp(o)&&Kp(i.Pe)?_I(l):kg(i.serializer,l)}(t,e)}function sO(t,e,n){return t instanceof pu?vI(t,e):t instanceof mu?wI(t,e):n}function yI(t,e){return t instanceof Fh?function(r){return Kp(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class fu extends yd{}class pu extends yd{constructor(e){super(),this.elements=e}}function vI(t,e){const n=EI(e);for(const r of t.elements)n.some(i=>Ir(i,r))||n.push(r);return{arrayValue:{values:n}}}class mu extends yd{constructor(e){super(),this.elements=e}}function wI(t,e){let n=EI(e);for(const r of t.elements)n=n.filter(i=>!Ir(i,r));return{arrayValue:{values:n}}}class Fh extends yd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Qv(t){return at(t.integerValue||t.doubleValue)}function EI(t){return Sg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,n){this.field=e,this.transform=n}}function aO(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof pu&&i instanceof pu||r instanceof mu&&i instanceof mu?da(r.elements,i.elements,Ir):r instanceof Fh&&i instanceof Fh?Ir(r.Pe,i.Pe):r instanceof fu&&i instanceof fu}(t.transform,e.transform)}class lO{constructor(e,n){this.version=e,this.transformResults=n}}class rr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new rr}static exists(e){return new rr(void 0,e)}static updateTime(e){return new rr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class vd{}function TI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new SI(t.key,rr.none()):new Ru(t.key,t.data,rr.none());{const n=t.data,r=hn.empty();let i=new Lt(Ot.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ds(t.key,r,new Tn(i.toArray()),rr.none())}}function uO(t,e,n){t instanceof Ru?function(i,s,o){const l=i.value.clone(),c=Xv(i.fieldTransforms,s,o.transformResults);l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof ds?function(i,s,o){if(!Zc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=Xv(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(II(i)),c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Fl(t,e,n,r){return t instanceof Ru?function(s,o,l,c){if(!Zc(s.precondition,o))return l;const h=s.value.clone(),m=Jv(s.fieldTransforms,c,o);return h.setAll(m),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof ds?function(s,o,l,c){if(!Zc(s.precondition,o))return l;const h=Jv(s.fieldTransforms,c,o),m=o.data;return m.setAll(II(s)),m.setAll(h),o.convertToFoundDocument(o.version,m).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(_=>_.field))}(t,e,n,r):function(s,o,l){return Zc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function cO(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=yI(r.transform,i||null);s!=null&&(n===null&&(n=hn.empty()),n.set(r.field,s))}return n||null}function Yv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&da(r,i,(s,o)=>aO(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ru extends vd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ds extends vd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function II(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Xv(t,e,n){const r=new Map;Ve(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,sO(o,l,n[i]))}return r}function Jv(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,iO(s,o,e))}return r}class SI extends vd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hO extends vd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&uO(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Fl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=gI();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const c=TI(o,l);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(me.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ie())}isEqual(e){return this.batchId===e.batchId&&da(this.mutations,e.mutations,(n,r)=>Yv(n,r))&&da(this.baseMutations,e.baseMutations,(n,r)=>Yv(n,r))}}class Rg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ve(e.mutations.length===r.length);let i=function(){return ZN}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Rg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct,Pe;function mO(t){switch(t){default:return de();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0}}function AI(t){if(t===void 0)return ii("GRPC error has no .code"),W.UNKNOWN;switch(t){case ct.OK:return W.OK;case ct.CANCELLED:return W.CANCELLED;case ct.UNKNOWN:return W.UNKNOWN;case ct.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case ct.INTERNAL:return W.INTERNAL;case ct.UNAVAILABLE:return W.UNAVAILABLE;case ct.UNAUTHENTICATED:return W.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case ct.NOT_FOUND:return W.NOT_FOUND;case ct.ALREADY_EXISTS:return W.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return W.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case ct.ABORTED:return W.ABORTED;case ct.OUT_OF_RANGE:return W.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return W.UNIMPLEMENTED;case ct.DATA_LOSS:return W.DATA_LOSS;default:return de()}}(Pe=ct||(ct={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O=new $s([4294967295,4294967295],0);function Zv(t){const e=gO().encode(t),n=new GT;return n.update(e),new Uint8Array(n.digest())}function ew(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new $s([n,r],0),new $s([i,s],0)]}class bg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Sl(`Invalid padding: ${n}`);if(r<0)throw new Sl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Sl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Sl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=$s.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply($s.fromNumber(r)));return i.compare(_O)===1&&(i=new $s([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Zv(e),[r,i]=ew(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new bg(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=Zv(e),[r,i]=ew(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,bu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new wd(me.min(),i,new et(be),si(),Ie())}}class bu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new bu(r,n,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class CI{constructor(e,n){this.targetId=e,this.me=n}}class PI{constructor(e,n,r=Mt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class tw{constructor(){this.fe=0,this.ge=rw(),this.pe=Mt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ie(),n=Ie(),r=Ie();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:de()}}),new bu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=rw()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ve(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class yO{constructor(e){this.Le=e,this.Be=new Map,this.ke=si(),this.qe=nw(),this.Qe=new et(be)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:de()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Qp(s))if(r===0){const o=new oe(s.path);this.Ue(n,o,qt.newNoDocument(o,me.min()))}else Ve(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),c=l?this.Xe(l,e,o):1;if(c!==0){this.je(n);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,h)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=Zs(r).toUint8Array()}catch(c){if(c instanceof rI)return ha("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new bg(o,i,s)}catch(c){return ha(c instanceof Sl?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const l=this.Je(o);if(l){if(s.current&&Qp(l.target)){const c=new oe(l.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,qt.newNoDocument(c,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Ie();this.qe.forEach((s,o)=>{let l=!0;o.forEachWhile(c=>{const h=this.Je(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new wd(e,n,this.Qe,this.ke,r);return this.ke=si(),this.qe=nw(),this.Qe=new et(be),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new tw,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Lt(be),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ie("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new tw),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function nw(){return new et(oe.comparator)}function rw(){return new et(oe.comparator)}const vO={asc:"ASCENDING",desc:"DESCENDING"},wO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EO={and:"AND",or:"OR"};class TO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Jp(t,e){return t.useProto3Json||md(e)?e:{value:e}}function Uh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function IO(t,e){return Uh(t,e.toTimestamp())}function Tr(t){return Ve(!!t),me.fromTimestamp(function(n){const r=is(n);return new vt(r.seconds,r.nanos)}(t))}function xg(t,e){return Zp(t,e).canonicalString()}function Zp(t,e){const n=function(i){return new qe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function RI(t){const e=qe.fromString(t);return Ve(DI(e)),e}function em(t,e){return xg(t.databaseId,e.path)}function Vf(t,e){const n=RI(e);if(n.get(1)!==t.databaseId.projectId)throw new ee(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ee(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(xI(n))}function bI(t,e){return xg(t.databaseId,e)}function SO(t){const e=RI(t);return e.length===4?qe.emptyPath():xI(e)}function tm(t){return new qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function xI(t){return Ve(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function iw(t,e,n){return{name:em(t,e),fields:n.value.mapValue.fields}}function AO(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:de()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,m){return h.useProto3Json?(Ve(m===void 0||typeof m=="string"),Mt.fromBase64String(m||"")):(Ve(m===void 0||m instanceof Buffer||m instanceof Uint8Array),Mt.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(h){const m=h.code===void 0?W.UNKNOWN:AI(h.code);return new ee(m,h.message||"")}(o);n=new PI(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Vf(t,r.document.name),s=Tr(r.document.updateTime),o=r.document.createTime?Tr(r.document.createTime):me.min(),l=new hn({mapValue:{fields:r.document.fields}}),c=qt.newFoundDocument(i,s,o,l),h=r.targetIds||[],m=r.removedTargetIds||[];n=new eh(h,m,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Vf(t,r.document),s=r.readTime?Tr(r.readTime):me.min(),o=qt.newNoDocument(i,s),l=r.removedTargetIds||[];n=new eh([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Vf(t,r.document),s=r.removedTargetIds||[];n=new eh([],s,i,null)}else{if(!("filter"in e))return de();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new pO(i,s),l=r.targetId;n=new CI(l,o)}}return n}function CO(t,e){let n;if(e instanceof Ru)n={update:iw(t,e.key,e.value)};else if(e instanceof SI)n={delete:em(t,e.key)};else if(e instanceof ds)n={update:iw(t,e.key,e.data),updateMask:LO(e.fieldMask)};else{if(!(e instanceof hO))return de();n={verify:em(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof fu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof pu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof mu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Fh)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw de()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:IO(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:de()}(t,e.precondition)),n}function PO(t,e){return t&&t.length>0?(Ve(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Tr(i.updateTime):Tr(s);return o.isEqual(me.min())&&(o=Tr(s)),new lO(o,i.transformResults||[])}(n,e))):[]}function kO(t,e){return{documents:[bI(t,e.path)]}}function RO(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=bI(t,i);const s=function(h){if(h.length!==0)return OI(sr.create(h,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(h){if(h.length!==0)return h.map(m=>function(y){return{field:Oo(y.field),direction:NO(y.dir)}}(m))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Jp(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{_t:n,parent:i}}function bO(t){let e=SO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ve(r===1);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let s=[];n.where&&(s=function(_){const y=NI(_);return y instanceof sr&&aI(y)?y.getFilters():[y]}(n.where));let o=[];n.orderBy&&(o=function(_){return _.map(y=>function(N){return new du(Do(N.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(y))}(n.orderBy));let l=null;n.limit&&(l=function(_){let y;return y=typeof _=="object"?_.value:_,md(y)?null:y}(n.limit));let c=null;n.startAt&&(c=function(_){const y=!!_.before,k=_.values||[];return new jh(k,y)}(n.startAt));let h=null;return n.endAt&&(h=function(_){const y=!_.before,k=_.values||[];return new jh(k,y)}(n.endAt)),GN(e,i,o,s,l,"F",c,h)}function xO(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function NI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Do(n.unaryFilter.field);return dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Do(n.unaryFilter.field);return dt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Do(n.unaryFilter.field);return dt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Do(n.unaryFilter.field);return dt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return de()}}(t):t.fieldFilter!==void 0?function(n){return dt.create(Do(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return de()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return sr.create(n.compositeFilter.filters.map(r=>NI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return de()}}(n.compositeFilter.op))}(t):de()}function NO(t){return vO[t]}function OO(t){return wO[t]}function DO(t){return EO[t]}function Oo(t){return{fieldPath:t.canonicalString()}}function Do(t){return Ot.fromServerFormat(t.fieldPath)}function OI(t){return t instanceof dt?function(n){if(n.op==="=="){if(Wv(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NAN"}};if(zv(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Wv(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NOT_NAN"}};if(zv(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oo(n.field),op:OO(n.op),value:n.value}}}(t):t instanceof sr?function(n){const r=n.getFilters().map(i=>OI(i));return r.length===1?r[0]:{compositeFilter:{op:DO(n.op),filters:r}}}(t):de()}function LO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function DI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,n,r,i,s=me.min(),o=me.min(),l=Mt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Fi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e){this.ct=e}}function MO(t){const e=bO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Xp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(){this.un=new FO}addToCollectionParentIndex(e,n){return this.un.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(rs.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(rs.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class FO{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Lt(qe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Lt(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ma(0)}static kn(){return new ma(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(){this.changes=new Pa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Fl(r.mutation,i,Tn.empty(),vt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ie()){const i=Fs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Il();return s.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Fs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ie()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=si();const o=jl(),l=function(){return jl()}();return n.forEach((c,h)=>{const m=r.get(h.key);i.has(h.key)&&(m===void 0||m.mutation instanceof ds)?s=s.insert(h.key,h):m!==void 0?(o.set(h.key,m.mutation.getFieldMask()),Fl(m.mutation,h,m.mutation.getFieldMask(),vt.now())):o.set(h.key,Tn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((h,m)=>o.set(h,m)),n.forEach((h,m)=>{var _;return l.set(h,new BO(m,(_=o.get(h))!==null&&_!==void 0?_:null))}),l))}recalculateAndSaveOverlays(e,n){const r=jl();let i=new et((o,l)=>o-l),s=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const h=n.get(c);if(h===null)return;let m=r.get(c)||Tn.empty();m=l.applyToLocalView(h,m),r.set(c,m);const _=(i.get(l.batchId)||Ie()).add(c);i=i.insert(l.batchId,_)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),h=c.key,m=c.value,_=gI();m.forEach(y=>{if(!s.has(y)){const k=TI(n.get(y),r.get(y));k!==null&&_.set(y,k),s=s.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,_))}return H.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return oe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):H.resolve(Fs());let l=-1,c=s;return o.next(h=>H.forEach(h,(m,_)=>(l<_.largestBatchId&&(l=_.largestBatchId),s.get(m)?H.resolve():this.remoteDocumentCache.getEntry(e,m).next(y=>{c=c.insert(m,y)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,c,h,Ie())).next(m=>({batchId:l,changes:mI(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(r=>{let i=Il();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Il();return this.indexManager.getCollectionParents(e,s).next(l=>H.forEach(l,c=>{const h=function(_,y){return new Ca(y,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(m=>{m.forEach((_,y)=>{o=o.insert(_,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,h)=>{const m=h.getKey();o.get(m)===null&&(o=o.insert(m,qt.newInvalidDocument(m)))});let l=Il();return o.forEach((c,h)=>{const m=s.get(c);m!==void 0&&Fl(m.mutation,h,Tn.empty(),vt.now()),_d(n,h)&&(l=l.insert(c,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return H.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Tr(i.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:MO(i.bundledQuery),readTime:Tr(i.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(){this.overlays=new et(oe.comparator),this.Ir=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Fs();return H.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const i=Fs(),s=n.length+1,o=new oe(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,h=c.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return H.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new et((h,m)=>h-m);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let m=s.get(h.largestBatchId);m===null&&(m=Fs(),s=s.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const l=Fs(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,m)=>l.set(h,m)),!(l.size()>=i)););return H.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new fO(n,r));let s=this.Ir.get(n);s===void 0&&(s=Ie(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(){this.sessionToken=Mt.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(){this.Tr=new Lt(At.Er),this.dr=new Lt(At.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new At(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new At(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new oe(new qe([])),r=new At(n,e),i=new At(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new oe(new qe([])),r=new At(n,e),i=new At(n,e+1);let s=Ie();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new At(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class At{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return oe.comparator(e.key,n.key)||be(e.wr,n.wr)}static Ar(e,n){return be(e.wr,n.wr)||oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Lt(At.Er)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new dO(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.br=this.br.add(new At(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,n){return H.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return H.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new At(n,0),i=new At(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const l=this.Dr(o.wr);s.push(l)}),H.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Lt(be);return n.forEach(i=>{const s=new At(i,0),o=new At(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],l=>{r=r.add(l.wr)})}),H.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;oe.isDocumentKey(s)||(s=s.child(""));const o=new At(new oe(s),0);let l=new Lt(be);return this.br.forEachWhile(c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(c.wr)),!0)},o),H.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ve(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return H.forEach(n.mutations,i=>{const s=new At(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new At(n,0),i=this.br.firstAfterOrEqual(r);return H.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e){this.Mr=e,this.docs=function(){return new et(oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():qt.newInvalidDocument(n))}getEntries(e,n){let r=si();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():qt.newInvalidDocument(i))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=si();const o=n.path,l=new oe(o.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:h,value:{document:m}}=c.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||RN(kN(m),r)<=0||(i.has(m.key)||_d(n,m))&&(s=s.insert(m.key,m.mutableCopy()))}return H.resolve(s)}getAllFromCollectionGroup(e,n,r,i){de()}Or(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new GO(this)}getSize(e){return H.resolve(this.size)}}class GO extends UO{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e){this.persistence=e,this.Nr=new Pa(n=>Ag(n),Cg),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Ng,this.targetCount=0,this.kr=ma.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),H.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new ma(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Kn(n),H.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),H.waitFor(s).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),H.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Eg(0),this.Kr=!1,this.Kr=!0,this.$r=new qO,this.referenceDelegate=e(this),this.Ur=new QO(this),this.indexManager=new jO,this.remoteDocumentCache=function(i){return new KO(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new VO(n),this.Gr=new zO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new WO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new HO(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ie("MemoryPersistence","Starting transaction:",e);const i=new XO(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return H.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class XO extends xN{constructor(e){super(),this.currentSequenceNumber=e}}class Og{constructor(e){this.persistence=e,this.Jr=new Ng,this.Yr=null}static Zr(e){return new Og(e)}get Xr(){if(this.Yr)return this.Yr;throw de()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),H.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.Xr,r=>{const i=oe.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,me.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return H.or([()=>H.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ie(),i=Ie();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Dg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return VR()?8:NN(Kt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new JO;return this.Xi(e,n,o).next(l=>{if(s.result=l,this.zi)return this.es(e,n,o,l.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(ml()<=Ae.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",No(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),H.resolve()):(ml()<=Ae.DEBUG&&ie("QueryEngine","Query:",No(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ml()<=Ae.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",No(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Er(n))):H.resolve())}Yi(e,n){if(Gv(n))return H.resolve(null);let r=Er(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Xp(n,null,"F"),r=Er(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ie(...s);return this.Ji.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const h=this.ts(n,l);return this.ns(n,h,o,c.readTime)?this.Yi(e,Xp(n,null,"F")):this.rs(e,h,n,c)}))})))}Zi(e,n,r,i){return Gv(n)||i.isEqual(me.min())?H.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?H.resolve(null):(ml()<=Ae.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),No(n)),this.rs(e,o,n,PN(i,-1)).next(l=>l))})}ts(e,n){let r=new Lt(fI(e));return n.forEach((i,s)=>{_d(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return ml()<=Ae.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",No(n)),this.Ji.getDocumentsMatchingQuery(e,n,rs.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new et(be),this._s=new Pa(s=>Ag(s),Cg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $O(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function tD(t,e,n,r){return new eD(t,e,n,r)}async function LI(t,e){const n=ge(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let c=Ie();for(const h of i){o.push(h.batchId);for(const m of h.mutations)c=c.add(m.key)}for(const h of s){l.push(h.batchId);for(const m of h.mutations)c=c.add(m.key)}return n.localDocuments.getDocuments(r,c).next(h=>({hs:h,removedBatchIds:o,addedBatchIds:l}))})})}function nD(t,e){const n=ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,c,h,m){const _=h.batch,y=_.keys();let k=H.resolve();return y.forEach(N=>{k=k.next(()=>m.getEntry(c,N)).next(x=>{const D=h.docVersions.get(N);Ve(D!==null),x.version.compareTo(D)<0&&(_.applyToRemoteDocument(x,h),x.isValidDocument()&&(x.setReadTime(h.commitVersion),m.addEntry(x)))})}),k.next(()=>l.mutationQueue.removeMutationBatch(c,_))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=Ie();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(c=c.add(l.batch.mutations[h].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function VI(t){const e=ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function rD(t,e){const n=ge(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const l=[];e.targetChanges.forEach((m,_)=>{const y=i.get(_);if(!y)return;l.push(n.Ur.removeMatchingKeys(s,m.removedDocuments,_).next(()=>n.Ur.addMatchingKeys(s,m.addedDocuments,_)));let k=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(_)!==null?k=k.withResumeToken(Mt.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):m.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(m.resumeToken,r)),i=i.insert(_,k),function(x,D,S){return x.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(y,k,m)&&l.push(n.Ur.updateTargetData(s,k))});let c=si(),h=Ie();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,m))}),l.push(iD(s,o,e.documentUpdates).next(m=>{c=m.Ps,h=m.Is})),!r.isEqual(me.min())){const m=n.Ur.getLastRemoteSnapshotVersion(s).next(_=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(m)}return H.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,h)).next(()=>c)}).then(s=>(n.os=i,s))}function iD(t,e,n){let r=Ie(),i=Ie();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=si();return n.forEach((l,c)=>{const h=s.get(l);c.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(me.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):ie("LocalStore","Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",c.version)}),{Ps:o,Is:i}})}function sD(t,e){const n=ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function oD(t,e){const n=ge(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,H.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Fi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function nm(t,e,n){const r=ge(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ku(o))throw o;ie("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function sw(t,e,n){const r=ge(t);let i=me.min(),s=Ie();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,h,m){const _=ge(c),y=_._s.get(m);return y!==void 0?H.resolve(_.os.get(y)):_.Ur.getTargetData(h,m)}(r,o,Er(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,l.targetId).next(c=>{s=c})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:me.min(),n?s:Ie())).next(l=>(aD(r,YN(e),l),{documents:l,Ts:s})))}function aD(t,e,n){let r=t.us.get(e)||me.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class ow{constructor(){this.activeTargetIds=nO()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lD{constructor(){this.so=new ow,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new ow,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dc=null;function Mf(){return Dc===null?Dc=function(){return 268435456+Math.round(2147483648*Math.random())}():Dc++,"0x"+Dc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class dD extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const l=Mf(),c=this.xo(n,r.toUriEncodedString());ie("RestConnection",`Sending RPC '${n}' ${l}:`,c,i);const h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,s,o),this.No(n,c,h,i).then(m=>(ie("RestConnection",`Received RPC '${n}' ${l}: `,m),m),m=>{throw ha("RestConnection",`RPC '${n}' ${l} failed with error: `,m,"url: ",c,"request:",i),m})}Lo(n,r,i,s,o,l){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Aa}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=cD[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Mf();return new Promise((o,l)=>{const c=new QT;c.setWithCredentials(!0),c.listenOnce(YT.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Xc.NO_ERROR:const m=c.getResponseJson();ie($t,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(m)),o(m);break;case Xc.TIMEOUT:ie($t,`RPC '${e}' ${s} timed out`),l(new ee(W.DEADLINE_EXCEEDED,"Request time out"));break;case Xc.HTTP_ERROR:const _=c.getStatus();if(ie($t,`RPC '${e}' ${s} failed with status:`,_,"response text:",c.getResponseText()),_>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);const k=y==null?void 0:y.error;if(k&&k.status&&k.message){const N=function(D){const S=D.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(S)>=0?S:W.UNKNOWN}(k.status);l(new ee(N,k.message))}else l(new ee(W.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new ee(W.UNAVAILABLE,"Connection failed."));break;default:de()}}finally{ie($t,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);ie($t,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",h,r,15)})}Bo(e,n,r){const i=Mf(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ZT(),l=JT(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const m=s.join("");ie($t,`Creating RPC '${e}' stream ${i}: ${m}`,c);const _=o.createWebChannel(m,c);let y=!1,k=!1;const N=new hD({Io:D=>{k?ie($t,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(y||(ie($t,`Opening RPC '${e}' stream ${i} transport.`),_.open(),y=!0),ie($t,`RPC '${e}' stream ${i} sending:`,D),_.send(D))},To:()=>_.close()}),x=(D,S,I)=>{D.listen(S,C=>{try{I(C)}catch(F){setTimeout(()=>{throw F},0)}})};return x(_,Tl.EventType.OPEN,()=>{k||(ie($t,`RPC '${e}' stream ${i} transport opened.`),N.yo())}),x(_,Tl.EventType.CLOSE,()=>{k||(k=!0,ie($t,`RPC '${e}' stream ${i} transport closed`),N.So())}),x(_,Tl.EventType.ERROR,D=>{k||(k=!0,ha($t,`RPC '${e}' stream ${i} transport errored:`,D),N.So(new ee(W.UNAVAILABLE,"The operation could not be completed")))}),x(_,Tl.EventType.MESSAGE,D=>{var S;if(!k){const I=D.data[0];Ve(!!I);const C=I,F=C.error||((S=C[0])===null||S===void 0?void 0:S.error);if(F){ie($t,`RPC '${e}' stream ${i} received error:`,F);const K=F.status;let Q=function(A){const R=ct[A];if(R!==void 0)return AI(R)}(K),P=F.message;Q===void 0&&(Q=W.INTERNAL,P="Unknown error status: "+K+" with message "+F.message),k=!0,N.So(new ee(Q,P)),_.close()}else ie($t,`RPC '${e}' stream ${i} received:`,I),N.bo(I)}}),x(l,XT.STAT_EVENT,D=>{D.stat===qp.PROXY?ie($t,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===qp.NOPROXY&&ie($t,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{N.wo()},0),N}}function jf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(t){return new TO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ie("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e,n,r,i,s,o,l,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new MI(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(ii(n.toString()),ii("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ee(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ie("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fD extends jI{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=AO(this.serializer,e),r=function(s){if(!("targetChange"in s))return me.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?me.min():o.readTime?Tr(o.readTime):me.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=tm(this.serializer),n.addTarget=function(s,o){let l;const c=o.target;if(l=Qp(c)?{documents:kO(s,c)}:{query:RO(s,c)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=kI(s,o.resumeToken);const h=Jp(s,o.expectedCount);h!==null&&(l.expectedCount=h)}else if(o.snapshotVersion.compareTo(me.min())>0){l.readTime=Uh(s,o.snapshotVersion.toTimestamp());const h=Jp(s,o.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const r=xO(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=tm(this.serializer),n.removeTarget=e,this.a_(n)}}class pD extends jI{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ve(!!e.streamToken),this.lastStreamToken=e.streamToken,Ve(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ve(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=PO(e.writeResults,e.commitTime),r=Tr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=tm(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>CO(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ee(W.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Zp(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ee(W.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Lo(e,Zp(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ee(W.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class gD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ii(n),this.D_=!1):ie("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{io(this)&&(ie("RemoteStore","Restarting streams for network reachability change."),await async function(c){const h=ge(c);h.L_.add(4),await xu(h),h.q_.set("Unknown"),h.L_.delete(4),await Td(h)}(this))})}),this.q_=new gD(r,i)}}async function Td(t){if(io(t))for(const e of t.B_)await e(!0)}async function xu(t){for(const e of t.B_)await e(!1)}function FI(t,e){const n=ge(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),jg(n)?Mg(n):ka(n).r_()&&Vg(n,e))}function Lg(t,e){const n=ge(t),r=ka(n);n.N_.delete(e),r.r_()&&UI(n,e),n.N_.size===0&&(r.r_()?r.o_():io(n)&&n.q_.set("Unknown"))}function Vg(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ka(t).A_(e)}function UI(t,e){t.Q_.xe(e),ka(t).R_(e)}function Mg(t){t.Q_=new yO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ka(t).start(),t.q_.v_()}function jg(t){return io(t)&&!ka(t).n_()&&t.N_.size>0}function io(t){return ge(t).L_.size===0}function BI(t){t.Q_=void 0}async function yD(t){t.q_.set("Online")}async function vD(t){t.N_.forEach((e,n)=>{Vg(t,e)})}async function wD(t,e){BI(t),jg(t)?(t.q_.M_(e),Mg(t)):t.q_.set("Unknown")}async function ED(t,e,n){if(t.q_.set("Online"),e instanceof PI&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.N_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.N_.delete(l),i.Q_.removeTarget(l))}(t,e)}catch(r){ie("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Bh(t,r)}else if(e instanceof eh?t.Q_.Ke(e):e instanceof CI?t.Q_.He(e):t.Q_.We(e),!n.isEqual(me.min()))try{const r=await VI(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.Q_.rt(o);return l.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const m=s.N_.get(h);m&&s.N_.set(h,m.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,h)=>{const m=s.N_.get(c);if(!m)return;s.N_.set(c,m.withResumeToken(Mt.EMPTY_BYTE_STRING,m.snapshotVersion)),UI(s,c);const _=new Fi(m.target,c,h,m.sequenceNumber);Vg(s,_)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){ie("RemoteStore","Failed to raise snapshot:",r),await Bh(t,r)}}async function Bh(t,e,n){if(!ku(e))throw e;t.L_.add(1),await xu(t),t.q_.set("Offline"),n||(n=()=>VI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ie("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Td(t)})}function $I(t,e){return e().catch(n=>Bh(t,n,e))}async function Id(t){const e=ge(t),n=ss(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;TD(e);)try{const i=await sD(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,ID(e,i)}catch(i){await Bh(e,i)}zI(e)&&WI(e)}function TD(t){return io(t)&&t.O_.length<10}function ID(t,e){t.O_.push(e);const n=ss(t);n.r_()&&n.V_&&n.m_(e.mutations)}function zI(t){return io(t)&&!ss(t).n_()&&t.O_.length>0}function WI(t){ss(t).start()}async function SD(t){ss(t).p_()}async function AD(t){const e=ss(t);for(const n of t.O_)e.m_(n.mutations)}async function CD(t,e,n){const r=t.O_.shift(),i=Rg.from(r,e,n);await $I(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Id(t)}async function PD(t,e){e&&ss(t).V_&&await async function(r,i){if(function(o){return mO(o)&&o!==W.ABORTED}(i.code)){const s=r.O_.shift();ss(r).s_(),await $I(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Id(r)}}(t,e),zI(t)&&WI(t)}async function lw(t,e){const n=ge(t);n.asyncQueue.verifyOperationInProgress(),ie("RemoteStore","RemoteStore received new credentials");const r=io(n);n.L_.add(3),await xu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Td(n)}async function kD(t,e){const n=ge(t);e?(n.L_.delete(2),await Td(n)):e||(n.L_.add(2),await xu(n),n.q_.set("Unknown"))}function ka(t){return t.K_||(t.K_=function(n,r,i){const s=ge(n);return s.w_(),new fD(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:yD.bind(null,t),Ro:vD.bind(null,t),mo:wD.bind(null,t),d_:ED.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),jg(t)?Mg(t):t.q_.set("Unknown")):(await t.K_.stop(),BI(t))})),t.K_}function ss(t){return t.U_||(t.U_=function(n,r,i){const s=ge(n);return s.w_(),new pD(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:SD.bind(null,t),mo:PD.bind(null,t),f_:AD.bind(null,t),g_:CD.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Id(t)):(await t.U_.stop(),t.O_.length>0&&(ie("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new Fg(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ee(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ug(t,e){if(ii("AsyncQueue",`${e}: ${t}`),ku(t))return new ee(W.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e){this.comparator=e?(n,r)=>e(n,r)||oe.comparator(n.key,r.key):(n,r)=>oe.comparator(n.key,r.key),this.keyedMap=Il(),this.sortedSet=new et(this.comparator)}static emptySet(e){return new na(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof na)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new na;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(){this.W_=new et(oe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):de():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ga{constructor(e,n,r,i,s,o,l,c,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new ga(e,n,na.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class bD{constructor(){this.queries=cw(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ge(n),s=i.queries;i.queries=cw(),s.forEach((o,l)=>{for(const c of l.j_)c.onError(r)})})(this,new ee(W.ABORTED,"Firestore shutting down"))}}function cw(){return new Pa(t=>dI(t),gd)}async function qI(t,e){const n=ge(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new RD,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=Ug(o,`Initialization of query '${No(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Bg(n)}async function HI(t,e){const n=ge(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function xD(t,e){const n=ge(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.j_)l.X_(i)&&(r=!0);o.z_=i}}r&&Bg(n)}function ND(t,e,n){const r=ge(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function Bg(t){t.Y_.forEach(e=>{e.next()})}var rm,hw;(hw=rm||(rm={})).ea="default",hw.Cache="cache";class KI{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ga(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ga.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==rm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e){this.key=e}}class QI{constructor(e){this.key=e}}class OD{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ie(),this.mutatedKeys=Ie(),this.Aa=fI(e),this.Ra=new na(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new uw,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,_)=>{const y=i.get(m),k=_d(this.query,_)?_:null,N=!!y&&this.mutatedKeys.has(y.key),x=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let D=!1;y&&k?y.data.isEqual(k.data)?N!==x&&(r.track({type:3,doc:k}),D=!0):this.ga(y,k)||(r.track({type:2,doc:k}),D=!0,(c&&this.Aa(k,c)>0||h&&this.Aa(k,h)<0)&&(l=!0)):!y&&k?(r.track({type:0,doc:k}),D=!0):y&&!k&&(r.track({type:1,doc:y}),D=!0,(c||h)&&(l=!0)),D&&(k?(o=o.add(k),s=x?s.add(m):s.delete(m)):(o=o.delete(m),s=s.delete(m)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const m=this.query.limitType==="F"?o.last():o.first();o=o.delete(m.key),s=s.delete(m.key),r.track({type:1,doc:m})}return{Ra:o,fa:r,ns:l,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((m,_)=>function(k,N){const x=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de()}};return x(k)-x(N)}(m.type,_.type)||this.Aa(m.doc,_.doc)),this.pa(r),i=i!=null&&i;const l=n&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,h=c!==this.Ea;return this.Ea=c,o.length!==0||h?{snapshot:new ga(this.query,e.Ra,s,o,e.mutatedKeys,c===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new uw,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ie(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new QI(r))}),this.da.forEach(r=>{e.has(r)||n.push(new GI(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ie();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ga.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class DD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class LD{constructor(e){this.key=e,this.va=!1}}class VD{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Pa(l=>dI(l),gd),this.Ma=new Map,this.xa=new Set,this.Oa=new et(oe.comparator),this.Na=new Map,this.La=new Ng,this.Ba={},this.ka=new Map,this.qa=ma.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function MD(t,e,n=!0){const r=tS(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await YI(r,e,n,!0),i}async function jD(t,e){const n=tS(t);await YI(n,e,!0,!1)}async function YI(t,e,n,r){const i=await oD(t.localStore,Er(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await FD(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&FI(t.remoteStore,i),l}async function FD(t,e,n,r,i){t.Ka=(_,y,k)=>async function(x,D,S,I){let C=D.view.ma(S);C.ns&&(C=await sw(x.localStore,D.query,!1).then(({documents:P})=>D.view.ma(P,C)));const F=I&&I.targetChanges.get(D.targetId),K=I&&I.targetMismatches.get(D.targetId)!=null,Q=D.view.applyChanges(C,x.isPrimaryClient,F,K);return fw(x,D.targetId,Q.wa),Q.snapshot}(t,_,y,k);const s=await sw(t.localStore,e,!0),o=new OD(e,s.Ts),l=o.ma(s.documents),c=bu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=o.applyChanges(l,t.isPrimaryClient,c);fw(t,n,h.wa);const m=new DD(e,n,o);return t.Fa.set(e,m),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),h.snapshot}async function UD(t,e,n){const r=ge(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!gd(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await nm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Lg(r.remoteStore,i.targetId),im(r,i.targetId)}).catch(Pu)):(im(r,i.targetId),await nm(r.localStore,i.targetId,!0))}async function BD(t,e){const n=ge(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Lg(n.remoteStore,r.targetId))}async function $D(t,e,n){const r=QD(t);try{const i=await function(o,l){const c=ge(o),h=vt.now(),m=l.reduce((k,N)=>k.add(N.key),Ie());let _,y;return c.persistence.runTransaction("Locally write mutations","readwrite",k=>{let N=si(),x=Ie();return c.cs.getEntries(k,m).next(D=>{N=D,N.forEach((S,I)=>{I.isValidDocument()||(x=x.add(S))})}).next(()=>c.localDocuments.getOverlayedDocuments(k,N)).next(D=>{_=D;const S=[];for(const I of l){const C=cO(I,_.get(I.key).overlayedDocument);C!=null&&S.push(new ds(I.key,C,iI(C.value.mapValue),rr.exists(!0)))}return c.mutationQueue.addMutationBatch(k,h,S,l)}).next(D=>{y=D;const S=D.applyToLocalDocumentSet(_,x);return c.documentOverlayCache.saveOverlays(k,D.batchId,S)})}).then(()=>({batchId:y.batchId,changes:mI(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,c){let h=o.Ba[o.currentUser.toKey()];h||(h=new et(be)),h=h.insert(l,c),o.Ba[o.currentUser.toKey()]=h}(r,i.batchId,n),await Nu(r,i.changes),await Id(r.remoteStore)}catch(i){const s=Ug(i,"Failed to persist write");n.reject(s)}}async function XI(t,e){const n=ge(t);try{const r=await rD(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Ve(o.va):i.removedDocuments.size>0&&(Ve(o.va),o.va=!1))}),await Nu(n,r,e)}catch(r){await Pu(r)}}function dw(t,e,n){const r=ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const l=o.view.Z_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const c=ge(o);c.onlineState=l;let h=!1;c.queries.forEach((m,_)=>{for(const y of _.j_)y.Z_(l)&&(h=!0)}),h&&Bg(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function zD(t,e,n){const r=ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new et(oe.comparator);o=o.insert(s,qt.newNoDocument(s,me.min()));const l=Ie().add(s),c=new wd(me.min(),new Map,new et(be),o,l);await XI(r,c),r.Oa=r.Oa.remove(s),r.Na.delete(e),$g(r)}else await nm(r.localStore,e,!1).then(()=>im(r,e,n)).catch(Pu)}async function WD(t,e){const n=ge(t),r=e.batch.batchId;try{const i=await nD(n.localStore,e);ZI(n,r,null),JI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Nu(n,i)}catch(i){await Pu(i)}}async function qD(t,e,n){const r=ge(t);try{const i=await function(o,l){const c=ge(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let m;return c.mutationQueue.lookupMutationBatch(h,l).next(_=>(Ve(_!==null),m=_.keys(),c.mutationQueue.removeMutationBatch(h,_))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,m,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m)).next(()=>c.localDocuments.getDocuments(h,m))})}(r.localStore,e);ZI(r,e,n),JI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Nu(r,i)}catch(i){await Pu(i)}}function JI(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function ZI(t,e,n){const r=ge(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function im(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||eS(t,r)})}function eS(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Lg(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),$g(t))}function fw(t,e,n){for(const r of n)r instanceof GI?(t.La.addReference(r.key,e),HD(t,r)):r instanceof QI?(ie("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||eS(t,r.key)):de()}function HD(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ie("SyncEngine","New document in limbo: "+n),t.xa.add(r),$g(t))}function $g(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new oe(qe.fromString(e)),r=t.qa.next();t.Na.set(r,new LD(n)),t.Oa=t.Oa.insert(n,r),FI(t.remoteStore,new Fi(Er(Pg(n.path)),r,"TargetPurposeLimboResolution",Eg.oe))}}async function Nu(t,e,n){const r=ge(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((l,c)=>{o.push(r.Ka(c,e,n).then(h=>{var m;if((h||n)&&r.isPrimaryClient){const _=h?!h.fromCache:(m=n==null?void 0:n.targetChanges.get(c.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(c.targetId,_?"current":"not-current")}if(h){i.push(h);const _=Dg.Wi(c.targetId,h);s.push(_)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(c,h){const m=ge(c);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>H.forEach(h,y=>H.forEach(y.$i,k=>m.persistence.referenceDelegate.addReference(_,y.targetId,k)).next(()=>H.forEach(y.Ui,k=>m.persistence.referenceDelegate.removeReference(_,y.targetId,k)))))}catch(_){if(!ku(_))throw _;ie("LocalStore","Failed to update sequence numbers: "+_)}for(const _ of h){const y=_.targetId;if(!_.fromCache){const k=m.os.get(y),N=k.snapshotVersion,x=k.withLastLimboFreeSnapshotVersion(N);m.os=m.os.insert(y,x)}}}(r.localStore,s))}async function KD(t,e){const n=ge(t);if(!n.currentUser.isEqual(e)){ie("SyncEngine","User change. New user:",e.toKey());const r=await LI(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(l=>{l.forEach(c=>{c.reject(new ee(W.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Nu(n,r.hs)}}function GD(t,e){const n=ge(t),r=n.Na.get(e);if(r&&r.va)return Ie().add(r.key);{let i=Ie();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const l=n.Fa.get(o);i=i.unionWith(l.view.Va)}return i}}function tS(t){const e=ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=XI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zD.bind(null,e),e.Ca.d_=xD.bind(null,e.eventManager),e.Ca.$a=ND.bind(null,e.eventManager),e}function QD(t){const e=ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qD.bind(null,e),e}class $h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ed(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return tD(this.persistence,new ZO,e.initialUser,this.serializer)}Ga(e){return new YO(Og.Zr,this.serializer)}Wa(e){return new lD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$h.provider={build:()=>new $h};class sm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>dw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=KD.bind(null,this.syncEngine),await kD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new bD}()}createDatastore(e){const n=Ed(e.databaseInfo.databaseId),r=function(s){return new dD(s)}(e.databaseInfo);return function(s,o,l,c){return new mD(s,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new _D(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>dw(this.syncEngine,n,0),function(){return aw.D()?new aw:new uD}())}createSyncEngine(e,n){return function(i,s,o,l,c,h,m){const _=new VD(i,s,o,l,c,h);return m&&(_.Qa=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ge(i);ie("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await xu(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}sm.provider={build:()=>new sm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ii("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=zt.UNAUTHENTICATED,this.clientId=tI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{ie("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ie("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ug(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ff(t,e){t.asyncQueue.verifyOperationInProgress(),ie("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await LI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function pw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await XD(t);ie("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>lw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>lw(e.remoteStore,i)),t._onlineComponents=e}async function XD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ie("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ff(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===W.FAILED_PRECONDITION||i.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ha("Error using user provided cache. Falling back to memory cache: "+n),await Ff(t,new $h)}}else ie("FirestoreClient","Using default OfflineComponentProvider"),await Ff(t,new $h);return t._offlineComponents}async function rS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ie("FirestoreClient","Using user provided OnlineComponentProvider"),await pw(t,t._uninitializedComponentsProvider._online)):(ie("FirestoreClient","Using default OnlineComponentProvider"),await pw(t,new sm))),t._onlineComponents}function JD(t){return rS(t).then(e=>e.syncEngine)}async function iS(t){const e=await rS(t),n=e.eventManager;return n.onListen=MD.bind(null,e.syncEngine),n.onUnlisten=UD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=jD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=BD.bind(null,e.syncEngine),n}function ZD(t,e,n={}){const r=new Yr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,c,h){const m=new nS({next:y=>{m.Za(),o.enqueueAndForget(()=>HI(s,_));const k=y.docs.has(l);!k&&y.fromCache?h.reject(new ee(W.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&y.fromCache&&c&&c.source==="server"?h.reject(new ee(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(y)},error:y=>h.reject(y)}),_=new KI(Pg(l.path),m,{includeMetadataChanges:!0,_a:!0});return qI(s,_)}(await iS(t),t.asyncQueue,e,n,r)),r.promise}function eL(t,e,n={}){const r=new Yr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,c,h){const m=new nS({next:y=>{m.Za(),o.enqueueAndForget(()=>HI(s,_)),y.fromCache&&c.source==="server"?h.reject(new ee(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),_=new KI(l,m,{includeMetadataChanges:!0,_a:!0});return qI(s,_)}(await iS(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(t,e,n){if(!n)throw new ee(W.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function tL(t,e,n,r){if(e===!0&&r===!0)throw new ee(W.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function gw(t){if(!oe.isDocumentKey(t))throw new ee(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function _w(t){if(oe.isDocumentKey(t))throw new ee(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Sd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":de()}function Sr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ee(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sd(t);throw new ee(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ee(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ee(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ee(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ee(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ee(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ad{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ee(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ee(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yw(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new yN;switch(r.type){case"firstParty":return new TN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ee(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=mw.get(n);r&&(ie("ComponentProvider","Removing Datastore"),mw.delete(n),r.terminate())}(this),Promise.resolve()}}function nL(t,e,n,r={}){var i;const s=(t=Sr(t,Ad))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ha("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=zt.MOCK_USER;else{l=RR(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new ee(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new zt(h)}t._authCredentials=new vN(new eI(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new so(this.firestore,e,this._query)}}class sn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sn(this.firestore,e,this._key)}}class Zi extends so{constructor(e,n,r){super(e,n,Pg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new oe(e))}withConverter(e){return new Zi(this.firestore,e,this._path)}}function Ul(t,e,...n){if(t=Ke(t),oS("collection","path",e),t instanceof Ad){const r=qe.fromString(e,...n);return _w(r),new Zi(t,null,r)}{if(!(t instanceof sn||t instanceof Zi))throw new ee(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qe.fromString(e,...n));return _w(r),new Zi(t.firestore,null,r)}}function _a(t,e,...n){if(t=Ke(t),arguments.length===1&&(e=tI.newId()),oS("doc","path",e),t instanceof Ad){const r=qe.fromString(e,...n);return gw(r),new sn(t,null,new oe(r))}{if(!(t instanceof sn||t instanceof Zi))throw new ee(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qe.fromString(e,...n));return gw(r),new sn(t.firestore,t instanceof Zi?t.converter:null,new oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new MI(this,"async_queue_retry"),this.Vu=()=>{const r=jf();r&&ie("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=jf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=jf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Yr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ku(e))throw e;ie("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw ii("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Fg.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&de()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Ra extends Ad{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new vw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vw(e),this._firestoreClient=void 0,await e}}}function rL(t,e){const n=typeof t=="object"?t:iT(),r=typeof t=="string"?t:"(default)",i=ag(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=PR("firestore");s&&nL(i,...s)}return i}function zg(t){if(t._terminated)throw new ee(W.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||iL(t),t._firestoreClient}function iL(t){var e,n,r;const i=t._freezeSettings(),s=function(l,c,h,m){return new LN(l,c,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,sS(m.experimentalLongPollingOptions),m.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new YD(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ya(Mt.fromBase64String(e))}catch(n){throw new ee(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ya(Mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ee(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ee(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ee(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL=/^__.*__$/;class oL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ds(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ru(e,this.data,n,this.fieldTransforms)}}class aS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ds(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function lS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de()}}class Hg{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Hg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return zh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(lS(this.Cu)&&sL.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class aL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ed(e)}Qu(e,n,r,i=!1){return new Hg({Cu:e,methodName:n,qu:r,path:Ot.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kd(t){const e=t._freezeSettings(),n=Ed(t._databaseId);return new aL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function uS(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);Gg("Data must be an object, but it was:",o,r);const l=cS(r,o);let c,h;if(s.merge)c=new Tn(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const m=[];for(const _ of s.mergeFields){const y=om(e,_,n);if(!o.contains(y))throw new ee(W.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);dS(m,y)||m.push(y)}c=new Tn(m),h=o.fieldTransforms.filter(_=>c.covers(_.field))}else c=null,h=o.fieldTransforms;return new oL(new hn(l),c,h)}class Rd extends Pd{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rd}}class Kg extends Pd{_toFieldTransform(e){return new oO(e.path,new fu)}isEqual(e){return e instanceof Kg}}function lL(t,e,n,r){const i=t.Qu(1,e,n);Gg("Data must be an object, but it was:",i,r);const s=[],o=hn.empty();ro(r,(c,h)=>{const m=Qg(e,c,n);h=Ke(h);const _=i.Nu(m);if(h instanceof Rd)s.push(m);else{const y=Ou(h,_);y!=null&&(s.push(m),o.set(m,y))}});const l=new Tn(s);return new aS(o,l,i.fieldTransforms)}function uL(t,e,n,r,i,s){const o=t.Qu(1,e,n),l=[om(e,r,n)],c=[i];if(s.length%2!=0)throw new ee(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<s.length;y+=2)l.push(om(e,s[y])),c.push(s[y+1]);const h=[],m=hn.empty();for(let y=l.length-1;y>=0;--y)if(!dS(h,l[y])){const k=l[y];let N=c[y];N=Ke(N);const x=o.Nu(k);if(N instanceof Rd)h.push(k);else{const D=Ou(N,x);D!=null&&(h.push(k),m.set(k,D))}}const _=new Tn(h);return new aS(m,_,o.fieldTransforms)}function cL(t,e,n,r=!1){return Ou(n,t.Qu(r?4:3,e))}function Ou(t,e){if(hS(t=Ke(t)))return Gg("Unsupported field value:",e,t),cS(t,e);if(t instanceof Pd)return function(r,i){if(!lS(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let c=Ou(l,i.Lu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ke(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return rO(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=vt.fromDate(r);return{timestampValue:Uh(i.serializer,s)}}if(r instanceof vt){const s=new vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Uh(i.serializer,s)}}if(r instanceof Wg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ya)return{bytesValue:kI(i.serializer,r._byteString)};if(r instanceof sn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:xg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof qg)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw l.Bu("VectorValues must only contain numeric values.");return kg(l.serializer,c)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Sd(r)}`)}(t,e)}function cS(t,e){const n={};return nI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ro(t,(r,i)=>{const s=Ou(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function hS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof vt||t instanceof Wg||t instanceof ya||t instanceof sn||t instanceof Pd||t instanceof qg)}function Gg(t,e,n){if(!hS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Sd(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function om(t,e,n){if((e=Ke(e))instanceof Cd)return e._internalPath;if(typeof e=="string")return Qg(t,e);throw zh("Field path arguments must be of type string or ",t,!1,void 0,n)}const hL=new RegExp("[~\\*/\\[\\]]");function Qg(t,e,n){if(e.search(hL)>=0)throw zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Cd(...e.split("."))._internalPath}catch{throw zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function zh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new ee(W.INVALID_ARGUMENT,l+t+c)}function dS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(bd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class dL extends fS{data(){return super.data()}}function bd(t,e){return typeof e=="string"?Qg(t,e):e instanceof Cd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ee(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yg{}class pS extends Yg{}function pL(t,e,...n){let r=[];e instanceof Yg&&r.push(e),r=r.concat(n),function(s){const o=s.filter(c=>c instanceof Xg).length,l=s.filter(c=>c instanceof xd).length;if(o>1||o>0&&l>0)throw new ee(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class xd extends pS{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new xd(e,n,r)}_apply(e){const n=this._parse(e);return mS(e._query,n),new so(e.firestore,e.converter,Yp(e._query,n))}_parse(e){const n=kd(e.firestore);return function(s,o,l,c,h,m,_){let y;if(h.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new ee(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){Ew(_,m);const k=[];for(const N of _)k.push(ww(c,s,N));y={arrayValue:{values:k}}}else y=ww(c,s,_)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||Ew(_,m),y=cL(l,o,_,m==="in"||m==="not-in");return dt.create(h,m,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function mL(t,e,n){const r=e,i=bd("where",t);return xd._create(i,r,n)}class Xg extends Yg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Xg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:sr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const l=s.getFlattenedFilters();for(const c of l)mS(o,c),o=Yp(o,c)}(e._query,n),new so(e.firestore,e.converter,Yp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Jg extends pS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Jg(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new ee(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ee(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new du(s,o)}(e._query,this._field,this._direction);return new so(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Ca(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function gL(t,e="asc"){const n=e,r=bd("orderBy",t);return Jg._create(r,n)}function ww(t,e,n){if(typeof(n=Ke(n))=="string"){if(n==="")throw new ee(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hI(e)&&n.indexOf("/")!==-1)throw new ee(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(qe.fromString(n));if(!oe.isDocumentKey(r))throw new ee(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $v(t,new oe(r))}if(n instanceof sn)return $v(t,n._key);throw new ee(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sd(n)}.`)}function Ew(t,e){if(!Array.isArray(t)||t.length===0)throw new ee(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mS(t,e){const n=function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ee(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ee(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class _L{convertValue(e,n="none"){switch(eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw de()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ro(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>at(o.doubleValue));return new qg(s)}convertGeoPoint(e){return new Wg(at(e.latitude),at(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ig(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(uu(e));default:return null}}convertTimestamp(e){const n=is(e);return new vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=qe.fromString(e);Ve(DI(r));const i=new cu(r.get(1),r.get(3)),s=new oe(r.popFirst(5));return i.isEqual(n)||ii(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _S extends fS{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(bd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class th extends _S{data(e={}){return super.data(e)}}class yL{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Al(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new th(this._firestore,this._userDataWriter,r.key,r,new Al(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ee(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new th(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Al(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const c=new th(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Al(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,m=-1;return l.type!==0&&(h=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),m=o.indexOf(l.doc.key)),{type:vL(l.type),doc:c,oldIndex:h,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function vL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(t){t=Sr(t,sn);const e=Sr(t.firestore,Ra);return ZD(zg(e),t._key).then(n=>TL(e,t,n))}class yS extends _L{constructor(e){super(),this.firestore=e}convertBytes(e){return new ya(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,n)}}function wL(t){t=Sr(t,so);const e=Sr(t.firestore,Ra),n=zg(e),r=new yS(e);return fL(t._query),eL(n,t._query).then(i=>new yL(e,r,t,i))}function Tw(t,e,n){t=Sr(t,sn);const r=Sr(t.firestore,Ra),i=gS(t.converter,e);return e_(r,[uS(kd(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,rr.none())])}function EL(t,e,n,...r){t=Sr(t,sn);const i=Sr(t.firestore,Ra),s=kd(i);let o;return o=typeof(e=Ke(e))=="string"||e instanceof Cd?uL(s,"updateDoc",t._key,e,n,r):lL(s,"updateDoc",t._key,e),e_(i,[o.toMutation(t._key,rr.exists(!0))])}function Uf(t,e){const n=Sr(t.firestore,Ra),r=_a(t),i=gS(t.converter,e);return e_(n,[uS(kd(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,rr.exists(!1))]).then(()=>r)}function e_(t,e){return function(r,i){const s=new Yr;return r.asyncQueue.enqueueAndForget(async()=>$D(await JD(r),i,s)),s.promise}(zg(t),e)}function TL(t,e,n){const r=n.docs.get(e._key),i=new yS(t);return new _S(t,i,e._key,r,new Al(n.hasPendingWrites,n.fromCache),e.converter)}function Bf(){return new Kg("serverTimestamp")}(function(e,n=!0){(function(i){Aa=i})(Sa),ca(new Gs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new Ra(new wN(r.getProvider("auth-internal")),new SN(r.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ee(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cu(h.options.projectId,m)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Ji(Mv,"4.7.3",e),Ji(Mv,"4.7.3","esm2017")})();const IL={apiKey:"AIzaSyBX7n4-x0Z1LGZMMeioxhlB28tm7nFENFg",authDomain:"vocational-test-90cd1.firebaseapp.com",projectId:"vocational-test-90cd1",storageBucket:"vocational-test-90cd1.firebasestorage.app",messagingSenderId:"375023648945",appId:"1:375023648945:web:a68468e539b33d5f092290",measurementId:"G-2R8NP3KJ58"},vS=rT(IL),Xr=rL(vS),yt=pN(vS),Wh=new Br;function SL(){const[t,e]=z.useState(""),[n,r]=z.useState(""),[i,s]=z.useState(""),[o,l]=z.useState(!1),c=ai(),h=async y=>{y.preventDefault(),s("");try{const N=(await OT(yt,t,n)).user;await N.reload(),N.emailVerified?c("/perfil"):c("/aguardando-verificacao")}catch(k){console.error("Erro no login:",k),s("Email ou senha incorretos.")}},m=()=>{l(!o)},_=async()=>{s("");try{const k=(await HT(yt,Wh)).user;if(!(await Zg(_a(Xr,"usuarios",k.uid))).exists()){s("Este e-mail ainda não possui uma conta. Crie uma conta antes de fazer login."),await yt.signOut();return}c("/perfil")}catch(y){console.error("Erro no login com Google:",y),s("Não foi possível fazer login com o Google.")}};return T.jsx("div",{className:"container d-flex justify-content-center align-items-center vh-100",children:T.jsxs("div",{className:"card p-4 shadow-sm rounded-4",style:{maxWidth:"400px",width:"100%"},children:[T.jsx("h2",{className:"mb-4 text-center",style:{color:"#447EB8"},children:"Login"}),T.jsxs("form",{onSubmit:h,children:[T.jsx("div",{className:"mb-3",children:T.jsx("input",{type:"email",className:"form-control",placeholder:"Email",value:t,onChange:y=>e(y.target.value),required:!0})}),T.jsxs("div",{className:"mb-1 position-relative",children:[T.jsx("input",{type:o?"text":"password",className:"form-control",placeholder:"Senha",value:n,onChange:y=>r(y.target.value),required:!0}),T.jsx("button",{type:"button",className:"position-absolute top-50 end-0 translate-middle-y me-2",onClick:m,tabIndex:-1,style:{backgroundColor:"transparent",border:"none",padding:0,cursor:"pointer"},children:T.jsx("i",{className:`bi ${o?"bi-eye":"bi-eye-slash"}`,style:{color:"#447EB8"}})})]}),T.jsx("div",{className:"text-end mb-3",children:T.jsx(Qi,{to:"/recuperarSenha",className:"small text-decoration-none",style:{color:"#447EB8"},children:"Esqueci minha senha"})}),i&&T.jsx("p",{className:"text-danger mb-3 text-center",children:i}),T.jsx("button",{type:"submit",className:"btn w-100 mb-2",style:{backgroundColor:"#447EB8",color:"#fff"},children:"Entrar"})]}),T.jsxs("button",{type:"button",onClick:_,className:"btn btn-outline-danger w-100 mb-3",children:[T.jsx("i",{className:"bi bi-google me-2"})," Entrar com Google"]}),T.jsx("div",{className:"text-center",children:T.jsxs("p",{className:"mb-0",children:["Não tem uma conta?"," ",T.jsx(Qi,{to:"/cadastro",className:"btn btn-link p-0",style:{color:"#447EB8"},children:"Criar Conta"})]})})]})})}function AL(){const[t,e]=z.useState(""),[n,r]=z.useState(""),[i,s]=z.useState(""),[o,l]=z.useState(""),[c,h]=z.useState(""),[m,_]=z.useState(!1),[y,k]=z.useState(!1),N=ai(),x=C=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(C),D=C=>/^(?=.*[a-zA-Z])(?=.*\d)(?=.*[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]).{6,}$/.test(C),S=async C=>{if(C.preventDefault(),h(""),!x(t)){h("Formato de email inválido.");return}if(n!==i){h("As senhas não coincidem.");return}if(!D(n)){h("A senha deve ter no mínimo 6 caracteres, incluindo letras, números e um caractere especial.");return}try{const K=(await Yx(yt,t,n)).user;await DT(K);const Q=_a(Ul(Xr,"usuarios"),K.uid);await Tw(Q,{nome:o,email:t,criadoEm:new Date,emailVerificado:!1}),localStorage.setItem("nomeUsuario",o),sessionStorage.setItem("emailTemp",t),sessionStorage.setItem("senhaTemp",n),N("/aguardando-verificacao")}catch(F){switch(console.error("Erro Firebase:",F.code),F.code){case"auth/email-already-in-use":h("Este e-mail já está cadastrado. Tente fazer login ou use outro e-mail.");break;case"auth/invalid-email":h("O e-mail fornecido é inválido.");break;case"auth/weak-password":h("A senha é muito fraca. Tente uma senha mais forte.");break;default:h("Erro ao cadastrar. Tente novamente.")}}},I=async()=>{h("");try{const F=(await HT(yt,Wh)).user;if((await Jx(yt,F.email)).includes("password")){h("Este e-mail já está registrado com senha. Faça login usando e-mail e senha."),await yt.signOut();return}const Q=_a(Xr,"usuarios",F.uid);(await Zg(Q)).exists()||await Tw(Q,{nome:F.displayName||"",email:F.email,criadoEm:new Date,emailVerificado:F.emailVerified,foto:F.photoURL||null}),localStorage.setItem("nomeUsuario",F.displayName||""),N("/definir-senha")}catch(C){console.error("Erro no login com Google:",C),h("Não foi possível cadastrar com o Google.")}};return T.jsx("div",{className:"container d-flex justify-content-center align-items-center vh-100",children:T.jsxs("div",{className:"card p-4 shadow-sm",style:{maxWidth:"400px",width:"100%"},children:[T.jsx("h2",{className:"mb-4 text-center",style:{color:"#447EB8"},children:"Criar Conta"}),T.jsxs("form",{onSubmit:S,children:[T.jsx("div",{className:"mb-3",children:T.jsx("input",{type:"text",className:"form-control",placeholder:"Nome",value:o,onChange:C=>l(C.target.value),required:!0})}),T.jsx("div",{className:"mb-3",children:T.jsx("input",{type:"email",className:"form-control",placeholder:"Email",value:t,onChange:C=>e(C.target.value),required:!0})}),T.jsxs("div",{className:"mb-3 position-relative",children:[T.jsx("input",{type:m?"text":"password",className:"form-control",placeholder:"Senha",value:n,onChange:C=>r(C.target.value),required:!0}),T.jsx("button",{type:"button",className:"position-absolute top-50 end-0 translate-middle-y me-2",onClick:()=>_(!m),style:{backgroundColor:"transparent",border:"none"},children:T.jsx("i",{className:`bi ${m?"bi-eye":"bi-eye-slash"}`,style:{color:"#447EB8"}})})]}),T.jsxs("div",{className:"mb-3 position-relative",children:[T.jsx("input",{type:y?"text":"password",className:"form-control",placeholder:"Confirmar Senha",value:i,onChange:C=>s(C.target.value),required:!0}),T.jsx("button",{type:"button",className:"position-absolute top-50 end-0 translate-middle-y me-2",onClick:()=>k(!y),style:{backgroundColor:"transparent",border:"none"},children:T.jsx("i",{className:`bi ${y?"bi-eye":"bi-eye-slash"}`,style:{color:"#447EB8"}})})]}),c&&T.jsx("p",{className:"text-danger mb-3",children:c}),T.jsx("button",{type:"submit",className:"btn w-100 mb-2",style:{backgroundColor:"#447EB8",color:"#fff"},children:"Cadastrar"})]}),T.jsxs("button",{type:"button",onClick:I,className:"btn btn-outline-danger w-100 mb-3",children:[T.jsx("i",{className:"bi bi-google me-2"})," Cadastrar com Google"]}),T.jsx("div",{className:"text-center",children:T.jsx(Qi,{to:"/login",className:"btn btn-link",style:{color:"#447EB8"},children:"Já tenho uma conta"})})]})})}function Du(){const e=hs().pathname,[n,r]=z.useState("/iconevazio.png");return z.useEffect(()=>{const i=yt.onAuthStateChanged(s=>{s&&s.photoURL?r(s.photoURL):r("/iconevazio.png")});return()=>i()},[]),T.jsx("header",{children:T.jsx("nav",{className:"navbar fixed-top bg-white shadow-sm p-3",children:T.jsxs("div",{className:"container-fluid mx-5",children:[T.jsxs("a",{className:"navbar-brand d-flex align-items-center",href:"#",children:[T.jsx("img",{src:"/logo.png",alt:"Logo",width:"30",height:"24",className:"d-inline-block align-text-top"}),T.jsx("span",{className:"ms-3",children:"Vocational Test"})]}),T.jsxs("div",{className:"d-flex ms-auto align-items-center",children:[T.jsx(Qi,{className:`nav-link mx-3 ${e==="/home"?"active":""}`,to:"/home",children:"Home"}),T.jsx(Qi,{className:`nav-link mx-3 ${e==="/chat"?"active":""}`,to:"/chat",children:"Chat"}),T.jsx(Qi,{className:`nav-link nav-perfil mx-3 ${e==="/perfil"?"active":""}`,to:"/perfil",children:T.jsx("img",{src:n,alt:"Perfil",style:{width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover",border:e==="/perfil"?"2px solid #447EB8":"2px solid transparent"}})})]})]})})})}function CL(){const[t,e]=z.useState("perfil"),[n,r]=z.useState({nome:"",email:"",senha:"********",foto:"/iconevazio.png"}),[i,s]=z.useState([]),[o,l]=z.useState(!1),c=ai(),h=hs();z.useEffect(()=>{var N;(async()=>{const x=yt.currentUser;if(x)try{const S=_a(Xr,"usuarios",x.uid),I=await Zg(S),C=I.exists()?I.data():{},F={nome:x.displayName||C.nome||"",email:x.email,senha:"********",foto:x.photoURL||C.fotoPerfil||"/iconevazio.png"};r(F)}catch(S){console.error("Erro ao buscar dados do Firestore:",S)}const D=JSON.parse(localStorage.getItem("historico"))||[];s(D)})();const k=(N=h.state)==null?void 0:N.voltarPara;k&&e(k)},[h.state]);const m=async()=>{try{await i1(yt),c("/")}catch(y){console.error("Erro ao sair:",y)}},_=()=>t==="info"?T.jsxs("div",{className:"card p-4 shadow-sm mx-auto",style:{maxWidth:"500px"},children:[T.jsx("h5",{className:"card-title text-center mb-3",children:"Informações Pessoais"}),T.jsx("div",{className:"text-center mb-3",children:T.jsx("img",{src:n.foto,alt:"Foto de perfil",style:{width:"100px",height:"100px",borderRadius:"50%",objectFit:"cover",border:"3px solid #447eb8"}})}),T.jsxs("div",{className:"mb-3",children:[T.jsx("strong",{children:"Nome:"})," ",n.nome]}),T.jsxs("div",{className:"mb-3",children:[T.jsx("strong",{children:"Email:"})," ",n.email]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("strong",{children:"Senha:"})," ",n.senha]}),T.jsx("button",{className:"btn-perfil w-100 mb-3",onClick:()=>c("/editar-perfil",{state:{voltarPara:"info"}}),children:"Editar Informações"}),T.jsx("button",{className:"btn btn-secondary w-100",onClick:()=>e("perfil"),children:"Voltar"})]}):t==="historico"?T.jsxs("div",{className:"card p-4 shadow-sm mx-auto",style:{maxWidth:"600px"},children:[T.jsx("h5",{className:"card-title text-center",children:"Histórico de Testes"}),i.length===0?T.jsx("p",{className:"text-muted text-center",children:"Nenhum teste realizado ainda."}):T.jsx("ul",{className:"list-group",children:i.map((y,k)=>T.jsxs("li",{className:"list-group-item",children:[T.jsx("strong",{children:"Respostas:"}),T.jsx("ul",{children:y.respostas.map((N,x)=>T.jsx("li",{children:N},x))}),T.jsx("strong",{children:"Resultado:"})," ",y.resultado]},k))}),T.jsx("button",{className:"btn btn-secondary w-100 mt-3",onClick:()=>e("perfil"),children:"Voltar"})]}):T.jsxs("div",{className:"card p-4 shadow-sm mx-auto",style:{maxWidth:"500px"},children:[T.jsx("div",{className:"text-center mb-3",children:T.jsx("img",{src:n.foto,alt:"Foto de perfil",style:{width:"100px",height:"100px",borderRadius:"50%",objectFit:"cover",border:"3px solid #447eb8"}})}),T.jsxs("h5",{className:"card-title text-center mb-4",children:["Olá, ",n.nome,"!"]}),T.jsx("button",{className:"btn-perfil w-100 mb-3",onClick:()=>e("info"),children:"Ver Informações Pessoais"}),T.jsx("button",{className:"btn-perfil w-100 mb-3",onClick:()=>c("/historico"),children:"Histórico de Testes"}),T.jsx("button",{className:"btn btn-danger w-100",onClick:()=>l(!0),children:"Sair"})]});return T.jsxs("div",{style:{display:"flex",flexDirection:"column",minHeight:"100vh"},children:[T.jsx(Du,{}),T.jsx("main",{style:{flex:1,paddingTop:"90px"},children:T.jsx("div",{className:"container py-4",children:_()})}),o&&T.jsx("div",{className:"modal d-block",tabIndex:"-1",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:T.jsx("div",{className:"modal-dialog modal-dialog-centered",children:T.jsxs("div",{className:"modal-content",children:[T.jsxs("div",{className:"modal-header",children:[T.jsx("h5",{className:"modal-title",children:"Confirmar saída"}),T.jsx("button",{type:"button",className:"btn-close",onClick:()=>l(!1)})]}),T.jsx("div",{className:"modal-body",children:T.jsx("p",{children:"Tem certeza de que deseja sair da sua conta?"})}),T.jsxs("div",{className:"modal-footer",children:[T.jsx("button",{className:"btn btn-secondary",onClick:()=>l(!1),children:"Cancelar"}),T.jsx("button",{className:"btn btn-danger",onClick:m,children:"Confirmar saída"})]})]})})})]})}function Iw(){return T.jsxs(T.Fragment,{children:[T.jsx(Du,{}),T.jsx("div",{style:{height:"20px"}}),T.jsx("div",{className:"container-fluid p-0",style:{paddingTop:"40px"},children:T.jsx("div",{className:"card w-100 m-0 rounded-0",style:{backgroundColor:"#447eb8",height:"300px"},children:T.jsxs("div",{className:"card-body d-flex flex-column align-items-center justify-content-center text-white",children:[T.jsx("h2",{className:"fw-bold",children:"DESCUBRA A CARREIRA IDEAL PARA VOCÊ EM APENAS ALGUNS MINUTOS!"}),T.jsx("p",{className:"card-text",children:"Preencha o formulário para fazer o teste vocacional."}),T.jsx(Qi,{to:"/chat",className:"btn btn-iniciar-teste mt-2 mb-2",children:"Iniciar Teste"})]})})}),T.jsx("img",{src:"/banner.png",alt:"banner demonstrativo",className:"w-100"}),T.jsx("div",{className:"container my-5",children:T.jsxs("div",{className:"row text-center",children:[T.jsx("div",{className:"col-md-4 mb-4",children:T.jsx("div",{className:"card h-100 shadow",style:{backgroundColor:"#f8f9fa",borderLeft:"6px solid #447EB8",border:"none",borderRadius:"1rem",transition:"transform 0.3s ease, box-shadow 0.3s ease"},onMouseEnter:t=>{t.currentTarget.style.transform="translateY(-5px)",t.currentTarget.style.boxShadow="0 8px 24px rgba(0, 0, 0, 0.1)"},onMouseLeave:t=>{t.currentTarget.style.transform="none",t.currentTarget.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.05)"},children:T.jsxs("div",{className:"card-body p-4 text-start",children:[T.jsx("h5",{style:{color:"#447EB8",fontWeight:"bold",marginBottom:"1rem"},children:"O que é o Vocational Test?"}),T.jsx("p",{style:{color:"#333"},children:"É uma plataforma que utiliza inteligência artificial para ajudar jovens a descobrirem suas carreiras ideais com base em seus interesses e perfis."})]})})}),T.jsx("div",{className:"col-md-4 mb-4",children:T.jsx("div",{className:"card h-100 shadow",style:{backgroundColor:"#f8f9fa",borderLeft:"6px solid #447EB8",border:"none",borderRadius:"1rem",transition:"transform 0.3s ease, box-shadow 0.3s ease"},onMouseEnter:t=>{t.currentTarget.style.transform="translateY(-5px)",t.currentTarget.style.boxShadow="0 8px 24px rgba(0, 0, 0, 0.1)"},onMouseLeave:t=>{t.currentTarget.style.transform="none",t.currentTarget.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.05)"},children:T.jsxs("div",{className:"card-body p-4 text-start",children:[T.jsx("h5",{style:{color:"#447EB8",fontWeight:"bold",marginBottom:"1rem"},children:"Como funciona o teste?"}),T.jsx("p",{style:{color:"#333"},children:"Você responde algumas perguntas, e nossa IA analisa suas respostas para indicar áreas profissionais que combinam com você."})]})})}),T.jsx("div",{className:"col-md-4 mb-4",children:T.jsx("div",{className:"card h-100 shadow",style:{backgroundColor:"#f8f9fa",borderLeft:"6px solid #447EB8",border:"none",borderRadius:"1rem",transition:"transform 0.3s ease, box-shadow 0.3s ease"},onMouseEnter:t=>{t.currentTarget.style.transform="translateY(-5px)",t.currentTarget.style.boxShadow="0 8px 24px rgba(0, 0, 0, 0.1)"},onMouseLeave:t=>{t.currentTarget.style.transform="none",t.currentTarget.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.05)"},children:T.jsxs("div",{className:"card-body p-4 text-start",children:[T.jsx("h5",{style:{color:"#447EB8",fontWeight:"bold",marginBottom:"1rem"},children:"Benefícios da plataforma"}),T.jsx("p",{style:{color:"#333"},children:"Descoberta vocacional personalizada, facilidade de acesso, confidencialidade dos dados e resultados práticos para planejamento de carreira."})]})})})]})}),T.jsxs("div",{className:"container my-5",id:"scrollspyHeading3",children:[T.jsx("h3",{className:"text-center",children:"Dúvidas Frequentes:"}),T.jsx("p",{className:"text-center",children:"Aqui estão algumas perguntas comuns sobre o Vocational Test:"}),T.jsx("div",{className:"accordion",id:"accordionExample",children:[{id:"One",question:"Como faço o teste vocacional?",answer:"Você pode começar o teste clicando no botão 'Iniciar Teste' na página inicial."},{id:"Two",question:"O teste é gratuito?",answer:"Sim, o teste é totalmente gratuito."},{id:"Three",question:"Quanto tempo leva para fazer o teste?",answer:"O teste é rápido e eficiente, levando em média 10 a 15 minutos para ser completado."},{id:"Four",question:"Como são feitas as recomendações de carreiras?",answer:"As recomendações são feitas com base nas suas respostas durante o teste, levando em consideração suas habilidades, interesses e valores."},{id:"Five",question:"Os resultados são confidenciais?",answer:"Sim, todos os resultados do teste são privados e serão utilizados apenas para gerar suas recomendações de carreira."},{id:"Six",question:"Posso refazer o teste se não gostar dos resultados?",answer:"Sim, você pode refazer o teste quantas vezes quiser para comparar diferentes resultados e obter uma análise mais precisa."}].map(({id:t,question:e,answer:n})=>T.jsxs("div",{className:"accordion-item",children:[T.jsx("h2",{className:"accordion-header",id:`heading${t}`,children:T.jsx("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":`#collapse${t}`,"aria-expanded":"false","aria-controls":`collapse${t}`,children:e})}),T.jsx("div",{id:`collapse${t}`,className:"accordion-collapse collapse","aria-labelledby":`heading${t}`,children:T.jsx("div",{className:"accordion-body",children:n})})]},t))})]})]})}function PL(){const[t,e]=z.useState([{sender:"bot",text:"Olá! Vamos começar seu teste vocacional. Me diga com o que você mais se identifica ou tem interesse profissional."}]),[n,r]=z.useState(""),[i,s]=z.useState(null),[o,l]=z.useState(null),[c,h]=z.useState("/iconevazio.png");z.useEffect(()=>{const x=gg(yt,async D=>{if(!D){console.warn("Usuário não autenticado.");return}l(D.uid),h(D.photoURL||"/iconevazio.png");try{const S=await Uf(Ul(Xr,"chats"),{usuario_id:D.uid,criado_em:Bf()});s(S.id)}catch(S){console.error("Erro ao criar chat no Firestore:",S),alert("Erro ao iniciar o chat. Tente novamente.")}});return()=>x()},[]);const m=async x=>{try{return(await(await fetch("http://localhost:5000/api/chat-vocacional",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mensagem:x})})).json()).resposta||"Não consegui entender, pode reformular?"}catch(D){return console.error("Erro ao enviar para IA:",D),"Houve um erro ao se conectar com a IA."}},_=async(x,D)=>{if(!(!i||!o))try{const S=Ul(Xr,"chats",i,"mensagens");await Uf(S,{autor:x,conteudo:D,criada_em:Bf()})}catch(S){console.error("Erro ao salvar mensagem:",S),alert("Erro ao salvar mensagem. Verifique sua conexão.")}},y=async x=>{if(o)try{await Uf(Ul(Xr,"historico"),{uid:o,resultado:x,criadoEm:Bf()}),console.log("Resultado salvo:",x)}catch(D){console.error("Erro ao salvar no histórico:",D)}},k=async()=>{if(!n.trim()||!i)return;const x={sender:"user",text:n};e(I=>{const C=[...I,x];return setTimeout(()=>{const F=document.getElementById("chatContainer");F&&(F.scrollTop=F.scrollHeight)},100),C}),await _("user",n);const D=await m(n),S={sender:"bot",text:D};e(I=>{const C=[...I,S];return setTimeout(()=>{const F=document.getElementById("chatContainer");F&&(F.scrollTop=F.scrollHeight)},100),C}),await _("bot",D),await y(D),r("")},N=x=>{x.key==="Enter"&&k()};return T.jsxs("div",{style:{display:"flex",flexDirection:"column",minHeight:"100vh"},children:[T.jsx(Du,{}),T.jsx("main",{style:{flex:1,minHeight:"calc(100vh - 90px)"},children:T.jsxs("div",{className:"container py-4",style:{paddingTop:"30px"},children:[T.jsxs("div",{className:"alert text-center rounded-4 shadow-sm p-4",style:{backgroundColor:"#e3f2fd",color:"#0d47a1"},children:[T.jsx("h5",{className:"mb-2 fw-bold",children:"Como funciona o teste vocacional?"}),T.jsx("p",{className:"mb-0",children:"Converse com nosso assistente sobre seus interesses. A inteligência artificial analisará suas respostas e recomendará áreas profissionais ideais para você."})]}),T.jsx("div",{className:"chat-box p-3 mt-4",style:{backgroundColor:"#f9f9f9",borderRadius:"15px",maxHeight:"65vh",overflowY:"auto",scrollBehavior:"smooth",display:"flex",flexDirection:"column"},id:"chatContainer",children:t.map((x,D)=>T.jsxs("div",{className:`d-flex mb-4 ${x.sender==="user"?"flex-row-reverse text-end":"flex-row text-start"}`,children:[T.jsx("div",{className:"d-flex align-items-start justify-content-center",style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"#e0e0e0",margin:"0 10px",overflow:"hidden"},children:T.jsx("img",{src:x.sender==="user"?c:"/logo.png",alt:x.sender==="user"?"Você":"Bot",style:{width:"30px",height:"30px",borderRadius:"50%",objectFit:"cover",margin:"auto"}})}),T.jsx("div",{style:{backgroundColor:x.sender==="user"?"#bbdefb":"#cfd8dc",padding:"15px",borderRadius:"20px",maxWidth:"75%",boxShadow:"0px 2px 4px rgba(0,0,0,0.1)",fontStyle:"italic"},children:x.text})]},D))}),T.jsxs("div",{className:"d-flex mt-4",children:[T.jsx("input",{type:"text",className:"form-control rounded-pill px-4",placeholder:"Digite algo...",value:n,onChange:x=>r(x.target.value),onKeyDown:N,disabled:!i,style:{height:"50px",border:"1px solid #ccc",marginRight:"10px"}}),T.jsx("button",{className:"btn btn-primary rounded-pill px-4",onClick:k,disabled:!i,children:"Enviar"})]})]})})]})}function kL(){const[t,e]=z.useState(""),[n,r]=z.useState(""),[i,s]=z.useState(""),o=ai(),l=async c=>{c.preventDefault(),r(""),s("");try{await Qx(yt,t),s("Link de recuperação enviado para o seu e-mail."),setTimeout(()=>o("/login"),5e3)}catch{r("Erro ao enviar o link. Verifique o e-mail inserido.")}};return T.jsx("div",{className:"container d-flex justify-content-center align-items-center vh-100",children:T.jsxs("div",{className:"card p-4 shadow-sm",style:{maxWidth:"400px",width:"100%"},children:[T.jsx("h2",{className:"mb-4 text-center",style:{color:"#447EB8"},children:"Recuperar Senha"}),T.jsxs("form",{onSubmit:l,children:[T.jsx("div",{className:"mb-3",children:T.jsx("input",{type:"email",className:"form-control",placeholder:"Digite seu e-mail",value:t,onChange:c=>e(c.target.value),required:!0})}),n&&T.jsx("p",{className:"text-danger mb-3",children:n}),i&&T.jsx("p",{className:"text-success mb-3",children:i}),T.jsx("button",{type:"submit",className:"btn w-100 mb-3",style:{backgroundColor:"#447EB8",color:"#fff"},children:"Enviar"})]}),T.jsx("div",{className:"text-center",children:T.jsxs("p",{children:["Lembrou sua senha?"," ",T.jsx("a",{href:"/login",className:"btn btn-link p-0",style:{color:"#447EB8"},children:"Voltar para Login"})]})})]})})}var wS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Sw=Kr.createContext&&Kr.createContext(wS),RL=["attr","size","title"];function bL(t,e){if(t==null)return{};var n=xL(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xL(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qh(){return qh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qh.apply(this,arguments)}function Aw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Aw(Object(n),!0).forEach(function(r){NL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Aw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NL(t,e,n){return e=OL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OL(t){var e=DL(t,"string");return typeof e=="symbol"?e:e+""}function DL(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ES(t){return t&&t.map((e,n)=>Kr.createElement(e.tag,Hh({key:n},e.attr),ES(e.child)))}function LL(t){return e=>Kr.createElement(VL,qh({attr:Hh({},t.attr)},e),ES(t.child))}function VL(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=bL(t,RL),l=i||n.size||"1em",c;return n.className&&(c=n.className),t.className&&(c=(c?c+" ":"")+t.className),Kr.createElement("svg",qh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:c,style:Hh(Hh({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&Kr.createElement("title",null,s),t.children)};return Sw!==void 0?Kr.createElement(Sw.Consumer,null,n=>e(n)):e(wS)}function ML(t){return LL({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M176 216h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16H176c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16zm-16 80c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16H176c-8.84 0-16 7.16-16 16v16zm96 121.13c-16.42 0-32.84-5.06-46.86-15.19L0 250.86V464c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V250.86L302.86 401.94c-14.02 10.12-30.44 15.19-46.86 15.19zm237.61-254.18c-8.85-6.94-17.24-13.47-29.61-22.81V96c0-26.51-21.49-48-48-48h-77.55c-3.04-2.2-5.87-4.26-9.04-6.56C312.6 29.17 279.2-.35 256 0c-23.2-.35-56.59 29.17-73.41 41.44-3.17 2.3-6 4.36-9.04 6.56H96c-26.51 0-48 21.49-48 48v44.14c-12.37 9.33-20.76 15.87-29.61 22.81A47.995 47.995 0 0 0 0 200.72v10.65l96 69.35V96h320v184.72l96-69.35v-10.65c0-14.74-6.78-28.67-18.39-37.77z"},child:[]}]})(t)}function jL(){const[t,e]=z.useState(""),[n,r]=z.useState(!1),[i,s]=z.useState(null),o=ai();z.useEffect(()=>{const h=gg(yt,async m=>{if(m)if(s(m),await m.reload(),m.emailVerified)o("/perfil");else{e("Seu e-mail ainda não foi verificado.");const _=setInterval(async()=>{await m.reload(),m.emailVerified&&(clearInterval(_),e("Email verificado com sucesso! Redirecionando..."),setTimeout(()=>o("/perfil"),1500))},5e3);return()=>clearInterval(_)}else e("Usuário não autenticado. Faça login novamente.")});return()=>h()},[o]);const l=async()=>{if(!i){e("Usuário não autenticado. Faça login novamente.");return}try{await i.reload();const h=yt.currentUser;if(h.emailVerified){e("Este e-mail já foi verificado. Redirecionando..."),setTimeout(()=>o("/perfil"),2e3);return}await DT(h),e("E-mail de verificação reenviado com sucesso!")}catch(h){console.error("Erro ao reenviar email:",h.code,h.message),h.code==="auth/too-many-requests"?e("Você está tentando reenviar muitas vezes. Tente mais tarde."):e("Erro ao reenviar e-mail. Tente novamente mais tarde.")}},c=async()=>{const h=sessionStorage.getItem("emailTemp"),m=sessionStorage.getItem("senhaTemp");if(!h||!m){e("Para excluir a conta, faça login novamente.");return}try{r(!0);const _=await OT(yt,h,m);await VT(_.user),e("Conta excluída com sucesso."),sessionStorage.removeItem("emailTemp"),sessionStorage.removeItem("senhaTemp"),setTimeout(()=>o("/cadastro"),1e3)}catch(_){console.error("Erro ao excluir conta:",_),e("Erro ao excluir conta. Faça login novamente.")}finally{r(!1)}};return T.jsx("div",{className:"container d-flex justify-content-center align-items-center vh-100 bg-light",children:T.jsxs("div",{className:"card p-4 shadow rounded-4 text-center w-100",style:{maxWidth:"480px"},children:[T.jsx("div",{className:"mb-3",children:T.jsx(ML,{size:48,color:"#447EB8"})}),T.jsx("h3",{className:"mb-3",style:{color:"#447EB8"},children:"Verifique seu e-mail"}),T.jsxs("p",{className:"mb-4 text-muted",style:{fontSize:"0.95rem"},children:["Enviamos um link de verificação para o seu e-mail.",T.jsx("br",{}),"Você precisa confirmar antes de continuar."]}),t&&T.jsx("div",{className:"alert alert-info py-2 px-3 small",style:{fontSize:"0.9rem"},children:t}),T.jsxs("div",{className:"d-grid gap-2 mt-3",children:[T.jsx("button",{className:"btn btn-outline-primary",onClick:l,children:"Reenviar e-mail"}),T.jsx("button",{className:"btn btn-outline-danger",onClick:c,disabled:n,children:n?"Excluindo...":"Excluir minha conta"})]}),T.jsx("hr",{className:"my-4"}),T.jsx("p",{className:"mb-0",children:T.jsx(Qi,{to:"/",className:"text-decoration-none",style:{color:"#447EB8"},children:"← Voltar para o Vocational Test"})})]})})}function FL(){const[t,e]=z.useState(""),[n,r]=z.useState(""),[i,s]=z.useState(""),[o,l]=z.useState(""),[c,h]=z.useState(!1),[m,_]=z.useState(!1),y=ai(),k=D=>/^(?=.*[a-zA-Z])(?=.*\d)(?=.*[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]).{6,}$/.test(D),N=async D=>{if(D.preventDefault(),s(""),l(""),t!==n){s("As senhas não coincidem.");return}if(!k(t)){s("A senha deve ter no mínimo 6 caracteres, incluindo letras, números e um caractere especial.");return}try{await LT(yt.currentUser,t),l("Senha definida com sucesso!"),setTimeout(()=>y("/perfil"),1500)}catch(S){console.error("Erro ao definir senha:",S),s("Não foi possível definir a senha. Faça login novamente.")}},x=()=>{y("/perfil")};return T.jsx("div",{className:"container d-flex justify-content-center align-items-center vh-100",children:T.jsxs("div",{className:"card p-4 shadow-sm rounded-4",style:{maxWidth:"400px",width:"100%"},children:[T.jsx("h4",{className:"mb-3 text-center",children:"Deseja criar uma senha?"}),T.jsx("p",{className:"text-center mb-4",style:{fontSize:"0.9rem"},children:"Isso é opcional. Com uma senha, você poderá acessar sua conta mesmo sem usar o Google."}),T.jsxs("form",{onSubmit:N,children:[T.jsxs("div",{className:"mb-3 position-relative",children:[T.jsx("input",{type:c?"text":"password",className:"form-control",placeholder:"Nova senha",value:t,onChange:D=>e(D.target.value),required:!0}),T.jsx("button",{type:"button",className:"position-absolute top-50 end-0 translate-middle-y me-2",onClick:()=>h(!c),style:{backgroundColor:"transparent",border:"none"},children:T.jsx("i",{className:`bi ${c?"bi-eye":"bi-eye-slash"}`,style:{color:"#447EB8"}})})]}),T.jsxs("div",{className:"mb-3 position-relative",children:[T.jsx("input",{type:m?"text":"password",className:"form-control",placeholder:"Confirmar senha",value:n,onChange:D=>r(D.target.value),required:!0}),T.jsx("button",{type:"button",className:"position-absolute top-50 end-0 translate-middle-y me-2",onClick:()=>_(!m),style:{backgroundColor:"transparent",border:"none"},children:T.jsx("i",{className:`bi ${m?"bi-eye":"bi-eye-slash"}`,style:{color:"#447EB8"}})})]}),i&&T.jsx("p",{className:"text-danger",children:i}),o&&T.jsx("p",{className:"text-success",children:o}),T.jsx("button",{type:"submit",className:"btn w-100 mb-2",style:{backgroundColor:"#447EB8",color:"#fff"},children:"Salvar senha"}),T.jsx("button",{type:"button",onClick:x,className:"btn btn-outline-secondary w-100",children:"Pular por enquanto"})]})]})})}function UL(){var J,ae,U;const t=yt.currentUser,e=ai(),r=((J=hs().state)==null?void 0:J.voltarPara)||"perfil",[i,s]=z.useState((t==null?void 0:t.displayName)||""),[o,l]=z.useState((t==null?void 0:t.email)||""),[c,h]=z.useState(""),[m,_]=z.useState(""),[y,k]=z.useState(""),[N,x]=z.useState(""),[D,S]=z.useState(!1),[I,C]=z.useState(""),[F,K]=z.useState(""),[Q,P]=z.useState(!1),[E,A]=z.useState((t==null?void 0:t.photoURL)||"/iconevazio.png"),[R,O]=z.useState(null),M="dzejbkaz7",b="perfil-usuario",kt=ce=>{const _e=ce.target.files[0];if(_e){const Ee=new FileReader;Ee.onloadend=()=>{A(Ee.result),O(Ee.result)},Ee.readAsDataURL(_e)}},Pn=async ce=>{const _e=ce.replace(/^data:image\/\w+;base64,/,""),Ee=new FormData;Ee.append("file",`data:image/jpeg;base64,${_e}`),Ee.append("upload_preset",b);const ze=await fetch(`https://api.cloudinary.com/v1_1/${M}/image/upload`,{method:"POST",body:Ee}),it=await ze.json();if(!ze.ok)throw console.error("Erro no upload Cloudinary:",it),new Error("Erro ao enviar imagem para o Cloudinary");return it.secure_url},or=async ce=>{var Ge;ce.preventDefault(),k(""),x("");const _e=((Ge=t.providerData[0])==null?void 0:Ge.providerId)==="password",Ee=i!==t.displayName,ze=c.length>=6,it=R!==null;try{if(_e&&ze){if(!m||m.length<6){k("Digite sua senha atual para confirmar as alterações.");return}const se=ns.credential(t.email,m);await Av(t,se)}else(Ee||it)&&await kv(t,Wh);let Ye=null;if(it&&(Ye=await Pn(R)),Ee||Ye){await e1(t,{displayName:i,...Ye&&{photoURL:Ye}});const se=_a(Xr,"usuarios",t.uid);await EL(se,{nome:i,...Ye&&{fotoPerfil:Ye}})}ze&&_e&&await LT(t,c),x("Dados atualizados com sucesso!"),setTimeout(()=>e("/perfil",{state:{voltarPara:r}}),1500)}catch(Ye){console.error(Ye),k("Erro ao atualizar dados: "+Ye.message)}},Gt=async()=>{var ce;K("");try{if(((ce=t.providerData[0])==null?void 0:ce.providerId)==="password"){const _e=ns.credential(t.email,I);await Av(t,_e)}else await kv(t,Wh);await VT(t),e("/")}catch(_e){console.error(_e),K("Erro ao excluir conta. Verifique a senha ou tente novamente.")}};return T.jsx("div",{className:"container d-flex justify-content-center align-items-center py-5",children:T.jsxs("div",{className:"card p-4 shadow-sm",style:{maxWidth:"450px",width:"100%"},children:[T.jsx("h4",{className:"mb-4 text-center",children:"Editar Perfil"}),T.jsx("div",{className:"text-center mb-3",children:T.jsx("img",{src:E,alt:"Foto de perfil",style:{width:"100px",height:"100px",borderRadius:"50%",objectFit:"cover",border:"3px solid #447eb8"}})}),T.jsx("div",{className:"mb-3",children:T.jsx("input",{type:"file",className:"form-control",accept:"image/*",onChange:kt})}),T.jsxs("form",{onSubmit:or,children:[T.jsx("div",{className:"mb-3",children:T.jsx("input",{type:"text",className:"form-control",value:i,onChange:ce=>s(ce.target.value),placeholder:"Nome"})}),T.jsx("div",{className:"mb-3",children:T.jsx("input",{type:"email",className:"form-control",value:o,readOnly:!0,disabled:!0,style:{backgroundColor:"#e9ecef",cursor:"not-allowed"}})}),T.jsx("div",{className:"mb-3",children:T.jsx("input",{type:"password",className:"form-control",value:c,onChange:ce=>h(ce.target.value),placeholder:"Nova senha (opcional)"})}),((ae=t.providerData[0])==null?void 0:ae.providerId)==="password"&&T.jsx("div",{className:"mb-3",children:T.jsx("input",{type:"password",className:"form-control",value:m,onChange:ce=>_(ce.target.value),placeholder:"Senha atual (obrigatória)",required:!0})}),y&&T.jsx("p",{className:"text-danger",children:y}),N&&T.jsx("p",{className:"text-success",children:N}),T.jsx("button",{type:"submit",className:"btn w-100 mb-2",style:{backgroundColor:"#447EB8",color:"#fff"},children:"Salvar alterações"}),T.jsx("button",{type:"button",className:"btn btn-secondary w-100 mb-3",onClick:()=>e("/perfil",{state:{voltarPara:r}}),children:"Voltar"})]}),T.jsx("hr",{}),T.jsx("button",{className:"btn btn-outline-danger w-100 mt-2",onClick:()=>S(!0),children:"Excluir Conta"}),D&&T.jsx("div",{className:"modal d-block",tabIndex:"-1",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:T.jsx("div",{className:"modal-dialog modal-dialog-centered",children:T.jsxs("div",{className:"modal-content",children:[T.jsxs("div",{className:"modal-header",children:[T.jsx("h5",{className:"modal-title",children:"Confirmar Exclusão"}),T.jsx("button",{type:"button",className:"btn-close",onClick:()=>S(!1)})]}),T.jsxs("div",{className:"modal-body",children:[((U=t.providerData[0])==null?void 0:U.providerId)==="password"?T.jsxs(T.Fragment,{children:[T.jsx("p",{children:"Digite sua senha para confirmar a exclusão:"}),T.jsxs("div",{className:"position-relative",children:[T.jsx("input",{type:Q?"text":"password",className:"form-control",value:I,onChange:ce=>C(ce.target.value),placeholder:"Senha"}),T.jsx("button",{type:"button",className:"position-absolute top-50 end-0 translate-middle-y me-2",onClick:()=>P(ce=>!ce),style:{backgroundColor:"transparent",border:"none",padding:0,cursor:"pointer"},children:T.jsx("i",{className:`bi ${Q?"bi-eye":"bi-eye-slash"}`,style:{color:"#447EB8"}})})]})]}):T.jsx("p",{children:"Você será reautenticado com o Google antes de excluir sua conta."}),F&&T.jsx("p",{className:"text-danger mt-2",children:F})]}),T.jsxs("div",{className:"modal-footer",children:[T.jsx("button",{className:"btn btn-secondary",onClick:()=>S(!1),children:"Cancelar"}),T.jsx("button",{className:"btn btn-danger",onClick:Gt,children:"Confirmar Exclusão"})]})]})})})]})})}function BL(){const[t,e]=z.useState([]),[n,r]=z.useState(!0);return z.useEffect(()=>{let i;const s=async o=>{try{const l=pL(Ul(Xr,"historico"),mL("uid","==",o.uid),gL("criadoEm","desc")),h=(await wL(l)).docs.map(m=>({id:m.id,...m.data()}));e(h)}catch(l){console.error("Erro ao buscar histórico:",l)}finally{r(!1)}};return i=gg(yt,o=>{o?s(o):(e([]),r(!1))}),()=>i==null?void 0:i()},[]),T.jsxs(T.Fragment,{children:[T.jsx(Du,{}),T.jsxs("div",{className:"container mt-5 mb-5",children:[T.jsx("h3",{className:"mb-4 text-center fw-bold",style:{color:"#447EB8"},children:"Histórico de Testes Vocacionais"}),n?T.jsx("p",{className:"text-muted text-center",children:"Carregando..."}):t.length===0?T.jsx("p",{className:"text-muted text-center",children:"Nenhum teste realizado ainda."}):T.jsx("div",{className:"p-3 shadow",style:{maxHeight:"500px",overflowY:"auto",borderRadius:"1rem",backgroundColor:"#f8f9fa",borderLeft:"6px solid #447EB8",border:"none"},children:t.map((i,s)=>T.jsxs("div",{className:"mb-3 p-3",style:{backgroundColor:"#ffffff",border:"1px solid #dee2e6",borderRadius:"0.75rem",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.05)",transition:"transform 0.2s"},onMouseEnter:o=>{o.currentTarget.style.transform="translateY(-3px)"},onMouseLeave:o=>{o.currentTarget.style.transform="none"},children:[T.jsx("p",{className:"mb-1",style:{fontWeight:"500",color:"#447EB8"},children:"Resultado:"}),T.jsx("p",{style:{whiteSpace:"pre-wrap",color:"#333"},children:i.resultado})]},s))})]})]})}function Cw({children:t}){return yt.currentUser?t:T.jsx(aR,{to:"/login",replace:!0})}const $L=()=>T.jsx("footer",{style:{textAlign:"center",padding:"2.5rem 1rem",background:"#447eb8",color:"white",fontFamily:"inherit",fontSize:"0.95rem",marginTop:"auto"},children:T.jsxs("p",{style:{margin:0,fontWeight:500},children:["© 2025 ",T.jsx("strong",{style:{fontWeight:600},children:"Vocational Test"}),". Todos os direitos reservados."]})});function zL(){return T.jsxs(T.Fragment,{children:[T.jsx(Du,{}),T.jsx("main",{style:{minHeight:"calc(100vh - 120px)",paddingTop:"70px"},children:T.jsxs(uR,{children:[T.jsx(Ln,{path:"/",element:T.jsx(Iw,{})}),T.jsx(Ln,{path:"/login",element:T.jsx(SL,{})}),T.jsx(Ln,{path:"/cadastro",element:T.jsx(AL,{})}),T.jsx(Ln,{path:"/aguardando-verificacao",element:T.jsx(jL,{})}),T.jsx(Ln,{path:"/definir-senha",element:T.jsx(FL,{})}),T.jsx(Ln,{path:"/historico",element:T.jsx(BL,{})}),T.jsx(Ln,{path:"/perfil",element:T.jsx(Cw,{children:T.jsx(CL,{})})}),T.jsx(Ln,{path:"/editar-perfil",element:T.jsx(Cw,{children:T.jsx(UL,{})})}),T.jsx(Ln,{path:"/chat",element:T.jsx(PL,{})}),T.jsx(Ln,{path:"/home",element:T.jsx(Iw,{})}),T.jsx(Ln,{path:"/recuperarSenha",element:T.jsx(kL,{})})]})}),T.jsx($L,{})]})}var WL={exports:{}};/*!
  * Bootstrap v5.3.5 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(t,e){(function(n,r){t.exports=r()})(zA,function(){const n=new Map,r={set(g,u,f){n.has(g)||n.set(g,new Map);const v=n.get(g);v.has(u)||v.size===0?v.set(u,f):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(v.keys())[0]}.`)},get:(g,u)=>n.has(g)&&n.get(g).get(u)||null,remove(g,u){if(!n.has(g))return;const f=n.get(g);f.delete(u),f.size===0&&n.delete(g)}},i="transitionend",s=g=>(g&&window.CSS&&window.CSS.escape&&(g=g.replace(/#([^\s"#']+)/g,(u,f)=>`#${CSS.escape(f)}`)),g),o=g=>{g.dispatchEvent(new Event(i))},l=g=>!(!g||typeof g!="object")&&(g.jquery!==void 0&&(g=g[0]),g.nodeType!==void 0),c=g=>l(g)?g.jquery?g[0]:g:typeof g=="string"&&g.length>0?document.querySelector(s(g)):null,h=g=>{if(!l(g)||g.getClientRects().length===0)return!1;const u=getComputedStyle(g).getPropertyValue("visibility")==="visible",f=g.closest("details:not([open])");if(!f)return u;if(f!==g){const v=g.closest("summary");if(v&&v.parentNode!==f||v===null)return!1}return u},m=g=>!g||g.nodeType!==Node.ELEMENT_NODE||!!g.classList.contains("disabled")||(g.disabled!==void 0?g.disabled:g.hasAttribute("disabled")&&g.getAttribute("disabled")!=="false"),_=g=>{if(!document.documentElement.attachShadow)return null;if(typeof g.getRootNode=="function"){const u=g.getRootNode();return u instanceof ShadowRoot?u:null}return g instanceof ShadowRoot?g:g.parentNode?_(g.parentNode):null},y=()=>{},k=g=>{g.offsetHeight},N=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,x=[],D=()=>document.documentElement.dir==="rtl",S=g=>{var u;u=()=>{const f=N();if(f){const v=g.NAME,L=f.fn[v];f.fn[v]=g.jQueryInterface,f.fn[v].Constructor=g,f.fn[v].noConflict=()=>(f.fn[v]=L,g.jQueryInterface)}},document.readyState==="loading"?(x.length||document.addEventListener("DOMContentLoaded",()=>{for(const f of x)f()}),x.push(u)):u()},I=(g,u=[],f=g)=>typeof g=="function"?g.call(...u):f,C=(g,u,f=!0)=>{if(!f)return void I(g);const v=($=>{if(!$)return 0;let{transitionDuration:q,transitionDelay:X}=window.getComputedStyle($);const te=Number.parseFloat(q),re=Number.parseFloat(X);return te||re?(q=q.split(",")[0],X=X.split(",")[0],1e3*(Number.parseFloat(q)+Number.parseFloat(X))):0})(u)+5;let L=!1;const V=({target:$})=>{$===u&&(L=!0,u.removeEventListener(i,V),I(g))};u.addEventListener(i,V),setTimeout(()=>{L||o(u)},v)},F=(g,u,f,v)=>{const L=g.length;let V=g.indexOf(u);return V===-1?!f&&v?g[L-1]:g[0]:(V+=f?1:-1,v&&(V=(V+L)%L),g[Math.max(0,Math.min(V,L-1))])},K=/[^.]*(?=\..*)\.|.*/,Q=/\..*/,P=/::\d+$/,E={};let A=1;const R={mouseenter:"mouseover",mouseleave:"mouseout"},O=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function M(g,u){return u&&`${u}::${A++}`||g.uidEvent||A++}function b(g){const u=M(g);return g.uidEvent=u,E[u]=E[u]||{},E[u]}function kt(g,u,f=null){return Object.values(g).find(v=>v.callable===u&&v.delegationSelector===f)}function Pn(g,u,f){const v=typeof u=="string",L=v?f:u||f;let V=ae(g);return O.has(V)||(V=g),[v,L,V]}function or(g,u,f,v,L){if(typeof u!="string"||!g)return;let[V,$,q]=Pn(u,f,v);u in R&&($=(fe=>function(he){if(!he.relatedTarget||he.relatedTarget!==he.delegateTarget&&!he.delegateTarget.contains(he.relatedTarget))return fe.call(this,he)})($));const X=b(g),te=X[q]||(X[q]={}),re=kt(te,$,V?f:null);if(re)return void(re.oneOff=re.oneOff&&L);const Z=M($,u.replace(K,"")),ye=V?function(le,fe,he){return function pe(Me){const Be=le.querySelectorAll(fe);for(let{target:we}=Me;we&&we!==this;we=we.parentNode)for(const xe of Be)if(xe===we)return ce(Me,{delegateTarget:we}),pe.oneOff&&U.off(le,Me.type,fe,he),he.apply(we,[Me])}}(g,f,$):function(le,fe){return function he(pe){return ce(pe,{delegateTarget:le}),he.oneOff&&U.off(le,pe.type,fe),fe.apply(le,[pe])}}(g,$);ye.delegationSelector=V?f:null,ye.callable=$,ye.oneOff=L,ye.uidEvent=Z,te[Z]=ye,g.addEventListener(q,ye,V)}function Gt(g,u,f,v,L){const V=kt(u[f],v,L);V&&(g.removeEventListener(f,V,!!L),delete u[f][V.uidEvent])}function J(g,u,f,v){const L=u[f]||{};for(const[V,$]of Object.entries(L))V.includes(v)&&Gt(g,u,f,$.callable,$.delegationSelector)}function ae(g){return g=g.replace(Q,""),R[g]||g}const U={on(g,u,f,v){or(g,u,f,v,!1)},one(g,u,f,v){or(g,u,f,v,!0)},off(g,u,f,v){if(typeof u!="string"||!g)return;const[L,V,$]=Pn(u,f,v),q=$!==u,X=b(g),te=X[$]||{},re=u.startsWith(".");if(V===void 0){if(re)for(const Z of Object.keys(X))J(g,X,Z,u.slice(1));for(const[Z,ye]of Object.entries(te)){const le=Z.replace(P,"");q&&!u.includes(le)||Gt(g,X,$,ye.callable,ye.delegationSelector)}}else{if(!Object.keys(te).length)return;Gt(g,X,$,V,L?f:null)}},trigger(g,u,f){if(typeof u!="string"||!g)return null;const v=N();let L=null,V=!0,$=!0,q=!1;u!==ae(u)&&v&&(L=v.Event(u,f),v(g).trigger(L),V=!L.isPropagationStopped(),$=!L.isImmediatePropagationStopped(),q=L.isDefaultPrevented());const X=ce(new Event(u,{bubbles:V,cancelable:!0}),f);return q&&X.preventDefault(),$&&g.dispatchEvent(X),X.defaultPrevented&&L&&L.preventDefault(),X}};function ce(g,u={}){for(const[f,v]of Object.entries(u))try{g[f]=v}catch{Object.defineProperty(g,f,{configurable:!0,get:()=>v})}return g}function _e(g){if(g==="true")return!0;if(g==="false")return!1;if(g===Number(g).toString())return Number(g);if(g===""||g==="null")return null;if(typeof g!="string")return g;try{return JSON.parse(decodeURIComponent(g))}catch{return g}}function Ee(g){return g.replace(/[A-Z]/g,u=>`-${u.toLowerCase()}`)}const ze={setDataAttribute(g,u,f){g.setAttribute(`data-bs-${Ee(u)}`,f)},removeDataAttribute(g,u){g.removeAttribute(`data-bs-${Ee(u)}`)},getDataAttributes(g){if(!g)return{};const u={},f=Object.keys(g.dataset).filter(v=>v.startsWith("bs")&&!v.startsWith("bsConfig"));for(const v of f){let L=v.replace(/^bs/,"");L=L.charAt(0).toLowerCase()+L.slice(1),u[L]=_e(g.dataset[v])}return u},getDataAttribute:(g,u)=>_e(g.getAttribute(`data-bs-${Ee(u)}`))};class it{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(u){return u=this._mergeConfigObj(u),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}_configAfterMerge(u){return u}_mergeConfigObj(u,f){const v=l(f)?ze.getDataAttribute(f,"config"):{};return{...this.constructor.Default,...typeof v=="object"?v:{},...l(f)?ze.getDataAttributes(f):{},...typeof u=="object"?u:{}}}_typeCheckConfig(u,f=this.constructor.DefaultType){for(const[L,V]of Object.entries(f)){const $=u[L],q=l($)?"element":(v=$)==null?`${v}`:Object.prototype.toString.call(v).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(V).test(q))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${L}" provided type "${q}" but expected type "${V}".`)}var v}}class Ge extends it{constructor(u,f){super(),(u=c(u))&&(this._element=u,this._config=this._getConfig(f),r.set(this._element,this.constructor.DATA_KEY,this))}dispose(){r.remove(this._element,this.constructor.DATA_KEY),U.off(this._element,this.constructor.EVENT_KEY);for(const u of Object.getOwnPropertyNames(this))this[u]=null}_queueCallback(u,f,v=!0){C(u,f,v)}_getConfig(u){return u=this._mergeConfigObj(u,this._element),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}static getInstance(u){return r.get(c(u),this.DATA_KEY)}static getOrCreateInstance(u,f={}){return this.getInstance(u)||new this(u,typeof f=="object"?f:null)}static get VERSION(){return"5.3.5"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(u){return`${u}${this.EVENT_KEY}`}}const Ye=g=>{let u=g.getAttribute("data-bs-target");if(!u||u==="#"){let f=g.getAttribute("href");if(!f||!f.includes("#")&&!f.startsWith("."))return null;f.includes("#")&&!f.startsWith("#")&&(f=`#${f.split("#")[1]}`),u=f&&f!=="#"?f.trim():null}return u?u.split(",").map(f=>s(f)).join(","):null},se={find:(g,u=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(u,g)),findOne:(g,u=document.documentElement)=>Element.prototype.querySelector.call(u,g),children:(g,u)=>[].concat(...g.children).filter(f=>f.matches(u)),parents(g,u){const f=[];let v=g.parentNode.closest(u);for(;v;)f.push(v),v=v.parentNode.closest(u);return f},prev(g,u){let f=g.previousElementSibling;for(;f;){if(f.matches(u))return[f];f=f.previousElementSibling}return[]},next(g,u){let f=g.nextElementSibling;for(;f;){if(f.matches(u))return[f];f=f.nextElementSibling}return[]},focusableChildren(g){const u=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(f=>`${f}:not([tabindex^="-"])`).join(",");return this.find(u,g).filter(f=>!m(f)&&h(f))},getSelectorFromElement(g){const u=Ye(g);return u&&se.findOne(u)?u:null},getElementFromSelector(g){const u=Ye(g);return u?se.findOne(u):null},getMultipleElementsFromSelector(g){const u=Ye(g);return u?se.find(u):[]}},oo=(g,u="hide")=>{const f=`click.dismiss${g.EVENT_KEY}`,v=g.NAME;U.on(document,f,`[data-bs-dismiss="${v}"]`,function(L){if(["A","AREA"].includes(this.tagName)&&L.preventDefault(),m(this))return;const V=se.getElementFromSelector(this)||this.closest(`.${v}`);g.getOrCreateInstance(V)[u]()})},fs=".bs.alert",ao=`close${fs}`,ba=`closed${fs}`;class Cr extends Ge{static get NAME(){return"alert"}close(){if(U.trigger(this._element,ao).defaultPrevented)return;this._element.classList.remove("show");const u=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,u)}_destroyElement(){this._element.remove(),U.trigger(this._element,ba),this.dispose()}static jQueryInterface(u){return this.each(function(){const f=Cr.getOrCreateInstance(this);if(typeof u=="string"){if(f[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);f[u](this)}})}}oo(Cr,"close"),S(Cr);const lo='[data-bs-toggle="button"]';class Pr extends Ge{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(u){return this.each(function(){const f=Pr.getOrCreateInstance(this);u==="toggle"&&f[u]()})}}U.on(document,"click.bs.button.data-api",lo,g=>{g.preventDefault();const u=g.target.closest(lo);Pr.getOrCreateInstance(u).toggle()}),S(Pr);const kr=".bs.swipe",Nd=`touchstart${kr}`,Od=`touchmove${kr}`,Lu=`touchend${kr}`,xa=`pointerdown${kr}`,Vu=`pointerup${kr}`,Dd={endCallback:null,leftCallback:null,rightCallback:null},Na={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class ci extends it{constructor(u,f){super(),this._element=u,u&&ci.isSupported()&&(this._config=this._getConfig(f),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Dd}static get DefaultType(){return Na}static get NAME(){return"swipe"}dispose(){U.off(this._element,kr)}_start(u){this._supportPointerEvents?this._eventIsPointerPenTouch(u)&&(this._deltaX=u.clientX):this._deltaX=u.touches[0].clientX}_end(u){this._eventIsPointerPenTouch(u)&&(this._deltaX=u.clientX-this._deltaX),this._handleSwipe(),I(this._config.endCallback)}_move(u){this._deltaX=u.touches&&u.touches.length>1?0:u.touches[0].clientX-this._deltaX}_handleSwipe(){const u=Math.abs(this._deltaX);if(u<=40)return;const f=u/this._deltaX;this._deltaX=0,f&&I(f>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(U.on(this._element,xa,u=>this._start(u)),U.on(this._element,Vu,u=>this._end(u)),this._element.classList.add("pointer-event")):(U.on(this._element,Nd,u=>this._start(u)),U.on(this._element,Od,u=>this._move(u)),U.on(this._element,Lu,u=>this._end(u)))}_eventIsPointerPenTouch(u){return this._supportPointerEvents&&(u.pointerType==="pen"||u.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Hn=".bs.carousel",ft=".data-api",Rt="ArrowLeft",uo="ArrowRight",hi="next",Rr="prev",di="left",ar="right",Mu=`slide${Hn}`,co=`slid${Hn}`,Oa=`keydown${Hn}`,Ld=`mouseenter${Hn}`,Vd=`mouseleave${Hn}`,Da=`dragstart${Hn}`,ju=`load${Hn}${ft}`,Fu=`click${Hn}${ft}`,fi="carousel",pi="active",ho=".active",lr=".carousel-item",Uu=ho+lr,fo={[Rt]:ar,[uo]:di},Bu={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},ps={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class br extends Ge{constructor(u,f){super(u,f),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=se.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===fi&&this.cycle()}static get Default(){return Bu}static get DefaultType(){return ps}static get NAME(){return"carousel"}next(){this._slide(hi)}nextWhenVisible(){!document.hidden&&h(this._element)&&this.next()}prev(){this._slide(Rr)}pause(){this._isSliding&&o(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?U.one(this._element,co,()=>this.cycle()):this.cycle())}to(u){const f=this._getItems();if(u>f.length-1||u<0)return;if(this._isSliding)return void U.one(this._element,co,()=>this.to(u));const v=this._getItemIndex(this._getActive());if(v===u)return;const L=u>v?hi:Rr;this._slide(L,f[u])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(u){return u.defaultInterval=u.interval,u}_addEventListeners(){this._config.keyboard&&U.on(this._element,Oa,u=>this._keydown(u)),this._config.pause==="hover"&&(U.on(this._element,Ld,()=>this.pause()),U.on(this._element,Vd,()=>this._maybeEnableCycle())),this._config.touch&&ci.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const f of se.find(".carousel-item img",this._element))U.on(f,Da,v=>v.preventDefault());const u={leftCallback:()=>this._slide(this._directionToOrder(di)),rightCallback:()=>this._slide(this._directionToOrder(ar)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new ci(this._element,u)}_keydown(u){if(/input|textarea/i.test(u.target.tagName))return;const f=fo[u.key];f&&(u.preventDefault(),this._slide(this._directionToOrder(f)))}_getItemIndex(u){return this._getItems().indexOf(u)}_setActiveIndicatorElement(u){if(!this._indicatorsElement)return;const f=se.findOne(ho,this._indicatorsElement);f.classList.remove(pi),f.removeAttribute("aria-current");const v=se.findOne(`[data-bs-slide-to="${u}"]`,this._indicatorsElement);v&&(v.classList.add(pi),v.setAttribute("aria-current","true"))}_updateInterval(){const u=this._activeElement||this._getActive();if(!u)return;const f=Number.parseInt(u.getAttribute("data-bs-interval"),10);this._config.interval=f||this._config.defaultInterval}_slide(u,f=null){if(this._isSliding)return;const v=this._getActive(),L=u===hi,V=f||F(this._getItems(),v,L,this._config.wrap);if(V===v)return;const $=this._getItemIndex(V),q=Z=>U.trigger(this._element,Z,{relatedTarget:V,direction:this._orderToDirection(u),from:this._getItemIndex(v),to:$});if(q(Mu).defaultPrevented||!v||!V)return;const X=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement($),this._activeElement=V;const te=L?"carousel-item-start":"carousel-item-end",re=L?"carousel-item-next":"carousel-item-prev";V.classList.add(re),k(V),v.classList.add(te),V.classList.add(te),this._queueCallback(()=>{V.classList.remove(te,re),V.classList.add(pi),v.classList.remove(pi,re,te),this._isSliding=!1,q(co)},v,this._isAnimated()),X&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return se.findOne(Uu,this._element)}_getItems(){return se.find(lr,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(u){return D()?u===di?Rr:hi:u===di?hi:Rr}_orderToDirection(u){return D()?u===Rr?di:ar:u===Rr?ar:di}static jQueryInterface(u){return this.each(function(){const f=br.getOrCreateInstance(this,u);if(typeof u!="number"){if(typeof u=="string"){if(f[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);f[u]()}}else f.to(u)})}}U.on(document,Fu,"[data-bs-slide], [data-bs-slide-to]",function(g){const u=se.getElementFromSelector(this);if(!u||!u.classList.contains(fi))return;g.preventDefault();const f=br.getOrCreateInstance(u),v=this.getAttribute("data-bs-slide-to");return v?(f.to(v),void f._maybeEnableCycle()):ze.getDataAttribute(this,"slide")==="next"?(f.next(),void f._maybeEnableCycle()):(f.prev(),void f._maybeEnableCycle())}),U.on(window,ju,()=>{const g=se.find('[data-bs-ride="carousel"]');for(const u of g)br.getOrCreateInstance(u)}),S(br);const st=".bs.collapse",$u=`show${st}`,ms=`shown${st}`,gs=`hide${st}`,Md=`hidden${st}`,jd=`click${st}.data-api`,ur="show",mi="collapse",po="collapsing",mo=`:scope .${mi} .${mi}`,go='[data-bs-toggle="collapse"]',La={parent:null,toggle:!0},_o={parent:"(null|element)",toggle:"boolean"};class Qt extends Ge{constructor(u,f){super(u,f),this._isTransitioning=!1,this._triggerArray=[];const v=se.find(go);for(const L of v){const V=se.getSelectorFromElement(L),$=se.find(V).filter(q=>q===this._element);V!==null&&$.length&&this._triggerArray.push(L)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return La}static get DefaultType(){return _o}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let u=[];if(this._config.parent&&(u=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(L=>L!==this._element).map(L=>Qt.getOrCreateInstance(L,{toggle:!1}))),u.length&&u[0]._isTransitioning||U.trigger(this._element,$u).defaultPrevented)return;for(const L of u)L.hide();const f=this._getDimension();this._element.classList.remove(mi),this._element.classList.add(po),this._element.style[f]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const v=`scroll${f[0].toUpperCase()+f.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(po),this._element.classList.add(mi,ur),this._element.style[f]="",U.trigger(this._element,ms)},this._element,!0),this._element.style[f]=`${this._element[v]}px`}hide(){if(this._isTransitioning||!this._isShown()||U.trigger(this._element,gs).defaultPrevented)return;const u=this._getDimension();this._element.style[u]=`${this._element.getBoundingClientRect()[u]}px`,k(this._element),this._element.classList.add(po),this._element.classList.remove(mi,ur);for(const f of this._triggerArray){const v=se.getElementFromSelector(f);v&&!this._isShown(v)&&this._addAriaAndCollapsedClass([f],!1)}this._isTransitioning=!0,this._element.style[u]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(po),this._element.classList.add(mi),U.trigger(this._element,Md)},this._element,!0)}_isShown(u=this._element){return u.classList.contains(ur)}_configAfterMerge(u){return u.toggle=!!u.toggle,u.parent=c(u.parent),u}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const u=this._getFirstLevelChildren(go);for(const f of u){const v=se.getElementFromSelector(f);v&&this._addAriaAndCollapsedClass([f],this._isShown(v))}}_getFirstLevelChildren(u){const f=se.find(mo,this._config.parent);return se.find(u,this._config.parent).filter(v=>!f.includes(v))}_addAriaAndCollapsedClass(u,f){if(u.length)for(const v of u)v.classList.toggle("collapsed",!f),v.setAttribute("aria-expanded",f)}static jQueryInterface(u){const f={};return typeof u=="string"&&/show|hide/.test(u)&&(f.toggle=!1),this.each(function(){const v=Qt.getOrCreateInstance(this,f);if(typeof u=="string"){if(v[u]===void 0)throw new TypeError(`No method named "${u}"`);v[u]()}})}}U.on(document,jd,go,function(g){(g.target.tagName==="A"||g.delegateTarget&&g.delegateTarget.tagName==="A")&&g.preventDefault();for(const u of se.getMultipleElementsFromSelector(this))Qt.getOrCreateInstance(u,{toggle:!1}).toggle()}),S(Qt);var wt="top",jt="bottom",bt="right",pt="left",_s="auto",xr=[wt,jt,bt,pt],Nr="start",Kn="end",Va="clippingParents",ys="viewport",kn="popper",cr="reference",vs=xr.reduce(function(g,u){return g.concat([u+"-"+Nr,u+"-"+Kn])},[]),Ma=[].concat(xr,[_s]).reduce(function(g,u){return g.concat([u,u+"-"+Nr,u+"-"+Kn])},[]),ja="beforeRead",Fa="read",Ua="afterRead",yo="beforeMain",vo="main",Ba="afterMain",$a="beforeWrite",zu="write",Wu="afterWrite",za=[ja,Fa,Ua,yo,vo,Ba,$a,zu,Wu];function gn(g){return g?(g.nodeName||"").toLowerCase():null}function Yt(g){if(g==null)return window;if(g.toString()!=="[object Window]"){var u=g.ownerDocument;return u&&u.defaultView||window}return g}function Xt(g){return g instanceof Yt(g).Element||g instanceof Element}function tt(g){return g instanceof Yt(g).HTMLElement||g instanceof HTMLElement}function gi(g){return typeof ShadowRoot<"u"&&(g instanceof Yt(g).ShadowRoot||g instanceof ShadowRoot)}const _i={name:"applyStyles",enabled:!0,phase:"write",fn:function(g){var u=g.state;Object.keys(u.elements).forEach(function(f){var v=u.styles[f]||{},L=u.attributes[f]||{},V=u.elements[f];tt(V)&&gn(V)&&(Object.assign(V.style,v),Object.keys(L).forEach(function($){var q=L[$];q===!1?V.removeAttribute($):V.setAttribute($,q===!0?"":q)}))})},effect:function(g){var u=g.state,f={popper:{position:u.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(u.elements.popper.style,f.popper),u.styles=f,u.elements.arrow&&Object.assign(u.elements.arrow.style,f.arrow),function(){Object.keys(u.elements).forEach(function(v){var L=u.elements[v],V=u.attributes[v]||{},$=Object.keys(u.styles.hasOwnProperty(v)?u.styles[v]:f[v]).reduce(function(q,X){return q[X]="",q},{});tt(L)&&gn(L)&&(Object.assign(L.style,$),Object.keys(V).forEach(function(q){L.removeAttribute(q)}))})}},requires:["computeStyles"]};function _n(g){return g.split("-")[0]}var ke=Math.max,Or=Math.min,Rn=Math.round;function Dr(){var g=navigator.userAgentData;return g!=null&&g.brands&&Array.isArray(g.brands)?g.brands.map(function(u){return u.brand+"/"+u.version}).join(" "):navigator.userAgent}function qu(){return!/^((?!chrome|android).)*safari/i.test(Dr())}function Lr(g,u,f){u===void 0&&(u=!1),f===void 0&&(f=!1);var v=g.getBoundingClientRect(),L=1,V=1;u&&tt(g)&&(L=g.offsetWidth>0&&Rn(v.width)/g.offsetWidth||1,V=g.offsetHeight>0&&Rn(v.height)/g.offsetHeight||1);var $=(Xt(g)?Yt(g):window).visualViewport,q=!qu()&&f,X=(v.left+(q&&$?$.offsetLeft:0))/L,te=(v.top+(q&&$?$.offsetTop:0))/V,re=v.width/L,Z=v.height/V;return{width:re,height:Z,top:te,right:X+re,bottom:te+Z,left:X,x:X,y:te}}function Wa(g){var u=Lr(g),f=g.offsetWidth,v=g.offsetHeight;return Math.abs(u.width-f)<=1&&(f=u.width),Math.abs(u.height-v)<=1&&(v=u.height),{x:g.offsetLeft,y:g.offsetTop,width:f,height:v}}function Hu(g,u){var f=u.getRootNode&&u.getRootNode();if(g.contains(u))return!0;if(f&&gi(f)){var v=u;do{if(v&&g.isSameNode(v))return!0;v=v.parentNode||v.host}while(v)}return!1}function Gn(g){return Yt(g).getComputedStyle(g)}function Fd(g){return["table","td","th"].indexOf(gn(g))>=0}function ln(g){return((Xt(g)?g.ownerDocument:g.document)||window.document).documentElement}function yn(g){return gn(g)==="html"?g:g.assignedSlot||g.parentNode||(gi(g)?g.host:null)||ln(g)}function qa(g){return tt(g)&&Gn(g).position!=="fixed"?g.offsetParent:null}function yi(g){for(var u=Yt(g),f=qa(g);f&&Fd(f)&&Gn(f).position==="static";)f=qa(f);return f&&(gn(f)==="html"||gn(f)==="body"&&Gn(f).position==="static")?u:f||function(v){var L=/firefox/i.test(Dr());if(/Trident/i.test(Dr())&&tt(v)&&Gn(v).position==="fixed")return null;var V=yn(v);for(gi(V)&&(V=V.host);tt(V)&&["html","body"].indexOf(gn(V))<0;){var $=Gn(V);if($.transform!=="none"||$.perspective!=="none"||$.contain==="paint"||["transform","perspective"].indexOf($.willChange)!==-1||L&&$.willChange==="filter"||L&&$.filter&&$.filter!=="none")return V;V=V.parentNode}return null}(g)||u}function wo(g){return["top","bottom"].indexOf(g)>=0?"x":"y"}function bn(g,u,f){return ke(g,Or(u,f))}function Ku(g){return Object.assign({},{top:0,right:0,bottom:0,left:0},g)}function Gu(g,u){return u.reduce(function(f,v){return f[v]=g,f},{})}const Qu={name:"arrow",enabled:!0,phase:"main",fn:function(g){var u,f=g.state,v=g.name,L=g.options,V=f.elements.arrow,$=f.modifiersData.popperOffsets,q=_n(f.placement),X=wo(q),te=[pt,bt].indexOf(q)>=0?"height":"width";if(V&&$){var re=function(je,De){return Ku(typeof(je=typeof je=="function"?je(Object.assign({},De.rects,{placement:De.placement})):je)!="number"?je:Gu(je,xr))}(L.padding,f),Z=Wa(V),ye=X==="y"?wt:pt,le=X==="y"?jt:bt,fe=f.rects.reference[te]+f.rects.reference[X]-$[X]-f.rects.popper[te],he=$[X]-f.rects.reference[X],pe=yi(V),Me=pe?X==="y"?pe.clientHeight||0:pe.clientWidth||0:0,Be=fe/2-he/2,we=re[ye],xe=Me-Z[te]-re[le],ve=Me/2-Z[te]/2+Be,Se=bn(we,ve,xe),Oe=X;f.modifiersData[v]=((u={})[Oe]=Se,u.centerOffset=Se-ve,u)}},effect:function(g){var u=g.state,f=g.options.element,v=f===void 0?"[data-popper-arrow]":f;v!=null&&(typeof v!="string"||(v=u.elements.popper.querySelector(v)))&&Hu(u.elements.popper,v)&&(u.elements.arrow=v)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Jt(g){return g.split("-")[1]}var Ud={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Yu(g){var u,f=g.popper,v=g.popperRect,L=g.placement,V=g.variation,$=g.offsets,q=g.position,X=g.gpuAcceleration,te=g.adaptive,re=g.roundOffsets,Z=g.isFixed,ye=$.x,le=ye===void 0?0:ye,fe=$.y,he=fe===void 0?0:fe,pe=typeof re=="function"?re({x:le,y:he}):{x:le,y:he};le=pe.x,he=pe.y;var Me=$.hasOwnProperty("x"),Be=$.hasOwnProperty("y"),we=pt,xe=wt,ve=window;if(te){var Se=yi(f),Oe="clientHeight",je="clientWidth";Se===Yt(f)&&Gn(Se=ln(f)).position!=="static"&&q==="absolute"&&(Oe="scrollHeight",je="scrollWidth"),(L===wt||(L===pt||L===bt)&&V===Kn)&&(xe=jt,he-=(Z&&Se===ve&&ve.visualViewport?ve.visualViewport.height:Se[Oe])-v.height,he*=X?1:-1),L!==pt&&(L!==wt&&L!==jt||V!==Kn)||(we=bt,le-=(Z&&Se===ve&&ve.visualViewport?ve.visualViewport.width:Se[je])-v.width,le*=X?1:-1)}var De,ot=Object.assign({position:q},te&&Ud),vn=re===!0?function(Yn,en){var Nn=Yn.x,On=Yn.y,nt=en.devicePixelRatio||1;return{x:Rn(Nn*nt)/nt||0,y:Rn(On*nt)/nt||0}}({x:le,y:he},Yt(f)):{x:le,y:he};return le=vn.x,he=vn.y,X?Object.assign({},ot,((De={})[xe]=Be?"0":"",De[we]=Me?"0":"",De.transform=(ve.devicePixelRatio||1)<=1?"translate("+le+"px, "+he+"px)":"translate3d("+le+"px, "+he+"px, 0)",De)):Object.assign({},ot,((u={})[xe]=Be?he+"px":"",u[we]=Me?le+"px":"",u.transform="",u))}const vi={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(g){var u=g.state,f=g.options,v=f.gpuAcceleration,L=v===void 0||v,V=f.adaptive,$=V===void 0||V,q=f.roundOffsets,X=q===void 0||q,te={placement:_n(u.placement),variation:Jt(u.placement),popper:u.elements.popper,popperRect:u.rects.popper,gpuAcceleration:L,isFixed:u.options.strategy==="fixed"};u.modifiersData.popperOffsets!=null&&(u.styles.popper=Object.assign({},u.styles.popper,Yu(Object.assign({},te,{offsets:u.modifiersData.popperOffsets,position:u.options.strategy,adaptive:$,roundOffsets:X})))),u.modifiersData.arrow!=null&&(u.styles.arrow=Object.assign({},u.styles.arrow,Yu(Object.assign({},te,{offsets:u.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:X})))),u.attributes.popper=Object.assign({},u.attributes.popper,{"data-popper-placement":u.placement})},data:{}};var Vr={passive:!0};const Eo={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(g){var u=g.state,f=g.instance,v=g.options,L=v.scroll,V=L===void 0||L,$=v.resize,q=$===void 0||$,X=Yt(u.elements.popper),te=[].concat(u.scrollParents.reference,u.scrollParents.popper);return V&&te.forEach(function(re){re.addEventListener("scroll",f.update,Vr)}),q&&X.addEventListener("resize",f.update,Vr),function(){V&&te.forEach(function(re){re.removeEventListener("scroll",f.update,Vr)}),q&&X.removeEventListener("resize",f.update,Vr)}},data:{}};var ws={left:"right",right:"left",bottom:"top",top:"bottom"};function hr(g){return g.replace(/left|right|bottom|top/g,function(u){return ws[u]})}var Xu={start:"end",end:"start"};function To(g){return g.replace(/start|end/g,function(u){return Xu[u]})}function Ue(g){var u=Yt(g);return{scrollLeft:u.pageXOffset,scrollTop:u.pageYOffset}}function Ha(g){return Lr(ln(g)).left+Ue(g).scrollLeft}function Ka(g){var u=Gn(g),f=u.overflow,v=u.overflowX,L=u.overflowY;return/auto|scroll|overlay|hidden/.test(f+L+v)}function Ga(g){return["html","body","#document"].indexOf(gn(g))>=0?g.ownerDocument.body:tt(g)&&Ka(g)?g:Ga(yn(g))}function wi(g,u){var f;u===void 0&&(u=[]);var v=Ga(g),L=v===((f=g.ownerDocument)==null?void 0:f.body),V=Yt(v),$=L?[V].concat(V.visualViewport||[],Ka(v)?v:[]):v,q=u.concat($);return L?q:q.concat(wi(yn($)))}function Io(g){return Object.assign({},g,{left:g.x,top:g.y,right:g.x+g.width,bottom:g.y+g.height})}function Es(g,u,f){return u===ys?Io(function(v,L){var V=Yt(v),$=ln(v),q=V.visualViewport,X=$.clientWidth,te=$.clientHeight,re=0,Z=0;if(q){X=q.width,te=q.height;var ye=qu();(ye||!ye&&L==="fixed")&&(re=q.offsetLeft,Z=q.offsetTop)}return{width:X,height:te,x:re+Ha(v),y:Z}}(g,f)):Xt(u)?function(v,L){var V=Lr(v,!1,L==="fixed");return V.top=V.top+v.clientTop,V.left=V.left+v.clientLeft,V.bottom=V.top+v.clientHeight,V.right=V.left+v.clientWidth,V.width=v.clientWidth,V.height=v.clientHeight,V.x=V.left,V.y=V.top,V}(u,f):Io(function(v){var L,V=ln(v),$=Ue(v),q=(L=v.ownerDocument)==null?void 0:L.body,X=ke(V.scrollWidth,V.clientWidth,q?q.scrollWidth:0,q?q.clientWidth:0),te=ke(V.scrollHeight,V.clientHeight,q?q.scrollHeight:0,q?q.clientHeight:0),re=-$.scrollLeft+Ha(v),Z=-$.scrollTop;return Gn(q||V).direction==="rtl"&&(re+=ke(V.clientWidth,q?q.clientWidth:0)-X),{width:X,height:te,x:re,y:Z}}(ln(g)))}function Qa(g){var u,f=g.reference,v=g.element,L=g.placement,V=L?_n(L):null,$=L?Jt(L):null,q=f.x+f.width/2-v.width/2,X=f.y+f.height/2-v.height/2;switch(V){case wt:u={x:q,y:f.y-v.height};break;case jt:u={x:q,y:f.y+f.height};break;case bt:u={x:f.x+f.width,y:X};break;case pt:u={x:f.x-v.width,y:X};break;default:u={x:f.x,y:f.y}}var te=V?wo(V):null;if(te!=null){var re=te==="y"?"height":"width";switch($){case Nr:u[te]=u[te]-(f[re]/2-v[re]/2);break;case Kn:u[te]=u[te]+(f[re]/2-v[re]/2)}}return u}function Ft(g,u){u===void 0&&(u={});var f=u,v=f.placement,L=v===void 0?g.placement:v,V=f.strategy,$=V===void 0?g.strategy:V,q=f.boundary,X=q===void 0?Va:q,te=f.rootBoundary,re=te===void 0?ys:te,Z=f.elementContext,ye=Z===void 0?kn:Z,le=f.altBoundary,fe=le!==void 0&&le,he=f.padding,pe=he===void 0?0:he,Me=Ku(typeof pe!="number"?pe:Gu(pe,xr)),Be=ye===kn?cr:kn,we=g.rects.popper,xe=g.elements[fe?Be:ye],ve=function(en,Nn,On,nt){var fr=Nn==="clippingParents"?function(Fe){var tn=wi(yn(Fe)),Dn=["absolute","fixed"].indexOf(Gn(Fe).position)>=0&&tt(Fe)?yi(Fe):Fe;return Xt(Dn)?tn.filter(function(Ai){return Xt(Ai)&&Hu(Ai,Dn)&&gn(Ai)!=="body"}):[]}(en):[].concat(Nn),pr=[].concat(fr,[On]),bo=pr[0],St=pr.reduce(function(Fe,tn){var Dn=Es(en,tn,nt);return Fe.top=ke(Dn.top,Fe.top),Fe.right=Or(Dn.right,Fe.right),Fe.bottom=Or(Dn.bottom,Fe.bottom),Fe.left=ke(Dn.left,Fe.left),Fe},Es(en,bo,nt));return St.width=St.right-St.left,St.height=St.bottom-St.top,St.x=St.left,St.y=St.top,St}(Xt(xe)?xe:xe.contextElement||ln(g.elements.popper),X,re,$),Se=Lr(g.elements.reference),Oe=Qa({reference:Se,element:we,placement:L}),je=Io(Object.assign({},we,Oe)),De=ye===kn?je:Se,ot={top:ve.top-De.top+Me.top,bottom:De.bottom-ve.bottom+Me.bottom,left:ve.left-De.left+Me.left,right:De.right-ve.right+Me.right},vn=g.modifiersData.offset;if(ye===kn&&vn){var Yn=vn[L];Object.keys(ot).forEach(function(en){var Nn=[bt,jt].indexOf(en)>=0?1:-1,On=[wt,jt].indexOf(en)>=0?"y":"x";ot[en]+=Yn[On]*Nn})}return ot}function Ju(g,u){u===void 0&&(u={});var f=u,v=f.placement,L=f.boundary,V=f.rootBoundary,$=f.padding,q=f.flipVariations,X=f.allowedAutoPlacements,te=X===void 0?Ma:X,re=Jt(v),Z=re?q?vs:vs.filter(function(fe){return Jt(fe)===re}):xr,ye=Z.filter(function(fe){return te.indexOf(fe)>=0});ye.length===0&&(ye=Z);var le=ye.reduce(function(fe,he){return fe[he]=Ft(g,{placement:he,boundary:L,rootBoundary:V,padding:$})[_n(he)],fe},{});return Object.keys(le).sort(function(fe,he){return le[fe]-le[he]})}const Zu={name:"flip",enabled:!0,phase:"main",fn:function(g){var u=g.state,f=g.options,v=g.name;if(!u.modifiersData[v]._skip){for(var L=f.mainAxis,V=L===void 0||L,$=f.altAxis,q=$===void 0||$,X=f.fallbackPlacements,te=f.padding,re=f.boundary,Z=f.rootBoundary,ye=f.altBoundary,le=f.flipVariations,fe=le===void 0||le,he=f.allowedAutoPlacements,pe=u.options.placement,Me=_n(pe),Be=X||(Me!==pe&&fe?function(Fe){if(_n(Fe)===_s)return[];var tn=hr(Fe);return[To(Fe),tn,To(tn)]}(pe):[hr(pe)]),we=[pe].concat(Be).reduce(function(Fe,tn){return Fe.concat(_n(tn)===_s?Ju(u,{placement:tn,boundary:re,rootBoundary:Z,padding:te,flipVariations:fe,allowedAutoPlacements:he}):tn)},[]),xe=u.rects.reference,ve=u.rects.popper,Se=new Map,Oe=!0,je=we[0],De=0;De<we.length;De++){var ot=we[De],vn=_n(ot),Yn=Jt(ot)===Nr,en=[wt,jt].indexOf(vn)>=0,Nn=en?"width":"height",On=Ft(u,{placement:ot,boundary:re,rootBoundary:Z,altBoundary:ye,padding:te}),nt=en?Yn?bt:pt:Yn?jt:wt;xe[Nn]>ve[Nn]&&(nt=hr(nt));var fr=hr(nt),pr=[];if(V&&pr.push(On[vn]<=0),q&&pr.push(On[nt]<=0,On[fr]<=0),pr.every(function(Fe){return Fe})){je=ot,Oe=!1;break}Se.set(ot,pr)}if(Oe)for(var bo=function(Fe){var tn=we.find(function(Dn){var Ai=Se.get(Dn);if(Ai)return Ai.slice(0,Fe).every(function(cc){return cc})});if(tn)return je=tn,"break"},St=fe?3:1;St>0&&bo(St)!=="break";St--);u.placement!==je&&(u.modifiersData[v]._skip=!0,u.placement=je,u.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Ei(g,u,f){return f===void 0&&(f={x:0,y:0}),{top:g.top-u.height-f.y,right:g.right-u.width+f.x,bottom:g.bottom-u.height+f.y,left:g.left-u.width-f.x}}function Ya(g){return[wt,bt,jt,pt].some(function(u){return g[u]>=0})}const So={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(g){var u=g.state,f=g.name,v=u.rects.reference,L=u.rects.popper,V=u.modifiersData.preventOverflow,$=Ft(u,{elementContext:"reference"}),q=Ft(u,{altBoundary:!0}),X=Ei($,v),te=Ei(q,L,V),re=Ya(X),Z=Ya(te);u.modifiersData[f]={referenceClippingOffsets:X,popperEscapeOffsets:te,isReferenceHidden:re,hasPopperEscaped:Z},u.attributes.popper=Object.assign({},u.attributes.popper,{"data-popper-reference-hidden":re,"data-popper-escaped":Z})}},Ts={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(g){var u=g.state,f=g.options,v=g.name,L=f.offset,V=L===void 0?[0,0]:L,$=Ma.reduce(function(re,Z){return re[Z]=function(ye,le,fe){var he=_n(ye),pe=[pt,wt].indexOf(he)>=0?-1:1,Me=typeof fe=="function"?fe(Object.assign({},le,{placement:ye})):fe,Be=Me[0],we=Me[1];return Be=Be||0,we=(we||0)*pe,[pt,bt].indexOf(he)>=0?{x:we,y:Be}:{x:Be,y:we}}(Z,u.rects,V),re},{}),q=$[u.placement],X=q.x,te=q.y;u.modifiersData.popperOffsets!=null&&(u.modifiersData.popperOffsets.x+=X,u.modifiersData.popperOffsets.y+=te),u.modifiersData[v]=$}},Ao={name:"popperOffsets",enabled:!0,phase:"read",fn:function(g){var u=g.state,f=g.name;u.modifiersData[f]=Qa({reference:u.rects.reference,element:u.rects.popper,placement:u.placement})},data:{}},Is={name:"preventOverflow",enabled:!0,phase:"main",fn:function(g){var u=g.state,f=g.options,v=g.name,L=f.mainAxis,V=L===void 0||L,$=f.altAxis,q=$!==void 0&&$,X=f.boundary,te=f.rootBoundary,re=f.altBoundary,Z=f.padding,ye=f.tether,le=ye===void 0||ye,fe=f.tetherOffset,he=fe===void 0?0:fe,pe=Ft(u,{boundary:X,rootBoundary:te,padding:Z,altBoundary:re}),Me=_n(u.placement),Be=Jt(u.placement),we=!Be,xe=wo(Me),ve=xe==="x"?"y":"x",Se=u.modifiersData.popperOffsets,Oe=u.rects.reference,je=u.rects.popper,De=typeof he=="function"?he(Object.assign({},u.rects,{placement:u.placement})):he,ot=typeof De=="number"?{mainAxis:De,altAxis:De}:Object.assign({mainAxis:0,altAxis:0},De),vn=u.modifiersData.offset?u.modifiersData.offset[u.placement]:null,Yn={x:0,y:0};if(Se){if(V){var en,Nn=xe==="y"?wt:pt,On=xe==="y"?jt:bt,nt=xe==="y"?"height":"width",fr=Se[xe],pr=fr+pe[Nn],bo=fr-pe[On],St=le?-je[nt]/2:0,Fe=Be===Nr?Oe[nt]:je[nt],tn=Be===Nr?-je[nt]:-Oe[nt],Dn=u.elements.arrow,Ai=le&&Dn?Wa(Dn):{width:0,height:0},cc=u.modifiersData["arrow#persistent"]?u.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},b_=cc[Nn],x_=cc[On],hc=bn(0,Oe[nt],Ai[nt]),DA=we?Oe[nt]/2-St-hc-b_-ot.mainAxis:Fe-hc-b_-ot.mainAxis,LA=we?-Oe[nt]/2+St+hc+x_+ot.mainAxis:tn+hc+x_+ot.mainAxis,Jd=u.elements.arrow&&yi(u.elements.arrow),VA=Jd?xe==="y"?Jd.clientTop||0:Jd.clientLeft||0:0,N_=(en=vn==null?void 0:vn[xe])!=null?en:0,MA=fr+LA-N_,O_=bn(le?Or(pr,fr+DA-N_-VA):pr,fr,le?ke(bo,MA):bo);Se[xe]=O_,Yn[xe]=O_-fr}if(q){var D_,jA=xe==="x"?wt:pt,FA=xe==="x"?jt:bt,Ns=Se[ve],dc=ve==="y"?"height":"width",L_=Ns+pe[jA],V_=Ns-pe[FA],Zd=[wt,pt].indexOf(Me)!==-1,M_=(D_=vn==null?void 0:vn[ve])!=null?D_:0,j_=Zd?L_:Ns-Oe[dc]-je[dc]-M_+ot.altAxis,F_=Zd?Ns+Oe[dc]+je[dc]-M_-ot.altAxis:V_,U_=le&&Zd?function(UA,BA,ef){var B_=bn(UA,BA,ef);return B_>ef?ef:B_}(j_,Ns,F_):bn(le?j_:L_,Ns,le?F_:V_);Se[ve]=U_,Yn[ve]=U_-Ns}u.modifiersData[v]=Yn}},requiresIfExists:["offset"]};function Bd(g,u,f){f===void 0&&(f=!1);var v,L,V=tt(u),$=tt(u)&&function(Z){var ye=Z.getBoundingClientRect(),le=Rn(ye.width)/Z.offsetWidth||1,fe=Rn(ye.height)/Z.offsetHeight||1;return le!==1||fe!==1}(u),q=ln(u),X=Lr(g,$,f),te={scrollLeft:0,scrollTop:0},re={x:0,y:0};return(V||!V&&!f)&&((gn(u)!=="body"||Ka(q))&&(te=(v=u)!==Yt(v)&&tt(v)?{scrollLeft:(L=v).scrollLeft,scrollTop:L.scrollTop}:Ue(v)),tt(u)?((re=Lr(u,!0)).x+=u.clientLeft,re.y+=u.clientTop):q&&(re.x=Ha(q))),{x:X.left+te.scrollLeft-re.x,y:X.top+te.scrollTop-re.y,width:X.width,height:X.height}}function ec(g){var u=new Map,f=new Set,v=[];function L(V){f.add(V.name),[].concat(V.requires||[],V.requiresIfExists||[]).forEach(function($){if(!f.has($)){var q=u.get($);q&&L(q)}}),v.push(V)}return g.forEach(function(V){u.set(V.name,V)}),g.forEach(function(V){f.has(V.name)||L(V)}),v}var Ti={placement:"bottom",modifiers:[],strategy:"absolute"};function Xa(){for(var g=arguments.length,u=new Array(g),f=0;f<g;f++)u[f]=arguments[f];return!u.some(function(v){return!(v&&typeof v.getBoundingClientRect=="function")})}function Ss(g){g===void 0&&(g={});var u=g,f=u.defaultModifiers,v=f===void 0?[]:f,L=u.defaultOptions,V=L===void 0?Ti:L;return function($,q,X){X===void 0&&(X=V);var te,re,Z={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ti,V),modifiersData:{},elements:{reference:$,popper:q},attributes:{},styles:{}},ye=[],le=!1,fe={state:Z,setOptions:function(pe){var Me=typeof pe=="function"?pe(Z.options):pe;he(),Z.options=Object.assign({},V,Z.options,Me),Z.scrollParents={reference:Xt($)?wi($):$.contextElement?wi($.contextElement):[],popper:wi(q)};var Be,we,xe=function(ve){var Se=ec(ve);return za.reduce(function(Oe,je){return Oe.concat(Se.filter(function(De){return De.phase===je}))},[])}((Be=[].concat(v,Z.options.modifiers),we=Be.reduce(function(ve,Se){var Oe=ve[Se.name];return ve[Se.name]=Oe?Object.assign({},Oe,Se,{options:Object.assign({},Oe.options,Se.options),data:Object.assign({},Oe.data,Se.data)}):Se,ve},{}),Object.keys(we).map(function(ve){return we[ve]})));return Z.orderedModifiers=xe.filter(function(ve){return ve.enabled}),Z.orderedModifiers.forEach(function(ve){var Se=ve.name,Oe=ve.options,je=Oe===void 0?{}:Oe,De=ve.effect;if(typeof De=="function"){var ot=De({state:Z,name:Se,instance:fe,options:je});ye.push(ot||function(){})}}),fe.update()},forceUpdate:function(){if(!le){var pe=Z.elements,Me=pe.reference,Be=pe.popper;if(Xa(Me,Be)){Z.rects={reference:Bd(Me,yi(Be),Z.options.strategy==="fixed"),popper:Wa(Be)},Z.reset=!1,Z.placement=Z.options.placement,Z.orderedModifiers.forEach(function(De){return Z.modifiersData[De.name]=Object.assign({},De.data)});for(var we=0;we<Z.orderedModifiers.length;we++)if(Z.reset!==!0){var xe=Z.orderedModifiers[we],ve=xe.fn,Se=xe.options,Oe=Se===void 0?{}:Se,je=xe.name;typeof ve=="function"&&(Z=ve({state:Z,options:Oe,name:je,instance:fe})||Z)}else Z.reset=!1,we=-1}}},update:(te=function(){return new Promise(function(pe){fe.forceUpdate(),pe(Z)})},function(){return re||(re=new Promise(function(pe){Promise.resolve().then(function(){re=void 0,pe(te())})})),re}),destroy:function(){he(),le=!0}};if(!Xa($,q))return fe;function he(){ye.forEach(function(pe){return pe()}),ye=[]}return fe.setOptions(X).then(function(pe){!le&&X.onFirstUpdate&&X.onFirstUpdate(pe)}),fe}}var Ja=Ss(),Za=Ss({defaultModifiers:[Eo,Ao,vi,_i]}),Co=Ss({defaultModifiers:[Eo,Ao,vi,_i,Ts,Zu,Is,Qu,So]});const As=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Ba,afterRead:Ua,afterWrite:Wu,applyStyles:_i,arrow:Qu,auto:_s,basePlacements:xr,beforeMain:yo,beforeRead:ja,beforeWrite:$a,bottom:jt,clippingParents:Va,computeStyles:vi,createPopper:Co,createPopperBase:Ja,createPopperLite:Za,detectOverflow:Ft,end:Kn,eventListeners:Eo,flip:Zu,hide:So,left:pt,main:vo,modifierPhases:za,offset:Ts,placements:Ma,popper:kn,popperGenerator:Ss,popperOffsets:Ao,preventOverflow:Is,read:Fa,reference:cr,right:bt,start:Nr,top:wt,variationPlacements:vs,viewport:ys,write:zu},Symbol.toStringTag,{value:"Module"})),el="dropdown",dr=".bs.dropdown",Qn=".data-api",tc="ArrowUp",tl="ArrowDown",nc=`hide${dr}`,rc=`hidden${dr}`,Po=`show${dr}`,Zt=`shown${dr}`,nl=`click${dr}${Qn}`,rl=`keydown${dr}${Qn}`,Ii=`keyup${dr}${Qn}`,a="show",d='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',p=`${d}.${a}`,w=".dropdown-menu",j=D()?"top-end":"top-start",B=D()?"top-start":"top-end",Y=D()?"bottom-end":"bottom-start",Ne=D()?"bottom-start":"bottom-end",mt=D()?"left-start":"right-start",Ce=D()?"right-start":"left-start",Et={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Tt={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class It extends Ge{constructor(u,f){super(u,f),this._popper=null,this._parent=this._element.parentNode,this._menu=se.next(this._element,w)[0]||se.prev(this._element,w)[0]||se.findOne(w,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Et}static get DefaultType(){return Tt}static get NAME(){return el}toggle(){return this._isShown()?this.hide():this.show()}show(){if(m(this._element)||this._isShown())return;const u={relatedTarget:this._element};if(!U.trigger(this._element,Po,u).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const f of[].concat(...document.body.children))U.on(f,"mouseover",y);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(a),this._element.classList.add(a),U.trigger(this._element,Zt,u)}}hide(){if(m(this._element)||!this._isShown())return;const u={relatedTarget:this._element};this._completeHide(u)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(u){if(!U.trigger(this._element,nc,u).defaultPrevented){if("ontouchstart"in document.documentElement)for(const f of[].concat(...document.body.children))U.off(f,"mouseover",y);this._popper&&this._popper.destroy(),this._menu.classList.remove(a),this._element.classList.remove(a),this._element.setAttribute("aria-expanded","false"),ze.removeDataAttribute(this._menu,"popper"),U.trigger(this._element,rc,u)}}_getConfig(u){if(typeof(u=super._getConfig(u)).reference=="object"&&!l(u.reference)&&typeof u.reference.getBoundingClientRect!="function")throw new TypeError(`${el.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return u}_createPopper(){if(As===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let u=this._element;this._config.reference==="parent"?u=this._parent:l(this._config.reference)?u=c(this._config.reference):typeof this._config.reference=="object"&&(u=this._config.reference);const f=this._getPopperConfig();this._popper=Co(u,this._menu,f)}_isShown(){return this._menu.classList.contains(a)}_getPlacement(){const u=this._parent;if(u.classList.contains("dropend"))return mt;if(u.classList.contains("dropstart"))return Ce;if(u.classList.contains("dropup-center"))return"top";if(u.classList.contains("dropdown-center"))return"bottom";const f=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return u.classList.contains("dropup")?f?B:j:f?Ne:Y}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:u}=this._config;return typeof u=="string"?u.split(",").map(f=>Number.parseInt(f,10)):typeof u=="function"?f=>u(f,this._element):u}_getPopperConfig(){const u={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(ze.setDataAttribute(this._menu,"popper","static"),u.modifiers=[{name:"applyStyles",enabled:!1}]),{...u,...I(this._config.popperConfig,[void 0,u])}}_selectMenuItem({key:u,target:f}){const v=se.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(L=>h(L));v.length&&F(v,f,u===tl,!v.includes(f)).focus()}static jQueryInterface(u){return this.each(function(){const f=It.getOrCreateInstance(this,u);if(typeof u=="string"){if(f[u]===void 0)throw new TypeError(`No method named "${u}"`);f[u]()}})}static clearMenus(u){if(u.button===2||u.type==="keyup"&&u.key!=="Tab")return;const f=se.find(p);for(const v of f){const L=It.getInstance(v);if(!L||L._config.autoClose===!1)continue;const V=u.composedPath(),$=V.includes(L._menu);if(V.includes(L._element)||L._config.autoClose==="inside"&&!$||L._config.autoClose==="outside"&&$||L._menu.contains(u.target)&&(u.type==="keyup"&&u.key==="Tab"||/input|select|option|textarea|form/i.test(u.target.tagName)))continue;const q={relatedTarget:L._element};u.type==="click"&&(q.clickEvent=u),L._completeHide(q)}}static dataApiKeydownHandler(u){const f=/input|textarea/i.test(u.target.tagName),v=u.key==="Escape",L=[tc,tl].includes(u.key);if(!L&&!v||f&&!v)return;u.preventDefault();const V=this.matches(d)?this:se.prev(this,d)[0]||se.next(this,d)[0]||se.findOne(d,u.delegateTarget.parentNode),$=It.getOrCreateInstance(V);if(L)return u.stopPropagation(),$.show(),void $._selectMenuItem(u);$._isShown()&&(u.stopPropagation(),$.hide(),V.focus())}}U.on(document,rl,d,It.dataApiKeydownHandler),U.on(document,rl,w,It.dataApiKeydownHandler),U.on(document,nl,It.clearMenus),U.on(document,Ii,It.clearMenus),U.on(document,nl,d,function(g){g.preventDefault(),It.getOrCreateInstance(this).toggle()}),S(It);const un="backdrop",Cs="show",ko=`mousedown.bs.${un}`,TS={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},IS={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class t_ extends it{constructor(u){super(),this._config=this._getConfig(u),this._isAppended=!1,this._element=null}static get Default(){return TS}static get DefaultType(){return IS}static get NAME(){return un}show(u){if(!this._config.isVisible)return void I(u);this._append();const f=this._getElement();this._config.isAnimated&&k(f),f.classList.add(Cs),this._emulateAnimation(()=>{I(u)})}hide(u){this._config.isVisible?(this._getElement().classList.remove(Cs),this._emulateAnimation(()=>{this.dispose(),I(u)})):I(u)}dispose(){this._isAppended&&(U.off(this._element,ko),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const u=document.createElement("div");u.className=this._config.className,this._config.isAnimated&&u.classList.add("fade"),this._element=u}return this._element}_configAfterMerge(u){return u.rootElement=c(u.rootElement),u}_append(){if(this._isAppended)return;const u=this._getElement();this._config.rootElement.append(u),U.on(u,ko,()=>{I(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(u){C(u,this._getElement(),this._config.isAnimated)}}const ic=".bs.focustrap",SS=`focusin${ic}`,AS=`keydown.tab${ic}`,n_="backward",CS={autofocus:!0,trapElement:null},PS={autofocus:"boolean",trapElement:"element"};class r_ extends it{constructor(u){super(),this._config=this._getConfig(u),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return CS}static get DefaultType(){return PS}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),U.off(document,ic),U.on(document,SS,u=>this._handleFocusin(u)),U.on(document,AS,u=>this._handleKeydown(u)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,U.off(document,ic))}_handleFocusin(u){const{trapElement:f}=this._config;if(u.target===document||u.target===f||f.contains(u.target))return;const v=se.focusableChildren(f);v.length===0?f.focus():this._lastTabNavDirection===n_?v[v.length-1].focus():v[0].focus()}_handleKeydown(u){u.key==="Tab"&&(this._lastTabNavDirection=u.shiftKey?n_:"forward")}}const i_=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",s_=".sticky-top",sc="padding-right",o_="margin-right";class $d{constructor(){this._element=document.body}getWidth(){const u=document.documentElement.clientWidth;return Math.abs(window.innerWidth-u)}hide(){const u=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,sc,f=>f+u),this._setElementAttributes(i_,sc,f=>f+u),this._setElementAttributes(s_,o_,f=>f-u)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,sc),this._resetElementAttributes(i_,sc),this._resetElementAttributes(s_,o_)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(u,f,v){const L=this.getWidth();this._applyManipulationCallback(u,V=>{if(V!==this._element&&window.innerWidth>V.clientWidth+L)return;this._saveInitialAttribute(V,f);const $=window.getComputedStyle(V).getPropertyValue(f);V.style.setProperty(f,`${v(Number.parseFloat($))}px`)})}_saveInitialAttribute(u,f){const v=u.style.getPropertyValue(f);v&&ze.setDataAttribute(u,f,v)}_resetElementAttributes(u,f){this._applyManipulationCallback(u,v=>{const L=ze.getDataAttribute(v,f);L!==null?(ze.removeDataAttribute(v,f),v.style.setProperty(f,L)):v.style.removeProperty(f)})}_applyManipulationCallback(u,f){if(l(u))f(u);else for(const v of se.find(u,this._element))f(v)}}const xn=".bs.modal",kS=`hide${xn}`,RS=`hidePrevented${xn}`,a_=`hidden${xn}`,l_=`show${xn}`,bS=`shown${xn}`,xS=`resize${xn}`,NS=`click.dismiss${xn}`,OS=`mousedown.dismiss${xn}`,DS=`keydown.dismiss${xn}`,LS=`click${xn}.data-api`,u_="modal-open",c_="show",zd="modal-static",VS={backdrop:!0,focus:!0,keyboard:!0},MS={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Ps extends Ge{constructor(u,f){super(u,f),this._dialog=se.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new $d,this._addEventListeners()}static get Default(){return VS}static get DefaultType(){return MS}static get NAME(){return"modal"}toggle(u){return this._isShown?this.hide():this.show(u)}show(u){this._isShown||this._isTransitioning||U.trigger(this._element,l_,{relatedTarget:u}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(u_),this._adjustDialog(),this._backdrop.show(()=>this._showElement(u)))}hide(){this._isShown&&!this._isTransitioning&&(U.trigger(this._element,kS).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(c_),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){U.off(window,xn),U.off(this._dialog,xn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new t_({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new r_({trapElement:this._element})}_showElement(u){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const f=se.findOne(".modal-body",this._dialog);f&&(f.scrollTop=0),k(this._element),this._element.classList.add(c_),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,U.trigger(this._element,bS,{relatedTarget:u})},this._dialog,this._isAnimated())}_addEventListeners(){U.on(this._element,DS,u=>{u.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),U.on(window,xS,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),U.on(this._element,OS,u=>{U.one(this._element,NS,f=>{this._element===u.target&&this._element===f.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(u_),this._resetAdjustments(),this._scrollBar.reset(),U.trigger(this._element,a_)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(U.trigger(this._element,RS).defaultPrevented)return;const u=this._element.scrollHeight>document.documentElement.clientHeight,f=this._element.style.overflowY;f==="hidden"||this._element.classList.contains(zd)||(u||(this._element.style.overflowY="hidden"),this._element.classList.add(zd),this._queueCallback(()=>{this._element.classList.remove(zd),this._queueCallback(()=>{this._element.style.overflowY=f},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const u=this._element.scrollHeight>document.documentElement.clientHeight,f=this._scrollBar.getWidth(),v=f>0;if(v&&!u){const L=D()?"paddingLeft":"paddingRight";this._element.style[L]=`${f}px`}if(!v&&u){const L=D()?"paddingRight":"paddingLeft";this._element.style[L]=`${f}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(u,f){return this.each(function(){const v=Ps.getOrCreateInstance(this,u);if(typeof u=="string"){if(v[u]===void 0)throw new TypeError(`No method named "${u}"`);v[u](f)}})}}U.on(document,LS,'[data-bs-toggle="modal"]',function(g){const u=se.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&g.preventDefault(),U.one(u,l_,v=>{v.defaultPrevented||U.one(u,a_,()=>{h(this)&&this.focus()})});const f=se.findOne(".modal.show");f&&Ps.getInstance(f).hide(),Ps.getOrCreateInstance(u).toggle(this)}),oo(Ps),S(Ps);const Mr=".bs.offcanvas",h_=".data-api",jS=`load${Mr}${h_}`,d_="show",f_="showing",p_="hiding",m_=".offcanvas.show",FS=`show${Mr}`,US=`shown${Mr}`,BS=`hide${Mr}`,g_=`hidePrevented${Mr}`,__=`hidden${Mr}`,$S=`resize${Mr}`,zS=`click${Mr}${h_}`,WS=`keydown.dismiss${Mr}`,qS={backdrop:!0,keyboard:!0,scroll:!1},HS={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class jr extends Ge{constructor(u,f){super(u,f),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return qS}static get DefaultType(){return HS}static get NAME(){return"offcanvas"}toggle(u){return this._isShown?this.hide():this.show(u)}show(u){this._isShown||U.trigger(this._element,FS,{relatedTarget:u}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new $d().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(f_),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(d_),this._element.classList.remove(f_),U.trigger(this._element,US,{relatedTarget:u})},this._element,!0))}hide(){this._isShown&&(U.trigger(this._element,BS).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(p_),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(d_,p_),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new $d().reset(),U.trigger(this._element,__)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const u=!!this._config.backdrop;return new t_({className:"offcanvas-backdrop",isVisible:u,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:u?()=>{this._config.backdrop!=="static"?this.hide():U.trigger(this._element,g_)}:null})}_initializeFocusTrap(){return new r_({trapElement:this._element})}_addEventListeners(){U.on(this._element,WS,u=>{u.key==="Escape"&&(this._config.keyboard?this.hide():U.trigger(this._element,g_))})}static jQueryInterface(u){return this.each(function(){const f=jr.getOrCreateInstance(this,u);if(typeof u=="string"){if(f[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);f[u](this)}})}}U.on(document,zS,'[data-bs-toggle="offcanvas"]',function(g){const u=se.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&g.preventDefault(),m(this))return;U.one(u,__,()=>{h(this)&&this.focus()});const f=se.findOne(m_);f&&f!==u&&jr.getInstance(f).hide(),jr.getOrCreateInstance(u).toggle(this)}),U.on(window,jS,()=>{for(const g of se.find(m_))jr.getOrCreateInstance(g).show()}),U.on(window,$S,()=>{for(const g of se.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(g).position!=="fixed"&&jr.getOrCreateInstance(g).hide()}),oo(jr),S(jr);const y_={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},KS=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),GS=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,QS=(g,u)=>{const f=g.nodeName.toLowerCase();return u.includes(f)?!KS.has(f)||!!GS.test(g.nodeValue):u.filter(v=>v instanceof RegExp).some(v=>v.test(f))},YS={allowList:y_,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},XS={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},JS={entry:"(string|element|function|null)",selector:"(string|element)"};class ZS extends it{constructor(u){super(),this._config=this._getConfig(u)}static get Default(){return YS}static get DefaultType(){return XS}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(u=>this._resolvePossibleFunction(u)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(u){return this._checkContent(u),this._config.content={...this._config.content,...u},this}toHtml(){const u=document.createElement("div");u.innerHTML=this._maybeSanitize(this._config.template);for(const[L,V]of Object.entries(this._config.content))this._setContent(u,V,L);const f=u.children[0],v=this._resolvePossibleFunction(this._config.extraClass);return v&&f.classList.add(...v.split(" ")),f}_typeCheckConfig(u){super._typeCheckConfig(u),this._checkContent(u.content)}_checkContent(u){for(const[f,v]of Object.entries(u))super._typeCheckConfig({selector:f,entry:v},JS)}_setContent(u,f,v){const L=se.findOne(v,u);L&&((f=this._resolvePossibleFunction(f))?l(f)?this._putElementInTemplate(c(f),L):this._config.html?L.innerHTML=this._maybeSanitize(f):L.textContent=f:L.remove())}_maybeSanitize(u){return this._config.sanitize?function(f,v,L){if(!f.length)return f;if(L&&typeof L=="function")return L(f);const V=new window.DOMParser().parseFromString(f,"text/html"),$=[].concat(...V.body.querySelectorAll("*"));for(const q of $){const X=q.nodeName.toLowerCase();if(!Object.keys(v).includes(X)){q.remove();continue}const te=[].concat(...q.attributes),re=[].concat(v["*"]||[],v[X]||[]);for(const Z of te)QS(Z,re)||q.removeAttribute(Z.nodeName)}return V.body.innerHTML}(u,this._config.allowList,this._config.sanitizeFn):u}_resolvePossibleFunction(u){return I(u,[void 0,this])}_putElementInTemplate(u,f){if(this._config.html)return f.innerHTML="",void f.append(u);f.textContent=u.textContent}}const eA=new Set(["sanitize","allowList","sanitizeFn"]),Wd="fade",oc="show",tA=".tooltip-inner",v_=".modal",w_="hide.bs.modal",il="hover",qd="focus",nA={AUTO:"auto",TOP:"top",RIGHT:D()?"left":"right",BOTTOM:"bottom",LEFT:D()?"right":"left"},rA={allowList:y_,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},iA={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class ks extends Ge{constructor(u,f){if(As===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(u,f),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return rA}static get DefaultType(){return iA}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),U.off(this._element.closest(v_),w_,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const u=U.trigger(this._element,this.constructor.eventName("show")),f=(_(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(u.defaultPrevented||!f)return;this._disposePopper();const v=this._getTipElement();this._element.setAttribute("aria-describedby",v.getAttribute("id"));const{container:L}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(L.append(v),U.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(v),v.classList.add(oc),"ontouchstart"in document.documentElement)for(const V of[].concat(...document.body.children))U.on(V,"mouseover",y);this._queueCallback(()=>{U.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!U.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(oc),"ontouchstart"in document.documentElement)for(const u of[].concat(...document.body.children))U.off(u,"mouseover",y);this._activeTrigger.click=!1,this._activeTrigger[qd]=!1,this._activeTrigger[il]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),U.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(u){const f=this._getTemplateFactory(u).toHtml();if(!f)return null;f.classList.remove(Wd,oc),f.classList.add(`bs-${this.constructor.NAME}-auto`);const v=(L=>{do L+=Math.floor(1e6*Math.random());while(document.getElementById(L));return L})(this.constructor.NAME).toString();return f.setAttribute("id",v),this._isAnimated()&&f.classList.add(Wd),f}setContent(u){this._newContent=u,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(u){return this._templateFactory?this._templateFactory.changeContent(u):this._templateFactory=new ZS({...this._config,content:u,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[tA]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(u){return this.constructor.getOrCreateInstance(u.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Wd)}_isShown(){return this.tip&&this.tip.classList.contains(oc)}_createPopper(u){const f=I(this._config.placement,[this,u,this._element]),v=nA[f.toUpperCase()];return Co(this._element,u,this._getPopperConfig(v))}_getOffset(){const{offset:u}=this._config;return typeof u=="string"?u.split(",").map(f=>Number.parseInt(f,10)):typeof u=="function"?f=>u(f,this._element):u}_resolvePossibleFunction(u){return I(u,[this._element,this._element])}_getPopperConfig(u){const f={placement:u,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:v=>{this._getTipElement().setAttribute("data-popper-placement",v.state.placement)}}]};return{...f,...I(this._config.popperConfig,[void 0,f])}}_setListeners(){const u=this._config.trigger.split(" ");for(const f of u)if(f==="click")U.on(this._element,this.constructor.eventName("click"),this._config.selector,v=>{this._initializeOnDelegatedTarget(v).toggle()});else if(f!=="manual"){const v=f===il?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),L=f===il?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");U.on(this._element,v,this._config.selector,V=>{const $=this._initializeOnDelegatedTarget(V);$._activeTrigger[V.type==="focusin"?qd:il]=!0,$._enter()}),U.on(this._element,L,this._config.selector,V=>{const $=this._initializeOnDelegatedTarget(V);$._activeTrigger[V.type==="focusout"?qd:il]=$._element.contains(V.relatedTarget),$._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},U.on(this._element.closest(v_),w_,this._hideModalHandler)}_fixTitle(){const u=this._element.getAttribute("title");u&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",u),this._element.setAttribute("data-bs-original-title",u),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(u,f){clearTimeout(this._timeout),this._timeout=setTimeout(u,f)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(u){const f=ze.getDataAttributes(this._element);for(const v of Object.keys(f))eA.has(v)&&delete f[v];return u={...f,...typeof u=="object"&&u?u:{}},u=this._mergeConfigObj(u),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}_configAfterMerge(u){return u.container=u.container===!1?document.body:c(u.container),typeof u.delay=="number"&&(u.delay={show:u.delay,hide:u.delay}),typeof u.title=="number"&&(u.title=u.title.toString()),typeof u.content=="number"&&(u.content=u.content.toString()),u}_getDelegateConfig(){const u={};for(const[f,v]of Object.entries(this._config))this.constructor.Default[f]!==v&&(u[f]=v);return u.selector=!1,u.trigger="manual",u}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(u){return this.each(function(){const f=ks.getOrCreateInstance(this,u);if(typeof u=="string"){if(f[u]===void 0)throw new TypeError(`No method named "${u}"`);f[u]()}})}}S(ks);const sA=".popover-header",oA=".popover-body",aA={...ks.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},lA={...ks.DefaultType,content:"(null|string|element|function)"};class ac extends ks{static get Default(){return aA}static get DefaultType(){return lA}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[sA]:this._getTitle(),[oA]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(u){return this.each(function(){const f=ac.getOrCreateInstance(this,u);if(typeof u=="string"){if(f[u]===void 0)throw new TypeError(`No method named "${u}"`);f[u]()}})}}S(ac);const Hd=".bs.scrollspy",uA=`activate${Hd}`,E_=`click${Hd}`,cA=`load${Hd}.data-api`,Ro="active",Kd="[href]",T_=".nav-link",hA=`${T_}, .nav-item > ${T_}, .list-group-item`,dA={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},fA={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class sl extends Ge{constructor(u,f){super(u,f),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return dA}static get DefaultType(){return fA}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const u of this._observableSections.values())this._observer.observe(u)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(u){return u.target=c(u.target)||document.body,u.rootMargin=u.offset?`${u.offset}px 0px -30%`:u.rootMargin,typeof u.threshold=="string"&&(u.threshold=u.threshold.split(",").map(f=>Number.parseFloat(f))),u}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(U.off(this._config.target,E_),U.on(this._config.target,E_,Kd,u=>{const f=this._observableSections.get(u.target.hash);if(f){u.preventDefault();const v=this._rootElement||window,L=f.offsetTop-this._element.offsetTop;if(v.scrollTo)return void v.scrollTo({top:L,behavior:"smooth"});v.scrollTop=L}}))}_getNewObserver(){const u={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(f=>this._observerCallback(f),u)}_observerCallback(u){const f=$=>this._targetLinks.get(`#${$.target.id}`),v=$=>{this._previousScrollData.visibleEntryTop=$.target.offsetTop,this._process(f($))},L=(this._rootElement||document.documentElement).scrollTop,V=L>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=L;for(const $ of u){if(!$.isIntersecting){this._activeTarget=null,this._clearActiveClass(f($));continue}const q=$.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(V&&q){if(v($),!L)return}else V||q||v($)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const u=se.find(Kd,this._config.target);for(const f of u){if(!f.hash||m(f))continue;const v=se.findOne(decodeURI(f.hash),this._element);h(v)&&(this._targetLinks.set(decodeURI(f.hash),f),this._observableSections.set(f.hash,v))}}_process(u){this._activeTarget!==u&&(this._clearActiveClass(this._config.target),this._activeTarget=u,u.classList.add(Ro),this._activateParents(u),U.trigger(this._element,uA,{relatedTarget:u}))}_activateParents(u){if(u.classList.contains("dropdown-item"))se.findOne(".dropdown-toggle",u.closest(".dropdown")).classList.add(Ro);else for(const f of se.parents(u,".nav, .list-group"))for(const v of se.prev(f,hA))v.classList.add(Ro)}_clearActiveClass(u){u.classList.remove(Ro);const f=se.find(`${Kd}.${Ro}`,u);for(const v of f)v.classList.remove(Ro)}static jQueryInterface(u){return this.each(function(){const f=sl.getOrCreateInstance(this,u);if(typeof u=="string"){if(f[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);f[u]()}})}}U.on(window,cA,()=>{for(const g of se.find('[data-bs-spy="scroll"]'))sl.getOrCreateInstance(g)}),S(sl);const Rs=".bs.tab",pA=`hide${Rs}`,mA=`hidden${Rs}`,gA=`show${Rs}`,_A=`shown${Rs}`,yA=`click${Rs}`,vA=`keydown${Rs}`,wA=`load${Rs}`,EA="ArrowLeft",I_="ArrowRight",TA="ArrowUp",S_="ArrowDown",Gd="Home",A_="End",bs="active",C_="fade",Qd="show",P_=".dropdown-toggle",Yd=`:not(${P_})`,k_='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Xd=`.nav-link${Yd}, .list-group-item${Yd}, [role="tab"]${Yd}, ${k_}`,IA=`.${bs}[data-bs-toggle="tab"], .${bs}[data-bs-toggle="pill"], .${bs}[data-bs-toggle="list"]`;class xs extends Ge{constructor(u){super(u),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),U.on(this._element,vA,f=>this._keydown(f)))}static get NAME(){return"tab"}show(){const u=this._element;if(this._elemIsActive(u))return;const f=this._getActiveElem(),v=f?U.trigger(f,pA,{relatedTarget:u}):null;U.trigger(u,gA,{relatedTarget:f}).defaultPrevented||v&&v.defaultPrevented||(this._deactivate(f,u),this._activate(u,f))}_activate(u,f){u&&(u.classList.add(bs),this._activate(se.getElementFromSelector(u)),this._queueCallback(()=>{u.getAttribute("role")==="tab"?(u.removeAttribute("tabindex"),u.setAttribute("aria-selected",!0),this._toggleDropDown(u,!0),U.trigger(u,_A,{relatedTarget:f})):u.classList.add(Qd)},u,u.classList.contains(C_)))}_deactivate(u,f){u&&(u.classList.remove(bs),u.blur(),this._deactivate(se.getElementFromSelector(u)),this._queueCallback(()=>{u.getAttribute("role")==="tab"?(u.setAttribute("aria-selected",!1),u.setAttribute("tabindex","-1"),this._toggleDropDown(u,!1),U.trigger(u,mA,{relatedTarget:f})):u.classList.remove(Qd)},u,u.classList.contains(C_)))}_keydown(u){if(![EA,I_,TA,S_,Gd,A_].includes(u.key))return;u.stopPropagation(),u.preventDefault();const f=this._getChildren().filter(L=>!m(L));let v;if([Gd,A_].includes(u.key))v=f[u.key===Gd?0:f.length-1];else{const L=[I_,S_].includes(u.key);v=F(f,u.target,L,!0)}v&&(v.focus({preventScroll:!0}),xs.getOrCreateInstance(v).show())}_getChildren(){return se.find(Xd,this._parent)}_getActiveElem(){return this._getChildren().find(u=>this._elemIsActive(u))||null}_setInitialAttributes(u,f){this._setAttributeIfNotExists(u,"role","tablist");for(const v of f)this._setInitialAttributesOnChild(v)}_setInitialAttributesOnChild(u){u=this._getInnerElement(u);const f=this._elemIsActive(u),v=this._getOuterElement(u);u.setAttribute("aria-selected",f),v!==u&&this._setAttributeIfNotExists(v,"role","presentation"),f||u.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(u,"role","tab"),this._setInitialAttributesOnTargetPanel(u)}_setInitialAttributesOnTargetPanel(u){const f=se.getElementFromSelector(u);f&&(this._setAttributeIfNotExists(f,"role","tabpanel"),u.id&&this._setAttributeIfNotExists(f,"aria-labelledby",`${u.id}`))}_toggleDropDown(u,f){const v=this._getOuterElement(u);if(!v.classList.contains("dropdown"))return;const L=(V,$)=>{const q=se.findOne(V,v);q&&q.classList.toggle($,f)};L(P_,bs),L(".dropdown-menu",Qd),v.setAttribute("aria-expanded",f)}_setAttributeIfNotExists(u,f,v){u.hasAttribute(f)||u.setAttribute(f,v)}_elemIsActive(u){return u.classList.contains(bs)}_getInnerElement(u){return u.matches(Xd)?u:se.findOne(Xd,u)}_getOuterElement(u){return u.closest(".nav-item, .list-group-item")||u}static jQueryInterface(u){return this.each(function(){const f=xs.getOrCreateInstance(this);if(typeof u=="string"){if(f[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);f[u]()}})}}U.on(document,yA,k_,function(g){["A","AREA"].includes(this.tagName)&&g.preventDefault(),m(this)||xs.getOrCreateInstance(this).show()}),U.on(window,wA,()=>{for(const g of se.find(IA))xs.getOrCreateInstance(g)}),S(xs);const Si=".bs.toast",SA=`mouseover${Si}`,AA=`mouseout${Si}`,CA=`focusin${Si}`,PA=`focusout${Si}`,kA=`hide${Si}`,RA=`hidden${Si}`,bA=`show${Si}`,xA=`shown${Si}`,R_="hide",lc="show",uc="showing",NA={animation:"boolean",autohide:"boolean",delay:"number"},OA={animation:!0,autohide:!0,delay:5e3};class ol extends Ge{constructor(u,f){super(u,f),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return OA}static get DefaultType(){return NA}static get NAME(){return"toast"}show(){U.trigger(this._element,bA).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(R_),k(this._element),this._element.classList.add(lc,uc),this._queueCallback(()=>{this._element.classList.remove(uc),U.trigger(this._element,xA),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(U.trigger(this._element,kA).defaultPrevented||(this._element.classList.add(uc),this._queueCallback(()=>{this._element.classList.add(R_),this._element.classList.remove(uc,lc),U.trigger(this._element,RA)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(lc),super.dispose()}isShown(){return this._element.classList.contains(lc)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(u,f){switch(u.type){case"mouseover":case"mouseout":this._hasMouseInteraction=f;break;case"focusin":case"focusout":this._hasKeyboardInteraction=f}if(f)return void this._clearTimeout();const v=u.relatedTarget;this._element===v||this._element.contains(v)||this._maybeScheduleHide()}_setListeners(){U.on(this._element,SA,u=>this._onInteraction(u,!0)),U.on(this._element,AA,u=>this._onInteraction(u,!1)),U.on(this._element,CA,u=>this._onInteraction(u,!0)),U.on(this._element,PA,u=>this._onInteraction(u,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(u){return this.each(function(){const f=ol.getOrCreateInstance(this,u);if(typeof u=="string"){if(f[u]===void 0)throw new TypeError(`No method named "${u}"`);f[u](this)}})}}return oo(ol),S(ol),{Alert:Cr,Button:Pr,Carousel:br,Collapse:Qt,Dropdown:It,Modal:Ps,Offcanvas:jr,Popover:ac,ScrollSpy:sl,Tab:xs,Toast:ol,Tooltip:ks}})})(WL);$f.createRoot(document.getElementById("root")).render(T.jsx(Kr.StrictMode,{children:T.jsx(gR,{children:T.jsx(zL,{})})}));
